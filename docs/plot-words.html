<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="RによるKH Coder風の可視化のレシピ集">

<title>Cookbook to Draw KHCoder-like Visualizations Using R - 2&nbsp; 抽出語メニュー</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./preprocessing.html" rel="prev">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<script src="site_libs/d3-3.5.14/d3.min.js"></script>
<script src="site_libs/aweSOMwidget-binding-1.3/aweSOMwidget.js"></script>


<meta property="og:title" content="Cookbook to Draw KHCoder-like Visualizations Using R - 2&nbsp; 抽出語メニュー">
<meta property="og:description" content="RによるKH Coder風の可視化のレシピ集">
<meta property="og:image" content="https://paithiov909.github.io/textvis-recipes/cooking.png">
<meta property="og:site_name" content="Cookbook to Draw KHCoder-like Visualizations Using R">
<meta property="og:locale" content="ja">
<meta property="og:image:height" content="512">
<meta property="og:image:width" content="512">
<meta name="twitter:title" content="Cookbook to Draw KHCoder-like Visualizations Using R - 2&nbsp; 抽出語メニュー">
<meta name="twitter:description" content="RによるKH Coder風の可視化のレシピ集">
<meta name="twitter:image" content="https://paithiov909.github.io/textvis-recipes/cooking.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:image-height" content="512">
<meta name="twitter:image-width" content="512">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./plot-words.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">抽出語メニュー</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Cookbook to Draw KHCoder-like Visualizations Using R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/paithiov909/textvis-recipes" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preprocessing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">テキストの前処理</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./plot-words.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">抽出語メニュー</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#抽出語リストa.5.1" id="toc-抽出語リストa.5.1" class="nav-link active" data-scroll-target="#抽出語リストa.5.1"><span class="header-section-number">2.1</span> 抽出語リスト（A.5.1）</a></li>
  <li><a href="#出現回数の分布a.5.2" id="toc-出現回数の分布a.5.2" class="nav-link" data-scroll-target="#出現回数の分布a.5.2"><span class="header-section-number">2.2</span> 出現回数の分布（A.5.2）</a>
  <ul class="collapse">
  <li><a href="#度数分布表" id="toc-度数分布表" class="nav-link" data-scroll-target="#度数分布表"><span class="header-section-number">2.2.1</span> 度数分布表</a></li>
  <li><a href="#折れ線グラフ" id="toc-折れ線グラフ" class="nav-link" data-scroll-target="#折れ線グラフ"><span class="header-section-number">2.2.2</span> 折れ線グラフ</a></li>
  </ul></li>
  <li><a href="#文書数の分布a.5.3" id="toc-文書数の分布a.5.3" class="nav-link" data-scroll-target="#文書数の分布a.5.3"><span class="header-section-number">2.3</span> 文書数の分布（A.5.3）</a></li>
  <li><a href="#出現回数文書数のプロットa.5.4" id="toc-出現回数文書数のプロットa.5.4" class="nav-link" data-scroll-target="#出現回数文書数のプロットa.5.4"><span class="header-section-number">2.4</span> 出現回数・文書数のプロット（A.5.4）</a></li>
  <li><a href="#kwica.5.5" id="toc-kwica.5.5" class="nav-link" data-scroll-target="#kwica.5.5"><span class="header-section-number">2.5</span> KWIC（A.5.5）</a>
  <ul class="collapse">
  <li><a href="#コンコーダンス" id="toc-コンコーダンス" class="nav-link" data-scroll-target="#コンコーダンス"><span class="header-section-number">2.5.1</span> コンコーダンス</a></li>
  <li><a href="#コロケーション" id="toc-コロケーション" class="nav-link" data-scroll-target="#コロケーション"><span class="header-section-number">2.5.2</span> コロケーション</a></li>
  </ul></li>
  <li><a href="#関連語検索a.5.6" id="toc-関連語検索a.5.6" class="nav-link" data-scroll-target="#関連語検索a.5.6"><span class="header-section-number">2.6</span> 関連語検索（A.5.6）</a>
  <ul class="collapse">
  <li><a href="#関連語のリスト" id="toc-関連語のリスト" class="nav-link" data-scroll-target="#関連語のリスト"><span class="header-section-number">2.6.1</span> 関連語のリスト</a></li>
  <li><a href="#共起ネットワーク" id="toc-共起ネットワーク" class="nav-link" data-scroll-target="#共起ネットワーク"><span class="header-section-number">2.6.2</span> 共起ネットワーク</a></li>
  <li><a href="#アソシエーション分析" id="toc-アソシエーション分析" class="nav-link" data-scroll-target="#アソシエーション分析"><span class="header-section-number">2.6.3</span> アソシエーション分析🍳</a></li>
  <li><a href="#散布図" id="toc-散布図" class="nav-link" data-scroll-target="#散布図"><span class="header-section-number">2.6.4</span> 散布図🍳</a></li>
  <li><a href="#バルーンプロット" id="toc-バルーンプロット" class="nav-link" data-scroll-target="#バルーンプロット"><span class="header-section-number">2.6.5</span> バルーンプロット🍳</a></li>
  <li><a href="#ネットワーク図" id="toc-ネットワーク図" class="nav-link" data-scroll-target="#ネットワーク図"><span class="header-section-number">2.6.6</span> ネットワーク図🍳</a></li>
  </ul></li>
  <li><a href="#対応分析a.5.7" id="toc-対応分析a.5.7" class="nav-link" data-scroll-target="#対応分析a.5.7"><span class="header-section-number">2.7</span> 対応分析（A.5.7）</a>
  <ul class="collapse">
  <li><a href="#コレスポンデンス分析" id="toc-コレスポンデンス分析" class="nav-link" data-scroll-target="#コレスポンデンス分析"><span class="header-section-number">2.7.1</span> コレスポンデンス分析</a></li>
  <li><a href="#バイプロット" id="toc-バイプロット" class="nav-link" data-scroll-target="#バイプロット"><span class="header-section-number">2.7.2</span> バイプロット</a></li>
  <li><a href="#バイプロットバブルプロット" id="toc-バイプロットバブルプロット" class="nav-link" data-scroll-target="#バイプロットバブルプロット"><span class="header-section-number">2.7.3</span> バイプロット（バブルプロット）</a></li>
  </ul></li>
  <li><a href="#多次元尺度構成法a.5.8" id="toc-多次元尺度構成法a.5.8" class="nav-link" data-scroll-target="#多次元尺度構成法a.5.8"><span class="header-section-number">2.8</span> 多次元尺度構成法（A.5.8）</a>
  <ul class="collapse">
  <li><a href="#mdsバブルプロット" id="toc-mdsバブルプロット" class="nav-link" data-scroll-target="#mdsバブルプロット"><span class="header-section-number">2.8.1</span> MDS・バブルプロット</a></li>
  <li><a href="#mds3次元プロット" id="toc-mds3次元プロット" class="nav-link" data-scroll-target="#mds3次元プロット"><span class="header-section-number">2.8.2</span> MDS・3次元プロット</a></li>
  </ul></li>
  <li><a href="#階層的クラスター分析a.5.9" id="toc-階層的クラスター分析a.5.9" class="nav-link" data-scroll-target="#階層的クラスター分析a.5.9"><span class="header-section-number">2.9</span> 階層的クラスター分析（A.5.9）</a>
  <ul class="collapse">
  <li><a href="#非類似度のヒートマップ" id="toc-非類似度のヒートマップ" class="nav-link" data-scroll-target="#非類似度のヒートマップ"><span class="header-section-number">2.9.1</span> 非類似度のヒートマップ🍳</a></li>
  <li><a href="#階層的クラスタリング" id="toc-階層的クラスタリング" class="nav-link" data-scroll-target="#階層的クラスタリング"><span class="header-section-number">2.9.2</span> 階層的クラスタリング</a></li>
  <li><a href="#シルエット分析" id="toc-シルエット分析" class="nav-link" data-scroll-target="#シルエット分析"><span class="header-section-number">2.9.3</span> シルエット分析🍳</a></li>
  <li><a href="#デンドログラム" id="toc-デンドログラム" class="nav-link" data-scroll-target="#デンドログラム"><span class="header-section-number">2.9.4</span> デンドログラム</a></li>
  <li><a href="#デンドログラムと棒グラフ" id="toc-デンドログラムと棒グラフ" class="nav-link" data-scroll-target="#デンドログラムと棒グラフ"><span class="header-section-number">2.9.5</span> デンドログラムと棒グラフ</a></li>
  </ul></li>
  <li><a href="#共起ネットワーク-1" id="toc-共起ネットワーク-1" class="nav-link" data-scroll-target="#共起ネットワーク-1"><span class="header-section-number">2.10</span> 共起ネットワーク</a></li>
  <li><a href="#自己組織化マップa.5.10" id="toc-自己組織化マップa.5.10" class="nav-link" data-scroll-target="#自己組織化マップa.5.10"><span class="header-section-number">2.11</span> 自己組織化マップ（A.5.10）</a>
  <ul class="collapse">
  <li><a href="#自己組織化マップsom" id="toc-自己組織化マップsom" class="nav-link" data-scroll-target="#自己組織化マップsom"><span class="header-section-number">2.11.1</span> 自己組織化マップ（SOM）</a></li>
  <li><a href="#u-matrix" id="toc-u-matrix" class="nav-link" data-scroll-target="#u-matrix"><span class="header-section-number">2.11.2</span> U-Matrix</a></li>
  <li><a href="#ヒットマップ" id="toc-ヒットマップ" class="nav-link" data-scroll-target="#ヒットマップ"><span class="header-section-number">2.11.3</span> ヒットマップ🍳</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">抽出語メニュー</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>({</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(duckdb)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(arules)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(arulesViz)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ca)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>drv <span class="ot">&lt;-</span> duckdb<span class="sc">::</span><span class="fu">duckdb</span>()</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> duckdb<span class="sc">::</span><span class="fu">dbConnect</span>(drv, <span class="at">dbdir =</span> <span class="st">"tutorial_jp/kokoro.duckdb"</span>, <span class="at">read_only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>tbl <span class="ot">&lt;-</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  readxl<span class="sc">::</span><span class="fu">read_xls</span>(<span class="st">"tutorial_jp/kokoro.xls"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"section"</span>, <span class="st">"chapter"</span>, <span class="st">"label"</span>),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">skip =</span> <span class="dv">1</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">doc_id =</span> <span class="fu">factor</span>(dplyr<span class="sc">::</span><span class="fu">row_number</span>()),</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">where</span>(is.character), <span class="sc">~</span> audubon<span class="sc">::</span><span class="fu">strj_normalize</span>(.))</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span>gibasa<span class="sc">::</span><span class="fu">is_blank</span>(text)) <span class="sc">|&gt;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(doc_id, text, section, label, chapter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
<section id="抽出語リストa.5.1" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="抽出語リストa.5.1"><span class="header-section-number">2.1</span> 抽出語リスト（A.5.1）</h2>
<p>活用語をクリックするとそれぞれの活用の出現頻度も見れるUIについては、Rだとどうすれば実現できるかわからない。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>pos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"その他"</span>, <span class="st">"名詞B"</span>, <span class="st">"動詞B"</span>, <span class="st">"形容詞B"</span>, <span class="st">"副詞B"</span>, <span class="st">"否定助動詞"</span>, <span class="st">"形容詞（非自立）"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(token, pos) <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>reactable<span class="sc">::</span><span class="fu">reactable</span>(</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  dat,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">filterable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">defaultColDef =</span> reactable<span class="sc">::</span><span class="fu">colDef</span>(</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">cell =</span> reactablefmtr<span class="sc">::</span><span class="fu">data_bars</span>(dat)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-63424924563040df7969" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-63424924563040df7969">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"token":["考え","聞い","母","思っ","心","お嬢さん","K","先生","前","出","顔","言葉","人","見","二人","妻","自分","奥さん","父","眼","今"],"pos":["動詞","動詞","名詞C","動詞","名詞C","名詞","未知語","名詞","副詞可能","動詞","名詞C","名詞","名詞C","動詞","タグ","名詞C","名詞","名詞","名詞C","名詞C","副詞可能"],"n":[107,110,170,109,103,168,411,595,169,140,130,127,176,157,115,105,264,388,269,123,140]},"columns":[{"id":"token","name":"token","type":"character","cell":["考え","聞い","母","思っ","心","お嬢さん","K","先生","前","出","顔","言葉","人","見","二人","妻","自分","奥さん","父","眼","今"]},{"id":"pos","name":"pos","type":"character","cell":["動詞","動詞","名詞C","動詞","名詞C","名詞","未知語","名詞","副詞可能","動詞","名詞C","名詞","名詞C","動詞","タグ","名詞C","名詞","名詞","名詞C","名詞C","副詞可能"]},{"id":"n","name":"n","type":"numeric","cell":[{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"17.9831932773109%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["107"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"18.4873949579832%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["110"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"28.5714285714286%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["170"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"18.3193277310924%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["109"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"17.3109243697479%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["103"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"28.2352941176471%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["168"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"69.0756302521008%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["411"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"100%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["595"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"28.4033613445378%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["169"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"23.5294117647059%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["140"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"21.8487394957983%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["130"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"21.344537815126%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["127"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"29.5798319327731%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["176"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"26.3865546218487%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["157"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"19.327731092437%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["115"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"17.6470588235294%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["105"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"44.3697478991597%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["264"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"65.2100840336134%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["388"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"45.2100840336134%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["269"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"20.672268907563%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["123"]}]}]}]},{"name":"div","attribs":{},"children":[{"name":"div","attribs":{"style":{"flexGrow":1,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","background":"#EEEEEE"}},"children":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":[{"name":"div","attribs":{"style":{"boxShadow":null,"textAlign":"right","display":"flex","alignItems":"center","justifyContent":"flex-end","boxShadow.1":null,"borderTopLeftRadius":"0px","borderBottomLeftRadius":"0px","borderTopRightRadius":"0px","borderBottomRightRadius":"0px","border":"  ","background":"#15607AFF","backgroundImage":null,"color":"white","fontWeight":"normal","fontSize":null,"width":"23.5294117647059%","height":18,"transition":"width 1s ease","textOverflow":"ellipsis","whiteSpace":"nowrap"}},"children":["140"]}]}]}]}]}],"filterable":true,"dataKey":"58e525ca809d09ca491fc43c497e697b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="出現回数の分布a.5.2" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="出現回数の分布a.5.2"><span class="header-section-number">2.2</span> 出現回数の分布（A.5.2）</h2>
<section id="度数分布表" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="度数分布表"><span class="header-section-number">2.2.1</span> 度数分布表</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>pos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"その他"</span>, <span class="st">"名詞B"</span>, <span class="st">"動詞B"</span>, <span class="st">"形容詞B"</span>, <span class="st">"副詞B"</span>, <span class="st">"否定助動詞"</span>, <span class="st">"形容詞（非自立）"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(token, pos) <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">degree =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> n</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">prop =</span> degree <span class="sc">/</span> <span class="fu">sum</span>(degree, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(n) <span class="sc">|&gt;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">compute</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">cum_degree =</span> <span class="fu">cumsum</span>(degree),</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">cum_prop =</span> <span class="fu">cumsum</span>(prop)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>()</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 98 × 5</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        n degree   prop cum_degree cum_prop</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1     1   2938 0.111        2938    0.111</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2     2   1934 0.0729       4872    0.184</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3     3   1506 0.0568       6378    0.240</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4     4   1248 0.0470       7626    0.287</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5     5    955 0.0360       8581    0.323</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6     6    768 0.0289       9349    0.352</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7     7    868 0.0327      10217    0.385</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8     8    592 0.0223      10809    0.407</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9     9    531 0.0200      11340    0.427</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10    10    570 0.0215      11910    0.449</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 88 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="折れ線グラフ" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="折れ線グラフ"><span class="header-section-number">2.2.2</span> 折れ線グラフ</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(cum_prop <span class="sc">&lt;</span> .<span class="dv">8</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> n, <span class="at">y =</span> degree)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"出現回数"</span>, <span class="at">y =</span> <span class="st">"度数"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-tf-dist-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="文書数の分布a.5.3" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="文書数の分布a.5.3"><span class="header-section-number">2.3</span> 文書数の分布（A.5.3）</h2>
<p>段落（<code>doc_id</code>）ではなく、章ラベル（<code>label</code>）でグルーピングして集計している。<code>docfreq</code>について上でやったのと同様に処理すれば度数分布表にできる。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>pos <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"その他"</span>, <span class="st">"名詞B"</span>, <span class="st">"動詞B"</span>, <span class="st">"形容詞B"</span>, <span class="st">"副詞B"</span>, <span class="st">"否定助動詞"</span>, <span class="st">"形容詞（非自立）"</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">token =</span> <span class="fu">paste</span>(token, pos, <span class="at">sep =</span> <span class="st">"/"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(label, token) <span class="sc">|&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(label, token, n) <span class="sc">|&gt;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  quanteda.textstats<span class="sc">::</span><span class="fu">textstat_frequency</span>() <span class="sc">|&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>()</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5,797 × 5</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    feature       frequency  rank docfreq group</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 先生/名詞           595     1      53 all  </span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 K/未知語            411     2      36 all  </span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 奥さん/名詞         388     3      54 all  </span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 父/名詞C            269     4      41 all  </span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 自分/名詞           264     5      93 all  </span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 人/名詞C            176     6      84 all  </span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 母/名詞C            170     7      38 all  </span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 前/副詞可能         169     8      97 all  </span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 お嬢さん/名詞       168     9      34 all  </span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 見/動詞             157    10      78 all  </span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 5,787 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>度数分布をグラフで確認したいだけなら、このかたちからヒストグラムを描いたほうが楽。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> docfreq)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_sqrt</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"文書数"</span>, <span class="at">y =</span> <span class="st">"度数"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-df-hist-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="出現回数文書数のプロットa.5.4" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="出現回数文書数のプロットa.5.4"><span class="header-section-number">2.4</span> 出現回数・文書数のプロット（A.5.4）</h2>
<p>図 A.25のようなグラフの例。ggplot2で<code>graphics::identify</code>のようなことをするやり方がわからないので、適当に条件を指定してgghighlightでハイライトしている。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> frequency, <span class="at">y =</span> docfreq)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  gghighlight<span class="sc">::</span><span class="fu">gghighlight</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    frequency <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">&amp;</span> docfreq <span class="sc">&lt;</span> <span class="dv">60</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> feature)) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"出現回数"</span>, <span class="at">y =</span> <span class="st">"文書数"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-tf-df-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="kwica.5.5" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="kwica.5.5"><span class="header-section-number">2.5</span> KWIC（A.5.5）</h2>
<section id="コンコーダンス" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="コンコーダンス"><span class="header-section-number">2.5.1</span> コンコーダンス</h3>
<p>コンコーダンスは<code>quanteda::kwic()</code>で確認できる。もっとも、KH Coderの提供するコンコーダンス検索やコロケーション統計のほうが明らかにリッチなのと、Rのコンソールは日本語の長めの文字列を表示するのにあまり向いていないというのがあるので、このあたりの機能が必要ならKH Coderを利用したほうがよい。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(section <span class="sc">==</span> <span class="st">"[1]上_先生と私"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(label, token) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">reframe</span>(<span class="at">token =</span> <span class="fu">list</span>(token), <span class="at">.by =</span> label) <span class="sc">|&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">deframe</span>() <span class="sc">|&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">as.tokens</span>() <span class="sc">|&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">tokens_select</span>(<span class="st">"[[:punct:]]"</span>, <span class="at">selection =</span> <span class="st">"remove"</span>, <span class="at">valuetype =</span> <span class="st">"regex"</span>, <span class="at">padding =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">tokens_select</span>(<span class="st">"^[</span><span class="sc">\\</span><span class="st">p{Hiragana}]{1,2}$"</span>, <span class="at">selection =</span> <span class="st">"remove"</span>, <span class="at">valuetype =</span> <span class="st">"regex"</span>, <span class="at">padding =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>quanteda<span class="sc">::</span><span class="fu">kwic</span>(dat, <span class="at">pattern =</span> <span class="st">"^向[いくけこ]$"</span>, <span class="at">window =</span> <span class="dv">5</span>, <span class="at">valuetype =</span> <span class="st">"regex"</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Keyword-in-context with 18 matches.                                                                   </span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [上・二, 183]            海 方 | 向い | 立っ                  </span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [上・二, 527]            沖 方 | 向い | 行っ それから 引き返し</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [上・七, 740]            外 方 | 向い | 今 手                 </span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [上・八, 622]            私 方 | 向い | 私                    </span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [上・八, 697]            私 方 | 向い | 子供                  </span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十二, 568]        花 そちら | 向い | 眼 峙                 </span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十二, 628]          方角 足 | 向け | それから 私           </span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十四, 247]            庭 方 | 向い | 庭 この間             </span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十五, 661]      奥さん 差し | 向い | 話 なけれ             </span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十六, 265]            眼 私 | 向け | そうして 客 来        </span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    [上・十七, 447]    世の中 どっち | 向い | 面白                  </span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・二十五, 557]        世間 背中 | 向け | 人 苦味               </span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・二十六, 480]                  | 向い | 歩い やがて 若葉      </span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・三十三, 686]            庭 方 | 向い | 澄まし 烟草           </span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・三十三, 771] 先生 ちょっと 顔 | 向け | 直し 奥さん 言葉      </span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・三十四, 415]               下 | 向い | 私 父                 </span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・三十四, 436]   突然 奥さん 方 | 向い | 静 お前               </span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [上・三十五, 425]            庭 方 | 向い | 笑っ しかし</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>なお、上の例ではひらがな1～2文字の語をpaddingしつつ除外したので、一部の助詞などは表示されていない（それぞれの窓のなかでトークンとして数えられてはいる）。</p>
</section>
<section id="コロケーション" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="コロケーション"><span class="header-section-number">2.5.2</span> コロケーション</h3>
<p>たとえば、前後5個のwindow内のコロケーション（nodeを含めて11語の窓ということ）の合計については次のように確認できる。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">fcm</span>(<span class="at">context =</span> <span class="st">"window"</span>, <span class="at">window =</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">node =</span> document, <span class="at">term =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(node <span class="sc">==</span> <span class="st">"向い"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_max</span>(count, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 30 × 3</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    node  term     count</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 向い  庭           4</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 向い  奥さん       2</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 向い  立っ         1</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 向い  眼           1</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 向い  やがて       1</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 向い  沖           1</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 向い  それから     1</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 向い  引き返し     1</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 向い  烟草         1</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 向い  しかし       1</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 20 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>「左合計」や「右合計」については、たとえば次のようにして確認できる。paddingしなければ<code>tidyr::separate_wider_delim()</code>で展開して位置ごとに集計することもできそう。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">kwic</span>(<span class="at">pattern =</span> <span class="st">"^向[いくけこ]$"</span>, <span class="at">window =</span> <span class="dv">5</span>, <span class="at">valuetype =</span> <span class="st">"regex"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(docname, keyword, pre, post) <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(pre, post),</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"window"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"term"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_transform =</span> <span class="sc">~</span> <span class="fu">strsplit</span>(., <span class="st">" "</span>, <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">unnest</span>(term) <span class="sc">|&gt;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(window, term, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 55 × 3</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    window term         n</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 pre    方           9</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 post   私           3</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 pre    庭           3</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 pre    私           3</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 post   それから     2</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 pre    奥さん       2</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 post   お前         1</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 post   この間       1</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 post   しかし       1</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 post   そうして     1</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 45 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="関連語検索a.5.6" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="関連語検索a.5.6"><span class="header-section-number">2.6</span> 関連語検索（A.5.6）</h2>
<section id="関連語のリスト" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="関連語のリスト"><span class="header-section-number">2.6.1</span> 関連語のリスト</h3>
<p>「確率差」や「確率比」については、いちおう計算はできた気がするが、あっているのかよくわからない。また、このやり方はそれなりの数の共起について計算をしなければならず、共起行列が大きくなると大変そう。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dfm <span class="ot">&lt;-</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    section <span class="sc">==</span> <span class="st">"[1]上_先生と私"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    pos <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"名詞"</span>, <span class="co"># "名詞B", "名詞C",</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"地名"</span>, <span class="st">"人名"</span>, <span class="st">"組織名"</span>, <span class="st">"固有名詞"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"動詞"</span>, <span class="st">"未知語"</span>, <span class="st">"タグ"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(original), token, original),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> <span class="fu">paste</span>(token, pos, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(doc_id, token) <span class="sc">|&gt;</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(doc_id, token, n) <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_weight</span>(<span class="at">scheme =</span> <span class="st">"boolean"</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dfm <span class="sc">|&gt;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">fcm</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">target =</span> document, <span class="at">co_occur =</span> count) <span class="sc">|&gt;</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">reframe</span>(</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> term,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">target_occur =</span> quanteda<span class="sc">::</span><span class="fu">colSums</span>(dfm)[target],</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">term_occur =</span> quanteda<span class="sc">::</span><span class="fu">colSums</span>(dfm)[term],</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">co_occur =</span> co_occur,</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> target</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_x =</span> target_occur <span class="sc">/</span> quanteda<span class="sc">::</span><span class="fu">ndoc</span>(dfm),</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_y =</span> term_occur <span class="sc">/</span> quanteda<span class="sc">::</span><span class="fu">ndoc</span>(dfm),</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">p_xy =</span> (co_occur <span class="sc">/</span> quanteda<span class="sc">::</span><span class="fu">ndoc</span>(dfm)) <span class="sc">/</span> p_x,</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">differential =</span> p_xy <span class="sc">-</span> p_y, <span class="co"># 確率差</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">lift =</span> p_xy <span class="sc">/</span> p_y, <span class="co"># 確率比（リフト）,</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">jaccard =</span> co_occur <span class="sc">/</span> (target_occur <span class="sc">+</span> term_occur <span class="sc">-</span> co_occur),</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">dice =</span> <span class="dv">2</span> <span class="sc">*</span> co_occur <span class="sc">/</span> (target_occur <span class="sc">+</span> term_occur)</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(target, term, differential, lift, jaccard, dice)</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>dat</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 26,820 × 6</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    target    term          differential  lift jaccard    dice</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 先生/名詞 世間/名詞         0.0122   1.68  0.0300  0.0582 </span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 先生/名詞 鎌倉/人名         0.00198  2.10  0.00377 0.00752</span></span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 先生/名詞 断る/動詞         0.000529 1.05  0.0112  0.0221 </span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 先生/名詞 習慣/名詞         0.00593  2.10  0.0113  0.0224 </span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 先生/名詞 遊ぶ/動詞         0.00988  2.10  0.0189  0.0370 </span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 先生/名詞 取り残す/動詞     0.00395  2.10  0.00755 0.0150 </span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 先生/名詞 取る/動詞         0.00645  1.40  0.0224  0.0438 </span></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 先生/名詞 下りる/動詞      -0.00702  0.350 0.00370 0.00738</span></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 先生/名詞 思う/動詞         0.0175   1.14  0.128   0.227  </span></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 先生/名詞 一人/タグ         0.0129   1.40  0.0443  0.0848 </span></span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 26,810 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="共起ネットワーク" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="共起ネットワーク"><span class="header-section-number">2.6.2</span> 共起ネットワーク</h3>
<p>「先生/名詞」と関連の強そうな語の共起を図示した例。</p>
<p>「先生/名詞」と共起している語のうち、出現回数が上位20位以内である語が<code>target</code>である共起を抽出したうえで、それらのなかからJaccard係数が大きい順に75個だけ残している。「先生/名詞」という語そのものは図に含めていない。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(dat, target <span class="sc">==</span> <span class="st">"先生/名詞"</span>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(term),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(target <span class="sc">==</span> term)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(target <span class="sc">%in%</span> <span class="fu">names</span>(quanteda<span class="sc">::</span><span class="fu">topfeatures</span>(dfm, <span class="dv">20</span>))) <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_max</span>(jaccard, <span class="at">n =</span> <span class="dv">75</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  tidygraph<span class="sc">::</span><span class="fu">as_tbl_graph</span>(<span class="at">directed =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  tidygraph<span class="sc">::</span><span class="fu">to_minimum_spanning_tree</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="st">"mst"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">community =</span> <span class="fu">factor</span>(tidygraph<span class="sc">::</span><span class="fu">group_leading_eigen</span>())</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">width =</span> <span class="fu">sqrt</span>(lift), <span class="at">alpha =</span> jaccard)) <span class="sc">+</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> community), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> name, <span class="at">colour =</span> community), <span class="at">repel =</span> <span class="cn">TRUE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  ggraph<span class="sc">::</span><span class="fu">theme_graph</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-co-measures-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="アソシエーション分析" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="アソシエーション分析"><span class="header-section-number">2.6.3</span> アソシエーション分析🍳</h3>
<p>英語だとこのメニューの名前は「Word Association」となっているので、ふつうにアソシエーション分析すればいいと思った。</p>
<p>arulesの<code>transactions</code>オブジェクトをつくるには、quantedaの<code>fcm</code>オブジェクトから変換すればよい（arulesをアタッチしている必要がある）。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arules)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arulesViz)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    pos <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"名詞"</span>, <span class="co"># "名詞B", "名詞C",</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"地名"</span>, <span class="st">"人名"</span>, <span class="st">"組織名"</span>, <span class="st">"固有名詞"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"動詞"</span>, <span class="st">"未知語"</span>, <span class="st">"タグ"</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(original), token, original),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> <span class="fu">paste</span>(token, pos, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(doc_id, token) <span class="sc">|&gt;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(doc_id, token, n) <span class="sc">|&gt;</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_weight</span>(<span class="at">scheme =</span> <span class="st">"boolean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">fcm</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as</span>(<span class="st">"nMatrix"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as</span>(<span class="st">"transactions"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><code>arules::apriori()</code>でアソシエーションルールを抽出する。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  arules<span class="sc">::</span><span class="fu">apriori</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    dat,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">parameter =</span> <span class="fu">list</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">support =</span> <span class="fl">0.075</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">confidence =</span> <span class="fl">0.8</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">minlen =</span> <span class="dv">2</span>,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">maxlen =</span> <span class="dv">2</span>, <span class="co"># LHS+RHSの長さ。変えないほうがよい</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">maxtime =</span> <span class="dv">5</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(<span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>この形式のオブジェクトは<code>as(rules, "data.frame")</code>のようにしてデータフレームに変換できる。<code>tibble</code>にしたい場合には次のようにすればよい。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as</span>(rules, <span class="st">"data.frame"</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span> <span class="fu">signif</span>(., <span class="at">digits =</span> <span class="dv">3</span>))) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate_wider_delim</span>(rules, <span class="at">delim =</span> <span class="st">" =&gt; "</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"lhs"</span>, <span class="st">"rhs"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(lift))</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 56 × 7</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    lhs             rhs         support confidence coverage  lift count</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 {手紙/名詞}     {書く/動詞}  0.113       0.823   0.138   4.77   334</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 {お嬢さん/名詞} {K/未知語}   0.176       0.801   0.22    2.38   518</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 {黙る/動詞}     {聞く/動詞}  0.106       0.832   0.128   2.12   313</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 {掛ける/動詞}   {聞く/動詞}  0.0751      0.828   0.0907  2.11   221</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 {尋ねる/動詞}   {聞く/動詞}  0.0927      0.815   0.114   2.08   273</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 {付ける/動詞}   {聞く/動詞}  0.105       0.803   0.131   2.05   310</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 {掛ける/動詞}   {出る/動詞}  0.0764      0.843   0.0907  1.89   225</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 {信じる/動詞}   {自分/名詞}  0.0934      0.851   0.11    1.83   275</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 {疑う/動詞}     {自分/名詞}  0.0805      0.843   0.0954  1.81   237</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 {上げる/動詞}   {自分/名詞}  0.0774      0.844   0.0917  1.81   228</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # ℹ 46 more rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="散布図" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="散布図"><span class="header-section-number">2.6.4</span> 散布図🍳</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rules, <span class="at">engine =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-87783641af5d504aa5f2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-87783641af5d504aa5f2">{"x":{"visdat":{"cab47efa5a9":["function () ","plotlyVisDat"]},"cur_data":"cab47efa5a9","attrs":{"cab47efa5a9":{"x":[0.26766304347826086,0.20176630434782608,0.17119565217391305,0.17595108695652173,0.16508152173913043,0.15115489130434784,0.14809782608695651,0.15591032608695651,0.13858695652173914,0.1358695652173913,0.1514945652173913,0.13858695652173914,0.13620923913043478,0.1328125,0.125,0.11311141304347826,0.11277173913043478,0.10258152173913043,0.10292119565217392,0.12364130434782608,0.11005434782608696,0.10326086956521739,0.10631793478260869,0.10699728260869565,0.10733695652173914,0.10529891304347826,0.11073369565217392,0.11073369565217392,0.11345108695652174,0.10224184782608696,0.10122282608695653,0.092730978260869568,0.11073369565217392,0.10427989130434782,0.10190217391304347,0.098845108695652176,0.098845108695652176,0.10258152173913043,0.093410326086956527,0.085597826086956527,0.08525815217391304,0.089334239130434784,0.087635869565217392,0.090353260869565216,0.097146739130434784,0.084918478260869568,0.079823369565217392,0.076426630434782608,0.075067934782608689,0.092051630434782608,0.082540760869565216,0.086277173913043473,0.07744565217391304,0.084918478260869568,0.080502717391304351,0.07880434782608696],"y":[0.8347457627118644,0.81369863013698629,0.82084690553745931,0.80061823802163834,0.82793867120954001,0.82867783985102417,0.81191806331471139,0.81964285714285712,0.81927710843373491,0.80971659919028338,0.81090909090909091,0.8571428571428571,0.84243697478991597,0.84449244060475159,0.89975550122249393,0.81418092909535456,0.81975308641975309,0.80106100795755963,0.80371352785145889,0.84259259259259256,0.86170212765957444,0.80851063829787229,0.83244680851063835,0.85135135135135132,0.81865284974093266,0.80310880829015541,0.85564304461942253,0.80295566502463056,0.82266009852216748,0.81793478260869568,0.88955223880597012,0.81492537313432833,0.82115869017632237,0.85515320334261835,0.86206896551724133,0.83620689655172409,0.87387387387387383,0.93498452012383904,0.85139318885448911,0.82352941176470584,0.8202614379084967,0.83492063492063495,0.84313725490196079,0.86644951140065152,0.87730061349693256,0.82508250825082508,0.88014981273408244,0.84269662921348309,0.82771535580524347,0.81873111782477337,0.81000000000000005,0.83552631578947367,0.84444444444444444,0.88967971530249113,0.84341637010676151,0.90272373540856032],"hoverinfo":"text","text":["[56]<BR> <B>{考える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.268 <BR>confidence: 0.835 <BR>lift: 1.49","[55]<BR> <B>{取る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.202 <BR>confidence: 0.814 <BR>lift: 1.45","[54]<BR> <B>{答える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.171 <BR>confidence: 0.821 <BR>lift: 1.46","[53]<BR> <B>{お嬢さん/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{K/未知語}<\/B> <BR><BR>support: 0.176 <BR>confidence: 0.801 <BR>lift: 2.38","[52]<BR> <B>{心持/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.165 <BR>confidence: 0.828 <BR>lift: 1.78","[51]<BR> <B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.829 <BR>lift: 1.48","[50]<BR> <B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.148 <BR>confidence: 0.812 <BR>lift: 1.74","[49]<BR> <B>{起る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.156 <BR>confidence: 0.82 <BR>lift: 1.46","[48]<BR> <B>{見せる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.139 <BR>confidence: 0.819 <BR>lift: 1.46","[47]<BR> <B>{持つ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.136 <BR>confidence: 0.81 <BR>lift: 1.44","[46]<BR> <B>{置く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.811 <BR>lift: 1.45","[45]<BR> <B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.139 <BR>confidence: 0.857 <BR>lift: 1.53","[44]<BR> <B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.136 <BR>confidence: 0.842 <BR>lift: 1.81","[43]<BR> <B>{笑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.133 <BR>confidence: 0.844 <BR>lift: 1.5","[42]<BR> <B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.125 <BR>confidence: 0.9 <BR>lift: 1.6","[41]<BR> <B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.814 <BR>lift: 1.75","[40]<BR> <B>{驚く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.82 <BR>lift: 1.63","[39]<BR> <B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.801 <BR>lift: 1.43","[38]<BR> <B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.804 <BR>lift: 1.81","[37]<BR> <B>{死ぬ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.124 <BR>confidence: 0.843 <BR>lift: 1.5","[36]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.11 <BR>confidence: 0.862 <BR>lift: 1.54","[35]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.809 <BR>lift: 1.6","[34]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.106 <BR>confidence: 0.832 <BR>lift: 2.12","[33]<BR> <B>{学校/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.851 <BR>lift: 1.52","[32]<BR> <B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.819 <BR>lift: 1.46","[31]<BR> <B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.803 <BR>lift: 2.05","[30]<BR> <B>{向う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.856 <BR>lift: 1.52","[29]<BR> <B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.803 <BR>lift: 1.43","[28]<BR> <B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{書く/動詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.823 <BR>lift: 4.77","[27]<BR> <B>{時分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.818 <BR>lift: 1.46","[26]<BR> <B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.101 <BR>confidence: 0.89 <BR>lift: 1.59","[25]<BR> <B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.0927 <BR>confidence: 0.815 <BR>lift: 2.08","[24]<BR> <B>{動く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.821 <BR>lift: 1.46","[23]<BR> <B>{考え/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.104 <BR>confidence: 0.855 <BR>lift: 1.52","[22]<BR> <B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.862 <BR>lift: 1.54","[21]<BR> <B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0988 <BR>confidence: 0.836 <BR>lift: 1.8","[20]<BR> <B>{得る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0988 <BR>confidence: 0.874 <BR>lift: 1.56","[19]<BR> <B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.935 <BR>lift: 1.67","[18]<BR> <B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0934 <BR>confidence: 0.851 <BR>lift: 1.83","[17]<BR> <B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0856 <BR>confidence: 0.824 <BR>lift: 1.47","[16]<BR> <B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0853 <BR>confidence: 0.82 <BR>lift: 1.76","[15]<BR> <B>{頼む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0893 <BR>confidence: 0.835 <BR>lift: 1.49","[14]<BR> <B>{代り/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0876 <BR>confidence: 0.843 <BR>lift: 1.5","[13]<BR> <B>{進む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0904 <BR>confidence: 0.866 <BR>lift: 1.54","[12]<BR> <B>{世間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0971 <BR>confidence: 0.877 <BR>lift: 1.56","[11]<BR> <B>{感じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0849 <BR>confidence: 0.825 <BR>lift: 1.47","[10]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0798 <BR>confidence: 0.88 <BR>lift: 1.57","[9]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B> <BR><BR>support: 0.0764 <BR>confidence: 0.843 <BR>lift: 1.89","[8]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.0751 <BR>confidence: 0.828 <BR>lift: 2.11","[7]<BR> <B>{断る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0921 <BR>confidence: 0.819 <BR>lift: 1.46","[6]<BR> <B>{叔父/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0825 <BR>confidence: 0.81 <BR>lift: 1.44","[5]<BR> <B>{気分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0863 <BR>confidence: 0.836 <BR>lift: 1.49","[4]<BR> <B>{上げる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0774 <BR>confidence: 0.844 <BR>lift: 1.81","[3]<BR> <B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0849 <BR>confidence: 0.89 <BR>lift: 1.59","[2]<BR> <B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0805 <BR>confidence: 0.843 <BR>lift: 1.81","[1]<BR> <B>{済む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0788 <BR>confidence: 0.903 <BR>lift: 1.61"],"mode":"markers","marker":[],"color":[1.487585669142693,1.4500779462005373,1.4628167614420582,2.3808283765007103,1.779161640905756,1.4767721310662318,1.7447348747434381,1.4606710480802492,1.4600192537705301,1.4429816392349846,1.4451067576491305,1.5274991352473191,1.8103171195485492,1.5049550515377654,1.6034383750599408,1.7495975585815502,1.6262487105254402,1.427556663091438,1.806208111446332,1.5015693659761455,1.5356241306475709,1.6039456328496873,2.1236771267377117,1.5171781951442969,1.4589067733881995,2.0488321764351971,1.5248263458593099,1.4309330979615691,4.7675419882859469,1.4576271186440677,1.5852553214556755,2.0789777283426889,1.4633723873360127,1.5239534083781288,1.5362778659096601,1.7969292725899824,1.5573151844338284,1.6662193869519262,1.8295631737135885,1.4675972083748754,1.7626639950384044,1.4878973058149814,1.5025399990504675,1.5440843592999505,1.5634219165465917,1.4703649541709618,1.5684994241459678,1.8938159361866369,2.1116065922795815,1.459046253556981,1.4434866828087169,1.4889766789855996,1.8146309813463097,1.5854824950669091,1.8124217471491286,1.6087280127377734],"colors":["#EEEEEEFF","#EE0000FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"support"},"yaxis":{"domain":[0,1],"automargin":true,"title":"confidence"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0.26766304347826086,0.20176630434782608,0.17119565217391305,0.17595108695652173,0.16508152173913043,0.15115489130434784,0.14809782608695651,0.15591032608695651,0.13858695652173914,0.1358695652173913,0.1514945652173913,0.13858695652173914,0.13620923913043478,0.1328125,0.125,0.11311141304347826,0.11277173913043478,0.10258152173913043,0.10292119565217392,0.12364130434782608,0.11005434782608696,0.10326086956521739,0.10631793478260869,0.10699728260869565,0.10733695652173914,0.10529891304347826,0.11073369565217392,0.11073369565217392,0.11345108695652174,0.10224184782608696,0.10122282608695653,0.092730978260869568,0.11073369565217392,0.10427989130434782,0.10190217391304347,0.098845108695652176,0.098845108695652176,0.10258152173913043,0.093410326086956527,0.085597826086956527,0.08525815217391304,0.089334239130434784,0.087635869565217392,0.090353260869565216,0.097146739130434784,0.084918478260869568,0.079823369565217392,0.076426630434782608,0.075067934782608689,0.092051630434782608,0.082540760869565216,0.086277173913043473,0.07744565217391304,0.084918478260869568,0.080502717391304351,0.07880434782608696],"y":[0.8347457627118644,0.81369863013698629,0.82084690553745931,0.80061823802163834,0.82793867120954001,0.82867783985102417,0.81191806331471139,0.81964285714285712,0.81927710843373491,0.80971659919028338,0.81090909090909091,0.8571428571428571,0.84243697478991597,0.84449244060475159,0.89975550122249393,0.81418092909535456,0.81975308641975309,0.80106100795755963,0.80371352785145889,0.84259259259259256,0.86170212765957444,0.80851063829787229,0.83244680851063835,0.85135135135135132,0.81865284974093266,0.80310880829015541,0.85564304461942253,0.80295566502463056,0.82266009852216748,0.81793478260869568,0.88955223880597012,0.81492537313432833,0.82115869017632237,0.85515320334261835,0.86206896551724133,0.83620689655172409,0.87387387387387383,0.93498452012383904,0.85139318885448911,0.82352941176470584,0.8202614379084967,0.83492063492063495,0.84313725490196079,0.86644951140065152,0.87730061349693256,0.82508250825082508,0.88014981273408244,0.84269662921348309,0.82771535580524347,0.81873111782477337,0.81000000000000005,0.83552631578947367,0.84444444444444444,0.88967971530249113,0.84341637010676151,0.90272373540856032],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["[56]<BR> <B>{考える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.268 <BR>confidence: 0.835 <BR>lift: 1.49","[55]<BR> <B>{取る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.202 <BR>confidence: 0.814 <BR>lift: 1.45","[54]<BR> <B>{答える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.171 <BR>confidence: 0.821 <BR>lift: 1.46","[53]<BR> <B>{お嬢さん/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{K/未知語}<\/B> <BR><BR>support: 0.176 <BR>confidence: 0.801 <BR>lift: 2.38","[52]<BR> <B>{心持/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.165 <BR>confidence: 0.828 <BR>lift: 1.78","[51]<BR> <B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.829 <BR>lift: 1.48","[50]<BR> <B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.148 <BR>confidence: 0.812 <BR>lift: 1.74","[49]<BR> <B>{起る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.156 <BR>confidence: 0.82 <BR>lift: 1.46","[48]<BR> <B>{見せる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.139 <BR>confidence: 0.819 <BR>lift: 1.46","[47]<BR> <B>{持つ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.136 <BR>confidence: 0.81 <BR>lift: 1.44","[46]<BR> <B>{置く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.151 <BR>confidence: 0.811 <BR>lift: 1.45","[45]<BR> <B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.139 <BR>confidence: 0.857 <BR>lift: 1.53","[44]<BR> <B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.136 <BR>confidence: 0.842 <BR>lift: 1.81","[43]<BR> <B>{笑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.133 <BR>confidence: 0.844 <BR>lift: 1.5","[42]<BR> <B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.125 <BR>confidence: 0.9 <BR>lift: 1.6","[41]<BR> <B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.814 <BR>lift: 1.75","[40]<BR> <B>{驚く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.82 <BR>lift: 1.63","[39]<BR> <B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.801 <BR>lift: 1.43","[38]<BR> <B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.804 <BR>lift: 1.81","[37]<BR> <B>{死ぬ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.124 <BR>confidence: 0.843 <BR>lift: 1.5","[36]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.11 <BR>confidence: 0.862 <BR>lift: 1.54","[35]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.809 <BR>lift: 1.6","[34]<BR> <B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.106 <BR>confidence: 0.832 <BR>lift: 2.12","[33]<BR> <B>{学校/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.851 <BR>lift: 1.52","[32]<BR> <B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.107 <BR>confidence: 0.819 <BR>lift: 1.46","[31]<BR> <B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.105 <BR>confidence: 0.803 <BR>lift: 2.05","[30]<BR> <B>{向う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.856 <BR>lift: 1.52","[29]<BR> <B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.803 <BR>lift: 1.43","[28]<BR> <B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{書く/動詞}<\/B> <BR><BR>support: 0.113 <BR>confidence: 0.823 <BR>lift: 4.77","[27]<BR> <B>{時分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.818 <BR>lift: 1.46","[26]<BR> <B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.101 <BR>confidence: 0.89 <BR>lift: 1.59","[25]<BR> <B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.0927 <BR>confidence: 0.815 <BR>lift: 2.08","[24]<BR> <B>{動く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.111 <BR>confidence: 0.821 <BR>lift: 1.46","[23]<BR> <B>{考え/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.104 <BR>confidence: 0.855 <BR>lift: 1.52","[22]<BR> <B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.102 <BR>confidence: 0.862 <BR>lift: 1.54","[21]<BR> <B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0988 <BR>confidence: 0.836 <BR>lift: 1.8","[20]<BR> <B>{得る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0988 <BR>confidence: 0.874 <BR>lift: 1.56","[19]<BR> <B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.103 <BR>confidence: 0.935 <BR>lift: 1.67","[18]<BR> <B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0934 <BR>confidence: 0.851 <BR>lift: 1.83","[17]<BR> <B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0856 <BR>confidence: 0.824 <BR>lift: 1.47","[16]<BR> <B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0853 <BR>confidence: 0.82 <BR>lift: 1.76","[15]<BR> <B>{頼む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0893 <BR>confidence: 0.835 <BR>lift: 1.49","[14]<BR> <B>{代り/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0876 <BR>confidence: 0.843 <BR>lift: 1.5","[13]<BR> <B>{進む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0904 <BR>confidence: 0.866 <BR>lift: 1.54","[12]<BR> <B>{世間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0971 <BR>confidence: 0.877 <BR>lift: 1.56","[11]<BR> <B>{感じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0849 <BR>confidence: 0.825 <BR>lift: 1.47","[10]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0798 <BR>confidence: 0.88 <BR>lift: 1.57","[9]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B> <BR><BR>support: 0.0764 <BR>confidence: 0.843 <BR>lift: 1.89","[8]<BR> <B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B> <BR><BR>support: 0.0751 <BR>confidence: 0.828 <BR>lift: 2.11","[7]<BR> <B>{断る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0921 <BR>confidence: 0.819 <BR>lift: 1.46","[6]<BR> <B>{叔父/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0825 <BR>confidence: 0.81 <BR>lift: 1.44","[5]<BR> <B>{気分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0863 <BR>confidence: 0.836 <BR>lift: 1.49","[4]<BR> <B>{上げる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0774 <BR>confidence: 0.844 <BR>lift: 1.81","[3]<BR> <B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0849 <BR>confidence: 0.89 <BR>lift: 1.59","[2]<BR> <B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B> <BR><BR>support: 0.0805 <BR>confidence: 0.843 <BR>lift: 1.81","[1]<BR> <B>{済む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B> <BR><BR>support: 0.0788 <BR>confidence: 0.903 <BR>lift: 1.61"],"mode":"markers","type":"scatter","marker":{"colorbar":{"title":"","ticklen":2},"cmin":1.427556663091438,"cmax":4.7675419882859469,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,170,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(255,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,105,74,1)"],["0.75","rgba(250,96,65,1)"],["0.791666666666667","rgba(248,86,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(245,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[1.487585669142693,1.4500779462005373,1.4628167614420582,2.3808283765007103,1.779161640905756,1.4767721310662318,1.7447348747434381,1.4606710480802492,1.4600192537705301,1.4429816392349846,1.4451067576491305,1.5274991352473191,1.8103171195485492,1.5049550515377654,1.6034383750599408,1.7495975585815502,1.6262487105254402,1.427556663091438,1.806208111446332,1.5015693659761455,1.5356241306475709,1.6039456328496873,2.1236771267377117,1.5171781951442969,1.4589067733881995,2.0488321764351971,1.5248263458593099,1.4309330979615691,4.7675419882859469,1.4576271186440677,1.5852553214556755,2.0789777283426889,1.4633723873360127,1.5239534083781288,1.5362778659096601,1.7969292725899824,1.5573151844338284,1.6662193869519262,1.8295631737135885,1.4675972083748754,1.7626639950384044,1.4878973058149814,1.5025399990504675,1.5440843592999505,1.5634219165465917,1.4703649541709618,1.5684994241459678,1.8938159361866369,2.1116065922795815,1.459046253556981,1.4434866828087169,1.4889766789855996,1.8146309813463097,1.5854824950669091,1.8124217471491286,1.6087280127377734],"line":{"colorbar":{"title":"","ticklen":2},"cmin":1.427556663091438,"cmax":4.7675419882859469,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,170,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(255,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,105,74,1)"],["0.75","rgba(250,96,65,1)"],["0.791666666666667","rgba(248,86,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(245,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":false,"color":[1.487585669142693,1.4500779462005373,1.4628167614420582,2.3808283765007103,1.779161640905756,1.4767721310662318,1.7447348747434381,1.4606710480802492,1.4600192537705301,1.4429816392349846,1.4451067576491305,1.5274991352473191,1.8103171195485492,1.5049550515377654,1.6034383750599408,1.7495975585815502,1.6262487105254402,1.427556663091438,1.806208111446332,1.5015693659761455,1.5356241306475709,1.6039456328496873,2.1236771267377117,1.5171781951442969,1.4589067733881995,2.0488321764351971,1.5248263458593099,1.4309330979615691,4.7675419882859469,1.4576271186440677,1.5852553214556755,2.0789777283426889,1.4633723873360127,1.5239534083781288,1.5362778659096601,1.7969292725899824,1.5573151844338284,1.6662193869519262,1.8295631737135885,1.4675972083748754,1.7626639950384044,1.4878973058149814,1.5025399990504675,1.5440843592999505,1.5634219165465917,1.4703649541709618,1.5684994241459678,1.8938159361866369,2.1116065922795815,1.459046253556981,1.4434866828087169,1.4889766789855996,1.8146309813463097,1.5854824950669091,1.8124217471491286,1.6087280127377734]}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.075067934782608689,0.26766304347826086],"y":[0.80061823802163834,0.93498452012383904],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"lift","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":1.427556663091438,"cmax":4.7675419882859469,"colorscale":[["0","rgba(238,238,238,1)"],["0.0416666666666666","rgba(241,231,228,1)"],["0.0833333333333333","rgba(244,223,218,1)"],["0.125","rgba(247,216,208,1)"],["0.166666666666667","rgba(249,208,198,1)"],["0.208333333333333","rgba(251,201,188,1)"],["0.25","rgba(252,193,178,1)"],["0.291666666666667","rgba(253,186,168,1)"],["0.333333333333333","rgba(254,178,158,1)"],["0.375","rgba(255,170,149,1)"],["0.416666666666667","rgba(255,163,139,1)"],["0.458333333333333","rgba(255,155,130,1)"],["0.5","rgba(255,147,120,1)"],["0.541666666666667","rgba(255,139,111,1)"],["0.583333333333333","rgba(254,131,102,1)"],["0.625","rgba(253,123,92,1)"],["0.666666666666667","rgba(252,114,83,1)"],["0.708333333333333","rgba(251,105,74,1)"],["0.75","rgba(250,96,65,1)"],["0.791666666666667","rgba(248,86,56,1)"],["0.833333333333333","rgba(246,76,46,1)"],["0.875","rgba(245,65,37,1)"],["0.916666666666667","rgba(242,51,26,1)"],["0.958333333333333","rgba(240,34,14,1)"],["1","rgba(238,0,0,1)"]],"showscale":true,"color":[1.427556663091438,4.7675419882859469],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="バルーンプロット" class="level3" data-number="2.6.5">
<h3 data-number="2.6.5" class="anchored" data-anchor-id="バルーンプロット"><span class="header-section-number">2.6.5</span> バルーンプロット🍳</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rules, <span class="at">method =</span> <span class="st">"grouped"</span>, <span class="at">engine =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-e78cecc8e7e73eaa1620" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-e78cecc8e7e73eaa1620">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"y":[7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"text":["LHS: 2 rules: {手紙/名詞}<br />RHS: {書く/動詞}<br />support: 0.11345109<br />measure: 4.767542","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {付ける/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {信じる/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {驚く/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {済む/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {書く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {K/未知語}<br />support: 0.17595109<br />measure: 2.380828","LHS: 3 rules: {掛ける/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {付ける/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {信じる/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {驚く/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {済む/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {K/未知語}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {聞く/動詞}<br />support: 0.07506793<br />measure: 2.111607","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {聞く/動詞}<br />support: 0.09273098<br />measure: 2.078978","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {聞く/動詞}<br />support: 0.10631793<br />measure: 2.123677","LHS: 2 rules: {付ける/動詞}<br />RHS: {聞く/動詞}<br />support: 0.10529891<br />measure: 2.048832","LHS: 2 rules: {信じる/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {驚く/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {済む/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {聞く/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {出る/動詞}<br />support: 0.07642663<br />measure: 1.893816","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {付ける/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {信じる/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {驚く/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {出る/動詞}<br />support: 0.10292120<br />measure: 1.806208","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {済む/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {出る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {自分/名詞}<br />support: 0.12126359<br />measure: 1.796896","LHS: 3 rules: {黙る/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {付ける/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {信じる/動詞}<br />RHS: {自分/名詞}<br />support: 0.09341033<br />measure: 1.829563","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {自分/名詞}<br />support: 0.10518569<br />measure: 1.806556","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {自分/名詞}<br />support: 0.11311141<br />measure: 1.749598","LHS: 1 rules: {驚く/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {自分/名詞}<br />support: 0.11667799<br />measure: 1.753699","LHS: 1 rules: {済む/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {自分/名詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {見る/動詞}<br />support: 0.10326087<br />measure: 1.603946","LHS: 2 rules: {付ける/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {信じる/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {驚く/動詞}<br />RHS: {見る/動詞}<br />support: 0.11277174<br />measure: 1.626249","LHS: 2 rules: {分る/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {済む/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 1 rules: {進む/動詞}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {見る/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {手紙/名詞}<br />RHS: {思う/動詞}<br />support: 0.11073370<br />measure: 1.430933","LHS: 1 rules: {お嬢さん/名詞}<br />RHS: {思う/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {掛ける/動詞}<br />RHS: {思う/動詞}<br />support: 0.07982337<br />measure: 1.568499","LHS: 2 rules: {尋ねる/動詞}<br />RHS: {思う/動詞}<br />support: 0.10122283<br />measure: 1.585255","LHS: 2 rules: {上げる/動詞, 心持/名詞}<br />RHS: {思う/動詞}<br />support:         NA<br />measure:       NA","LHS: 3 rules: {黙る/動詞}<br />RHS: {思う/動詞}<br />support: 0.11005435<br />measure: 1.535624","LHS: 2 rules: {付ける/動詞}<br />RHS: {思う/動詞}<br />support: 0.10733696<br />measure: 1.458907","LHS: 2 rules: {信じる/動詞}<br />RHS: {思う/動詞}<br />support: 0.10258152<br />measure: 1.666219","LHS: 6 rules: {世の中/名詞, 疑う/動詞, +1 items}<br />RHS: {思う/動詞}<br />support: 0.10846920<br />measure: 1.549753","LHS: 2 rules: {繰り返す/動詞}<br />RHS: {思う/動詞}<br />support: 0.12500000<br />measure: 1.603438","LHS: 1 rules: {驚く/動詞}<br />RHS: {思う/動詞}<br />support:         NA<br />measure:       NA","LHS: 2 rules: {分る/動詞}<br />RHS: {思う/動詞}<br />support: 0.10258152<br />measure: 1.427557","LHS: 4 rules: {解る/動詞, 認める/動詞}<br />RHS: {思う/動詞}<br />support: 0.11837636<br />measure: 1.472185","LHS: 1 rules: {済む/動詞}<br />RHS: {思う/動詞}<br />support: 0.07880435<br />measure: 1.608728","LHS: 2 rules: {世間/名詞, 得る/動詞}<br />RHS: {思う/動詞}<br />support: 0.09799592<br />measure: 1.560369","LHS: 1 rules: {進む/動詞}<br />RHS: {思う/動詞}<br />support: 0.09035326<br />measure: 1.544084","LHS: 3 rules: {考え/名詞, 学校/名詞, +1 items}<br />RHS: {思う/動詞}<br />support: 0.10733696<br />measure: 1.521986","LHS: 6 rules: {考える/動詞, 笑う/動詞, +4 items}<br />RHS: {思う/動詞}<br />support: 0.13122736<br />measure: 1.495587","LHS: 7 rules: {断る/動詞, 見せる/動詞, +5 items}<br />RHS: {思う/動詞}<br />support: 0.12223408<br />measure: 1.461988","LHS: 4 rules: {取る/動詞, 置く/動詞, +2 items}<br />RHS: {思う/動詞}<br />support: 0.14291780<br />measure: 1.445413"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(238,0,0,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(253,187,169,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(251,201,188,1)","rgba(250,203,191,1)","rgba(127,127,127,1)","rgba(251,201,188,1)","rgba(250,205,193,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(248,213,204,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(246,218,210,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(246,218,211,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(247,217,209,1)","rgba(246,218,210,1)","rgba(245,221,214,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(245,221,214,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(242,229,225,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(243,227,223,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(238,238,238,1)","rgba(127,127,127,1)","rgba(241,230,228,1)","rgba(242,230,226,1)","rgba(127,127,127,1)","rgba(241,232,230,1)","rgba(239,236,236,1)","rgba(243,225,221,1)","rgba(241,231,229,1)","rgba(242,229,225,1)","rgba(127,127,127,1)","rgba(238,238,238,1)","rgba(239,236,235,1)","rgba(242,228,225,1)","rgba(241,231,228,1)","rgba(241,232,229,1)","rgba(240,233,231,1)","rgba(240,234,233,1)","rgba(239,236,235,1)","rgba(238,237,237,1)"],"opacity":1,"size":[21.546866385245668,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,30.236220472440948,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,7.559055118110237,17.047875242242743,null,20.18036575652367,19.972878023045251,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,10.190780310511345,null,null,null,null,null,null,null,null,19.474697715575619,null,null,null,null,null,null,null,null,null,null,null,null,22.904518115453552,null,null,17.228630915026116,19.949609356093138,21.484835874424089,null,null,22.122985239466818,null,null,null,null,null,null,null,null,null,null,null,null,19.547133900075732,null,null,null,null,21.422527818009119,null,null,null,null,null,null,null,null,null,21.042634356145058,null,12.482562121163566,19.105702538471412,null,20.913601921510359,20.38449722930341,19.401818483915193,20.607565119428369,23.513041224902139,null,19.401818483915193,22.417235775248439,11.923277625370408,18.369969515855541,16.386129760571603,20.38449722930341,24.478680887725716,23.064872135610585,26.156528086847434],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(238,0,0,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(253,187,169,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(251,201,188,1)","rgba(250,203,191,1)","rgba(127,127,127,1)","rgba(251,201,188,1)","rgba(250,205,193,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(248,213,204,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(246,218,210,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(246,218,211,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(247,217,209,1)","rgba(246,218,210,1)","rgba(245,221,214,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(245,221,214,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(242,229,225,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(243,227,223,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(127,127,127,1)","rgba(238,238,238,1)","rgba(127,127,127,1)","rgba(241,230,228,1)","rgba(242,230,226,1)","rgba(127,127,127,1)","rgba(241,232,230,1)","rgba(239,236,236,1)","rgba(243,225,221,1)","rgba(241,231,229,1)","rgba(242,229,225,1)","rgba(127,127,127,1)","rgba(238,238,238,1)","rgba(239,236,235,1)","rgba(242,228,225,1)","rgba(241,231,228,1)","rgba(241,232,229,1)","rgba(240,233,231,1)","rgba(240,234,233,1)","rgba(239,236,235,1)","rgba(238,237,237,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[1],"name":"f715f905c86a05ec05499697f1c122ee","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#EEEEEE"],[0.0033444816053511397,"#EEEDED"],[0.0066889632107023462,"#EFEDEC"],[0.010033444816053486,"#EFECEC"],[0.013377926421404692,"#EFECEB"],[0.016722408026755831,"#EFEBEA"],[0.020066889632107038,"#F0EAE9"],[0.023411371237458178,"#F0EAE8"],[0.026755852842809385,"#F0E9E7"],[0.030100334448160525,"#F0E9E7"],[0.033444816053511732,"#F1E8E6"],[0.036789297658862873,"#F1E7E5"],[0.040133779264214013,"#F1E7E4"],[0.043478260869565216,"#F1E6E3"],[0.046822742474916426,"#F2E6E3"],[0.050167224080267567,"#F2E5E2"],[0.0535117056856187,"#F2E4E1"],[0.05685618729096991,"#F2E4E0"],[0.060200668896321051,"#F3E3DF"],[0.063545150501672254,"#F3E3DE"],[0.066889632107023395,"#F3E2DE"],[0.070234113712374605,"#F3E1DD"],[0.073578595317725745,"#F4E1DC"],[0.076923076923076955,"#F4E0DB"],[0.080267558528428082,"#F4E0DA"],[0.083612040133779222,"#F4DFDA"],[0.086956521739130432,"#F5DED9"],[0.090301003344481642,"#F5DED8"],[0.093645484949832783,"#F5DDD7"],[0.096989966555183924,"#F5DDD6"],[0.10033444816053513,"#F5DCD6"],[0.10367892976588627,"#F6DBD5"],[0.10702341137123747,"#F6DBD4"],[0.11036789297658861,"#F6DAD3"],[0.11371237458193982,"#F6DAD2"],[0.11705685618729096,"#F6D9D1"],[0.12040133779264217,"#F7D9D1"],[0.12374581939799331,"#F7D8D0"],[0.12709030100334445,"#F7D7CF"],[0.13043478260869565,"#F7D7CE"],[0.13377926421404687,"#F7D6CD"],[0.13712374581939799,"#F7D6CD"],[0.14046822742474913,"#F8D5CC"],[0.14381270903010035,"#F8D4CB"],[0.14715719063545149,"#F8D4CA"],[0.15050167224080269,"#F8D3C9"],[0.15384615384615383,"#F8D3C9"],[0.15719063545150497,"#F8D2C8"],[0.16053511705685616,"#F9D1C7"],[0.16387959866220739,"#F9D1C6"],[0.16722408026755853,"#F9D0C5"],[0.17056856187290967,"#F9D0C5"],[0.17391304347826081,"#F9CFC4"],[0.17725752508361209,"#F9CEC3"],[0.18060200668896323,"#FACEC2"],[0.18394648829431434,"#FACDC1"],[0.18729096989966562,"#FACDC1"],[0.19063545150501676,"#FACCC0"],[0.1939799331103679,"#FACBBF"],[0.19732441471571904,"#FACBBE"],[0.20066889632107018,"#FACABD"],[0.20401337792642146,"#FBC9BD"],[0.2073578595317726,"#FBC9BC"],[0.21070234113712374,"#FBC8BB"],[0.21404682274247488,"#FBC8BA"],[0.21739130434782603,"#FBC7B9"],[0.2207357859531773,"#FBC6B9"],[0.22408026755852845,"#FBC6B8"],[0.22742474916387959,"#FBC5B7"],[0.23076923076923084,"#FCC5B6"],[0.23411371237458198,"#FCC4B6"],[0.23745819397993312,"#FCC3B5"],[0.24080267558528426,"#FCC3B4"],[0.2441471571906354,"#FCC2B3"],[0.24749163879598668,"#FCC2B2"],[0.25083612040133779,"#FCC1B2"],[0.25418060200668896,"#FCC0B1"],[0.25752508361204007,"#FCC0B0"],[0.26086956521739124,"#FDBFAF"],[0.26421404682274252,"#FDBFAE"],[0.26755852842809363,"#FDBEAE"],[0.2709030100334448,"#FDBDAD"],[0.27424749163879608,"#FDBDAC"],[0.27759197324414719,"#FDBCAB"],[0.28093645484949836,"#FDBCAA"],[0.28428093645484948,"#FDBBAA"],[0.28762541806020064,"#FDBAA9"],[0.29096989966555192,"#FDBAA8"],[0.29431438127090304,"#FDB9A7"],[0.29765886287625415,"#FDB9A7"],[0.30100334448160532,"#FEB8A6"],[0.30434782608695643,"#FEB7A5"],[0.30769230769230771,"#FEB7A4"],[0.31103678929765888,"#FEB6A3"],[0.31438127090300999,"#FEB6A3"],[0.31772575250836127,"#FEB5A2"],[0.32107023411371227,"#FEB4A1"],[0.32441471571906355,"#FEB4A0"],[0.32775919732441472,"#FEB3A0"],[0.33110367892976583,"#FEB29F"],[0.33444816053511711,"#FEB29E"],[0.33779264214046828,"#FEB19D"],[0.34113712374581939,"#FEB19C"],[0.34448160535117051,"#FEB09C"],[0.34782608695652167,"#FEAF9B"],[0.35117056856187295,"#FEAF9A"],[0.35451505016722407,"#FFAE99"],[0.35785953177257523,"#FFAE99"],[0.36120401337792651,"#FFAD98"],[0.36454849498327752,"#FFAC97"],[0.3678929765886288,"#FFAC96"],[0.37123745819397991,"#FFAB96"],[0.37458193979933108,"#FFAA95"],[0.37792642140468236,"#FFAA94"],[0.38127090301003347,"#FFA993"],[0.38461538461538464,"#FFA992"],[0.38795986622073575,"#FFA892"],[0.39130434782608686,"#FFA791"],[0.39464882943143814,"#FFA790"],[0.39799331103678931,"#FFA68F"],[0.40133779264214042,"#FFA68F"],[0.4046822742474917,"#FFA58E"],[0.4080267558528427,"#FFA48D"],[0.41137123745819398,"#FFA48C"],[0.41471571906354515,"#FFA38C"],[0.41806020066889626,"#FFA28B"],[0.42140468227424754,"#FFA28A"],[0.42474916387959871,"#FFA189"],[0.42809364548494983,"#FFA188"],[0.43143812709030099,"#FFA088"],[0.43478260869565211,"#FF9F87"],[0.43812709030100339,"#FF9F86"],[0.4414715719063545,"#FF9E85"],[0.44481605351170567,"#FF9D85"],[0.44816053511705695,"#FF9D84"],[0.45150501672240795,"#FF9C83"],[0.45484949832775923,"#FF9C82"],[0.45819397993311034,"#FF9B82"],[0.46153846153846151,"#FF9A81"],[0.46488294314381279,"#FF9A80"],[0.4682274247491639,"#FF997F"],[0.47157190635451507,"#FF987F"],[0.47491638795986618,"#FF987E"],[0.47826086956521735,"#FF977D"],[0.48160535117056857,"#FF977C"],[0.48494983277591974,"#FF967C"],[0.48829431438127086,"#FF957B"],[0.49163879598662213,"#FF957A"],[0.49498327759197314,"#FF9479"],[0.49832775919732442,"#FF9379"],[0.50167224080267558,"#FF9378"],[0.50501672240802675,"#FF9277"],[0.50836120401337803,"#FF9176"],[0.51170568561872909,"#FF9176"],[0.51505016722408026,"#FF9075"],[0.51839464882943143,"#FF9074"],[0.52173913043478259,"#FF8F73"],[0.52508361204013376,"#FF8E73"],[0.52842809364548493,"#FF8E72"],[0.5317725752508361,"#FF8D71"],[0.53511705685618738,"#FF8C70"],[0.53846153846153832,"#FF8C70"],[0.5418060200668896,"#FF8B6F"],[0.54515050167224077,"#FF8A6E"],[0.54849498327759194,"#FF8A6D"],[0.55183946488294322,"#FF896D"],[0.55518394648829439,"#FE886C"],[0.55852842809364545,"#FE886B"],[0.56187290969899661,"#FE876A"],[0.56521739130434778,"#FE876A"],[0.56856187290969906,"#FE8669"],[0.57190635451505012,"#FE8568"],[0.57525083612040129,"#FE8567"],[0.57859531772575257,"#FE8467"],[0.58193979933110362,"#FE8366"],[0.5852842809364549,"#FE8365"],[0.58862876254180596,"#FE8264"],[0.59197324414715713,"#FE8164"],[0.59531772575250841,"#FE8163"],[0.59866220735785958,"#FE8062"],[0.60200668896321075,"#FE7F61"],[0.60535117056856202,"#FE7F61"],[0.60869565217391308,"#FE7E60"],[0.61204013377926436,"#FE7D5F"],[0.61538461538461531,"#FD7D5E"],[0.61872909698996659,"#FD7C5E"],[0.62207357859531787,"#FD7B5D"],[0.62541806020066892,"#FD7B5C"],[0.6287625418060202,"#FD7A5C"],[0.63210702341137137,"#FD795B"],[0.63545150501672243,"#FD795A"],[0.63879598662207371,"#FD7859"],[0.64214046822742465,"#FD7759"],[0.64548494983277593,"#FD7658"],[0.64882943143812721,"#FD7657"],[0.65217391304347827,"#FD7556"],[0.65551839464882955,"#FD7456"],[0.6588628762541805,"#FC7455"],[0.66220735785953178,"#FC7354"],[0.66555183946488305,"#FC7253"],[0.66889632107023411,"#FC7253"],[0.67224080267558539,"#FC7152"],[0.67558528428093667,"#FC7051"],[0.67892976588628762,"#FC7050"],[0.6822742474916389,"#FC6F50"],[0.68561872909698995,"#FC6E4F"],[0.68896321070234123,"#FC6D4E"],[0.69230769230769251,"#FC6D4E"],[0.69565217391304346,"#FB6C4D"],[0.69899665551839474,"#FB6B4C"],[0.7023411371237458,"#FB6B4B"],[0.70568561872909707,"#FB6A4B"],[0.70903010033444835,"#FB694A"],[0.7123745819397993,"#FB6849"],[0.71571906354515058,"#FB6848"],[0.71906354515050186,"#FB6748"],[0.72240802675585292,"#FB6647"],[0.72575250836120409,"#FA6646"],[0.72909698996655514,"#FA6545"],[0.73244147157190642,"#FA6445"],[0.7357859531772577,"#FA6344"],[0.73913043478260865,"#FA6343"],[0.74247491638795993,"#FA6243"],[0.74581939799331098,"#FA6142"],[0.74916387959866226,"#FA6041"],[0.75250836120401354,"#FA6040"],[0.75585284280936449,"#F95F40"],[0.75919732441471577,"#F95E3F"],[0.76254180602006705,"#F95D3E"],[0.76588628762541811,"#F95D3D"],[0.76923076923076938,"#F95C3D"],[0.77257525083612033,"#F95B3C"],[0.77591973244147161,"#F95A3B"],[0.77926421404682289,"#F9593A"],[0.78260869565217395,"#F8593A"],[0.78595317725752523,"#F85839"],[0.78929765886287617,"#F85738"],[0.79264214046822745,"#F85637"],[0.79598662207357873,"#F85537"],[0.79933110367892979,"#F85536"],[0.80267558528428107,"#F85435"],[0.80602006688963224,"#F85334"],[0.80936454849498329,"#F75234"],[0.81270903010033457,"#F75133"],[0.81605351170568563,"#F75032"],[0.8193979933110368,"#F75031"],[0.82274247491638808,"#F74F31"],[0.82608695652173914,"#F74E30"],[0.82943143812709041,"#F74D2F"],[0.83277591973244136,"#F64C2E"],[0.83612040133779264,"#F64B2E"],[0.83946488294314392,"#F64A2D"],[0.84280936454849498,"#F64A2C"],[0.84615384615384626,"#F6492B"],[0.84949832775919754,"#F6482B"],[0.85284280936454848,"#F6472A"],[0.85618729096989976,"#F54629"],[0.85953177257525082,"#F54528"],[0.8628762541806021,"#F54427"],[0.86622073578595338,"#F54327"],[0.86956521739130432,"#F54226"],[0.8729096989966556,"#F54125"],[0.87625418060200666,"#F44024"],[0.87959866220735794,"#F43F24"],[0.88294314381270922,"#F43E23"],[0.88628762541806017,"#F43D22"],[0.88963210702341144,"#F43C21"],[0.89297658862876272,"#F43B20"],[0.89632107023411378,"#F33A1F"],[0.89966555183946506,"#F3391F"],[0.90301003344481601,"#F3381E"],[0.90635451505016729,"#F3371D"],[0.90969899665551857,"#F3361C"],[0.91304347826086951,"#F3341B"],[0.91638795986622079,"#F2331A"],[0.91973244147157185,"#F2321A"],[0.92307692307692313,"#F23119"],[0.92642140468227441,"#F23018"],[0.92976588628762535,"#F22E17"],[0.93311036789297663,"#F22D16"],[0.93645484949832791,"#F12C15"],[0.93979933110367897,"#F12A14"],[0.94314381270903025,"#F12913"],[0.9464882943143812,"#F12812"],[0.94983277591973247,"#F12611"],[0.95317725752508375,"#F12410"],[0.95652173913043481,"#F0230F"],[0.95986622073578609,"#F0210E"],[0.96321070234113704,"#F01F0D"],[0.96655518394648832,"#F01E0C"],[0.9698996655518396,"#F01C0A"],[0.97324414715719065,"#EF1A09"],[0.97658862876254193,"#EF1708"],[0.97993311036789321,"#EF1507"],[0.98327759197324416,"#EF1205"],[0.98662207357859544,"#EF1004"],[0.98996655518394649,"#EF0C03"],[0.99331103678929777,"#EE0802"],[0.99665551839464894,"#EE0401"],[1,"#EE0000"]],"colorbar":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"thickness":23.039999999999996,"title":"lift","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"tickmode":"array","ticktext":["2","3","4"],"tickvals":[0.17248633708512101,0.47089084178414214,0.76929534648316344],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":227.21461187214615,"l":66.484018264840202},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,20.600000000000001],"tickmode":"array","ticktext":["2 rules: {手紙/名詞}","1 rules: {お嬢さん/名詞}","3 rules: {掛ける/動詞}","2 rules: {尋ねる/動詞}","2 rules: {上げる/動詞, 心持/名詞}","3 rules: {黙る/動詞}","2 rules: {付ける/動詞}","2 rules: {信じる/動詞}","6 rules: {世の中/名詞, 疑う/動詞, +1 items}","2 rules: {繰り返す/動詞}","1 rules: {驚く/動詞}","2 rules: {分る/動詞}","4 rules: {解る/動詞, 認める/動詞}","1 rules: {済む/動詞}","2 rules: {世間/名詞, 得る/動詞}","1 rules: {進む/動詞}","3 rules: {考え/名詞, 学校/名詞, +1 items}","6 rules: {考える/動詞, 笑う/動詞, +4 items}","7 rules: {断る/動詞, 見せる/動詞, +5 items}","4 rules: {取る/動詞, 置く/動詞, +2 items}"],"tickvals":[1,2,3,4.0000000000000009,5,6.0000000000000009,7,8,9,10,11,12.000000000000002,13,14.000000000000002,15,16,17,18,19,20],"categoryorder":"array","categoryarray":["2 rules: {手紙/名詞}","1 rules: {お嬢さん/名詞}","3 rules: {掛ける/動詞}","2 rules: {尋ねる/動詞}","2 rules: {上げる/動詞, 心持/名詞}","3 rules: {黙る/動詞}","2 rules: {付ける/動詞}","2 rules: {信じる/動詞}","6 rules: {世の中/名詞, 疑う/動詞, +1 items}","2 rules: {繰り返す/動詞}","1 rules: {驚く/動詞}","2 rules: {分る/動詞}","4 rules: {解る/動詞, 認める/動詞}","1 rules: {済む/動詞}","2 rules: {世間/名詞, 得る/動詞}","1 rules: {進む/動詞}","3 rules: {考え/名詞, 学校/名詞, +1 items}","6 rules: {考える/動詞, 笑う/動詞, +4 items}","7 rules: {断る/動詞, 見せる/動詞, +5 items}","4 rules: {取る/動詞, 置く/動詞, +2 items}"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(0,0,0,1)","gridwidth":0.066417600664175999,"zeroline":false,"anchor":"y","title":{"text":"Items in LHS Groups","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,7.5999999999999996],"tickmode":"array","ticktext":["{思う/動詞}","{見る/動詞}","{自分/名詞}","{出る/動詞}","{聞く/動詞}","{K/未知語}","{書く/動詞}"],"tickvals":[1,2,3,4.0000000000000009,5,6,7],"categoryorder":"array","categoryarray":["{思う/動詞}","{見る/動詞}","{自分/名詞}","{出る/動詞}","{聞く/動詞}","{K/未知語}","{書く/動詞}"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(0,0,0,1)","gridwidth":0.066417600664176013,"zeroline":false,"anchor":"x","title":{"text":"RHS ","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"support<br />lift","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cab3423a880":{"x":{},"y":{},"size":{},"colour":{},"type":"scatter"}},"cur_data":"cab3423a880","visdat":{"cab3423a880":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="ネットワーク図" class="level3" data-number="2.6.6">
<h3 data-number="2.6.6" class="anchored" data-anchor-id="ネットワーク図"><span class="header-section-number">2.6.6</span> ネットワーク図🍳</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(rules, <span class="at">method =</span> <span class="st">"graph"</span>, <span class="at">engine =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-4d92adc16acde795fdf1" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4d92adc16acde795fdf1">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104],"label":["世間/名詞","断る/動詞","取る/動詞","思う/動詞","見る/動詞","置く/動詞","見せる/動詞","考え/名詞","起る/動詞","出る/動詞","付ける/動詞","黙る/動詞","答える/動詞","考える/動詞","聞く/動詞","笑う/動詞","繰り返す/動詞","分る/動詞","得る/動詞","解る/動詞","動く/動詞","驚く/動詞","自分/名詞","世の中/名詞","代り/名詞","死ぬ/動詞","書く/動詞","持つ/動詞","上げる/動詞","認める/動詞","心持/名詞","尋ねる/動詞","信じる/動詞","掛ける/動詞","感じる/動詞","疑う/動詞","済む/動詞","進む/動詞","手紙/名詞","学校/名詞","人間/名詞","頼む/動詞","気分/名詞","時分/名詞","向う/動詞","叔父/名詞","お嬢さん/名詞","K/未知語","rule 1","rule 2","rule 3","rule 4","rule 5","rule 6","rule 7","rule 8","rule 9","rule 10","rule 11","rule 12","rule 13","rule 14","rule 15","rule 16","rule 17","rule 18","rule 19","rule 20","rule 21","rule 22","rule 23","rule 24","rule 25","rule 26","rule 27","rule 28","rule 29","rule 30","rule 31","rule 32","rule 33","rule 34","rule 35","rule 36","rule 37","rule 38","rule 39","rule 40","rule 41","rule 42","rule 43","rule 44","rule 45","rule 46","rule 47","rule 48","rule 49","rule 50","rule 51","rule 52","rule 53","rule 54","rule 55","rule 56"],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2.920634920634925,3.793650793650799,6.063492063492069,2.222222222222224,6.761904761904763,4.841269841269844,9.730158730158735,1,1.698412698412702,3.444444444444449,6.063492063492069,12.34920634920635,8.857142857142861,7.460317460317464,8.333333333333339,6.238095238095241,6.412698412698419,10.42857142857143,15.14285714285714,13.22222222222223,13.22222222222223,14.7936507936508,16.01587301587302,19.33333333333334,10.07936507936508,14.44444444444445,14.96825396825397,20.73015873015874,19.33333333333334,19.33333333333334,16.53968253968254,17.5873015873016,17.41269841269841,17.06349206349207,15.4920634920635,18.98412698412699,25.96825396825397,15.31746031746033,15.14285714285714,20.38095238095239,20.55555555555556,26.66666666666667,30.68253968253969,32.42857142857143,33.65079365079366,40.28571428571429,32.25396825396825,33.65079365079366,42.55555555555556,38.53968253968254,40.11111111111113,47.26984126984127,52.85714285714286,50.41269841269843,66.12698412698414,100],"color":["#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#EED4D4","#EECBCB","#EED5D5","#EECBCB","#EED9D9","#EEDBDB","#EEDBDB","#EEBFBF","#EEC9C9","#EED5D5","#EEDBDB","#EED5D5","#EED7D7","#EED9D9","#EED9D9","#EECFCF","#EEDBDB","#EECBCB","#EED2D2","#EED7D7","#EECDCD","#EED7D7","#EED7D7","#EEDBDB","#EEC1C1","#EED5D5","#EEDBDB","#EE1B1B","#EEDCDC","#EED7D7","#EEC3C3","#EEDBDB","#EED7D7","#EEBFBF","#EED4D4","#EED7D7","#EED9D9","#EECDCD","#EEDCDC","#EED4D4","#EECFCF","#EED4D4","#EED9D9","#EECDCD","#EED7D7","#EEDBDB","#EEDBDB","#EEDBDB","#EEDBDB","#EECFCF","#EED9D9","#EECDCD","#EEB5B5","#EEDBDB","#EEDBDB","#EED9D9"],"title":["世間/名詞","断る/動詞","取る/動詞","思う/動詞","見る/動詞","置く/動詞","見せる/動詞","考え/名詞","起る/動詞","出る/動詞","付ける/動詞","黙る/動詞","答える/動詞","考える/動詞","聞く/動詞","笑う/動詞","繰り返す/動詞","分る/動詞","得る/動詞","解る/動詞","動く/動詞","驚く/動詞","自分/名詞","世の中/名詞","代り/名詞","死ぬ/動詞","書く/動詞","持つ/動詞","上げる/動詞","認める/動詞","心持/名詞","尋ねる/動詞","信じる/動詞","掛ける/動詞","感じる/動詞","疑う/動詞","済む/動詞","進む/動詞","手紙/名詞","学校/名詞","人間/名詞","頼む/動詞","気分/名詞","時分/名詞","向う/動詞","叔父/名詞","お嬢さん/名詞","K/未知語","<B>[1]<\/B><BR><B>{済む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0788<BR>confidence = 0.903<BR>coverage = 0.0873<BR>lift = 1.61<BR>count = 232<BR>order = 2<BR>id = 1","<B>[2]<\/B><BR><B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.0805<BR>confidence = 0.843<BR>coverage = 0.0954<BR>lift = 1.81<BR>count = 237<BR>order = 2<BR>id = 2","<B>[3]<\/B><BR><B>{疑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0849<BR>confidence = 0.89<BR>coverage = 0.0954<BR>lift = 1.59<BR>count = 250<BR>order = 2<BR>id = 3","<B>[4]<\/B><BR><B>{上げる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.0774<BR>confidence = 0.844<BR>coverage = 0.0917<BR>lift = 1.81<BR>count = 228<BR>order = 2<BR>id = 4","<B>[5]<\/B><BR><B>{気分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0863<BR>confidence = 0.836<BR>coverage = 0.103<BR>lift = 1.49<BR>count = 254<BR>order = 2<BR>id = 5","<B>[6]<\/B><BR><B>{叔父/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0825<BR>confidence = 0.81<BR>coverage = 0.102<BR>lift = 1.44<BR>count = 243<BR>order = 2<BR>id = 6","<B>[7]<\/B><BR><B>{断る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0921<BR>confidence = 0.819<BR>coverage = 0.112<BR>lift = 1.46<BR>count = 271<BR>order = 2<BR>id = 7","<B>[8]<\/B><BR><B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B><BR><BR>support = 0.0751<BR>confidence = 0.828<BR>coverage = 0.0907<BR>lift = 2.11<BR>count = 221<BR>order = 2<BR>id = 8","<B>[9]<\/B><BR><B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B><BR><BR>support = 0.0764<BR>confidence = 0.843<BR>coverage = 0.0907<BR>lift = 1.89<BR>count = 225<BR>order = 2<BR>id = 9","<B>[10]<\/B><BR><B>{掛ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0798<BR>confidence = 0.88<BR>coverage = 0.0907<BR>lift = 1.57<BR>count = 235<BR>order = 2<BR>id = 10","<B>[11]<\/B><BR><B>{感じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0849<BR>confidence = 0.825<BR>coverage = 0.103<BR>lift = 1.47<BR>count = 250<BR>order = 2<BR>id = 11","<B>[12]<\/B><BR><B>{世間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0971<BR>confidence = 0.877<BR>coverage = 0.111<BR>lift = 1.56<BR>count = 286<BR>order = 2<BR>id = 12","<B>[13]<\/B><BR><B>{進む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0904<BR>confidence = 0.866<BR>coverage = 0.104<BR>lift = 1.54<BR>count = 266<BR>order = 2<BR>id = 13","<B>[14]<\/B><BR><B>{代り/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0876<BR>confidence = 0.843<BR>coverage = 0.104<BR>lift = 1.5<BR>count = 258<BR>order = 2<BR>id = 14","<B>[15]<\/B><BR><B>{頼む/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0893<BR>confidence = 0.835<BR>coverage = 0.107<BR>lift = 1.49<BR>count = 263<BR>order = 2<BR>id = 15","<B>[16]<\/B><BR><B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.0853<BR>confidence = 0.82<BR>coverage = 0.104<BR>lift = 1.76<BR>count = 251<BR>order = 2<BR>id = 16","<B>[17]<\/B><BR><B>{認める/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0856<BR>confidence = 0.824<BR>coverage = 0.104<BR>lift = 1.47<BR>count = 252<BR>order = 2<BR>id = 17","<B>[18]<\/B><BR><B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.0934<BR>confidence = 0.851<BR>coverage = 0.11<BR>lift = 1.83<BR>count = 275<BR>order = 2<BR>id = 18","<B>[19]<\/B><BR><B>{信じる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.103<BR>confidence = 0.935<BR>coverage = 0.11<BR>lift = 1.67<BR>count = 302<BR>order = 2<BR>id = 19","<B>[20]<\/B><BR><B>{得る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.0988<BR>confidence = 0.874<BR>coverage = 0.113<BR>lift = 1.56<BR>count = 291<BR>order = 2<BR>id = 20","<B>[21]<\/B><BR><B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.0988<BR>confidence = 0.836<BR>coverage = 0.118<BR>lift = 1.8<BR>count = 291<BR>order = 2<BR>id = 21","<B>[22]<\/B><BR><B>{世の中/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.102<BR>confidence = 0.862<BR>coverage = 0.118<BR>lift = 1.54<BR>count = 300<BR>order = 2<BR>id = 22","<B>[23]<\/B><BR><B>{考え/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.104<BR>confidence = 0.855<BR>coverage = 0.122<BR>lift = 1.52<BR>count = 307<BR>order = 2<BR>id = 23","<B>[24]<\/B><BR><B>{動く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.111<BR>confidence = 0.821<BR>coverage = 0.135<BR>lift = 1.46<BR>count = 326<BR>order = 2<BR>id = 24","<B>[25]<\/B><BR><B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B><BR><BR>support = 0.0927<BR>confidence = 0.815<BR>coverage = 0.114<BR>lift = 2.08<BR>count = 273<BR>order = 2<BR>id = 25","<B>[26]<\/B><BR><B>{尋ねる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.101<BR>confidence = 0.89<BR>coverage = 0.114<BR>lift = 1.59<BR>count = 298<BR>order = 2<BR>id = 26","<B>[27]<\/B><BR><B>{時分/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.102<BR>confidence = 0.818<BR>coverage = 0.125<BR>lift = 1.46<BR>count = 301<BR>order = 2<BR>id = 27","<B>[28]<\/B><BR><B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{書く/動詞}<\/B><BR><BR>support = 0.113<BR>confidence = 0.823<BR>coverage = 0.138<BR>lift = 4.77<BR>count = 334<BR>order = 2<BR>id = 28","<B>[29]<\/B><BR><B>{手紙/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.111<BR>confidence = 0.803<BR>coverage = 0.138<BR>lift = 1.43<BR>count = 326<BR>order = 2<BR>id = 29","<B>[30]<\/B><BR><B>{向う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.111<BR>confidence = 0.856<BR>coverage = 0.129<BR>lift = 1.52<BR>count = 326<BR>order = 2<BR>id = 30","<B>[31]<\/B><BR><B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B><BR><BR>support = 0.105<BR>confidence = 0.803<BR>coverage = 0.131<BR>lift = 2.05<BR>count = 310<BR>order = 2<BR>id = 31","<B>[32]<\/B><BR><B>{付ける/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.107<BR>confidence = 0.819<BR>coverage = 0.131<BR>lift = 1.46<BR>count = 316<BR>order = 2<BR>id = 32","<B>[33]<\/B><BR><B>{学校/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.107<BR>confidence = 0.851<BR>coverage = 0.126<BR>lift = 1.52<BR>count = 315<BR>order = 2<BR>id = 33","<B>[34]<\/B><BR><B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{聞く/動詞}<\/B><BR><BR>support = 0.106<BR>confidence = 0.832<BR>coverage = 0.128<BR>lift = 2.12<BR>count = 313<BR>order = 2<BR>id = 34","<B>[35]<\/B><BR><B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B><BR><BR>support = 0.103<BR>confidence = 0.809<BR>coverage = 0.128<BR>lift = 1.6<BR>count = 304<BR>order = 2<BR>id = 35","<B>[36]<\/B><BR><B>{黙る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.11<BR>confidence = 0.862<BR>coverage = 0.128<BR>lift = 1.54<BR>count = 324<BR>order = 2<BR>id = 36","<B>[37]<\/B><BR><B>{死ぬ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.124<BR>confidence = 0.843<BR>coverage = 0.147<BR>lift = 1.5<BR>count = 364<BR>order = 2<BR>id = 37","<B>[38]<\/B><BR><B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{出る/動詞}<\/B><BR><BR>support = 0.103<BR>confidence = 0.804<BR>coverage = 0.128<BR>lift = 1.81<BR>count = 303<BR>order = 2<BR>id = 38","<B>[39]<\/B><BR><B>{分る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.103<BR>confidence = 0.801<BR>coverage = 0.128<BR>lift = 1.43<BR>count = 302<BR>order = 2<BR>id = 39","<B>[40]<\/B><BR><B>{驚く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{見る/動詞}<\/B><BR><BR>support = 0.113<BR>confidence = 0.82<BR>coverage = 0.138<BR>lift = 1.63<BR>count = 332<BR>order = 2<BR>id = 40","<B>[41]<\/B><BR><B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.113<BR>confidence = 0.814<BR>coverage = 0.139<BR>lift = 1.75<BR>count = 333<BR>order = 2<BR>id = 41","<B>[42]<\/B><BR><B>{繰り返す/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.125<BR>confidence = 0.9<BR>coverage = 0.139<BR>lift = 1.6<BR>count = 368<BR>order = 2<BR>id = 42","<B>[43]<\/B><BR><B>{笑う/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.133<BR>confidence = 0.844<BR>coverage = 0.157<BR>lift = 1.5<BR>count = 391<BR>order = 2<BR>id = 43","<B>[44]<\/B><BR><B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.136<BR>confidence = 0.842<BR>coverage = 0.162<BR>lift = 1.81<BR>count = 401<BR>order = 2<BR>id = 44","<B>[45]<\/B><BR><B>{人間/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.139<BR>confidence = 0.857<BR>coverage = 0.162<BR>lift = 1.53<BR>count = 408<BR>order = 2<BR>id = 45","<B>[46]<\/B><BR><B>{置く/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.151<BR>confidence = 0.811<BR>coverage = 0.187<BR>lift = 1.45<BR>count = 446<BR>order = 2<BR>id = 46","<B>[47]<\/B><BR><B>{持つ/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.136<BR>confidence = 0.81<BR>coverage = 0.168<BR>lift = 1.44<BR>count = 400<BR>order = 2<BR>id = 47","<B>[48]<\/B><BR><B>{見せる/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.139<BR>confidence = 0.819<BR>coverage = 0.169<BR>lift = 1.46<BR>count = 408<BR>order = 2<BR>id = 48","<B>[49]<\/B><BR><B>{起る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.156<BR>confidence = 0.82<BR>coverage = 0.19<BR>lift = 1.46<BR>count = 459<BR>order = 2<BR>id = 49","<B>[50]<\/B><BR><B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.148<BR>confidence = 0.812<BR>coverage = 0.182<BR>lift = 1.74<BR>count = 436<BR>order = 2<BR>id = 50","<B>[51]<\/B><BR><B>{解る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.151<BR>confidence = 0.829<BR>coverage = 0.182<BR>lift = 1.48<BR>count = 445<BR>order = 2<BR>id = 51","<B>[52]<\/B><BR><B>{心持/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{自分/名詞}<\/B><BR><BR>support = 0.165<BR>confidence = 0.828<BR>coverage = 0.199<BR>lift = 1.78<BR>count = 486<BR>order = 2<BR>id = 52","<B>[53]<\/B><BR><B>{お嬢さん/名詞}<\/B><BR>&nbsp;&nbsp; => <B>{K/未知語}<\/B><BR><BR>support = 0.176<BR>confidence = 0.801<BR>coverage = 0.22<BR>lift = 2.38<BR>count = 518<BR>order = 2<BR>id = 53","<B>[54]<\/B><BR><B>{答える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.171<BR>confidence = 0.821<BR>coverage = 0.209<BR>lift = 1.46<BR>count = 504<BR>order = 2<BR>id = 54","<B>[55]<\/B><BR><B>{取る/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.202<BR>confidence = 0.814<BR>coverage = 0.248<BR>lift = 1.45<BR>count = 594<BR>order = 2<BR>id = 55","<B>[56]<\/B><BR><B>{考える/動詞}<\/B><BR>&nbsp;&nbsp; => <B>{思う/動詞}<\/B><BR><BR>support = 0.268<BR>confidence = 0.835<BR>coverage = 0.321<BR>lift = 1.49<BR>count = 788<BR>order = 2<BR>id = 56"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],"x":[-0.9001342291925796,-0.5608707295723101,-0.4432691414549117,-0.2781788378183246,-0.8691764359939895,-0.8539486379954224,-0.6988447556546364,-0.7499829687625331,0.01531634908112278,0.4445283629446983,-0.1616995215178035,-0.5659526414246032,-1,-0.1871924187598238,-0.2457678215908502,-0.8751286250952719,0.395532835898984,0.2657095856983902,-0.06103535994857967,0.2583675872691777,-0.3348406823712422,-0.685031246468139,0.6982219264906335,0.3703922123083827,0.2155214703737713,-0.2127870203587671,0.7692680848672071,-0.6836838629000006,1,0.2934997241766386,0.9540421805618859,-0.3450998992047448,0.4744857751376919,0.05654319837616106,-0.9667453802321497,0.4593574225272763,-0.8214631162201809,-0.3928268700654678,0.4043927574790496,-0.9472855607869179,0.3933623792112451,-0.9107852801374071,0.02196612489668093,-0.6014242586157165,0.1934425221615028,-0.7904067568285988,0.2231000986299956,0.4759709343528147,-0.5663144910475713,0.6784400916086559,0.1250337768883714,0.8865884693980823,-0.1068129091508507,-0.5484089380428365,-0.4400444705580104,-0.03308245051447811,0.2660153951554227,-0.09347258851396434,-0.6798343646353047,-0.612866852521454,-0.3480690225154883,-0.04155152071359969,-0.6470494138798734,0.5541029417283181,0.02638584237826946,0.6938445207602102,0.1432498670201912,-0.1654513272982269,0.6299753234080772,0.07911271100755557,-0.5414587606176273,-0.2986931660646494,-0.3269563436908458,-0.3201148568663947,-0.4504935781121068,0.6261831325080074,0.09300861843321506,-0.03572106886489901,-0.1557533460808315,-0.2092556406462189,-0.6667131632542953,-0.4568789909235202,-0.7482901461470206,-0.4489744340094635,-0.2389892512914136,0.4358230645990087,0.02024934417159319,-0.7957643544210016,0.6120433525471396,0.07880611454969966,-0.5891173274412983,0.6210415230629716,0.08641480456234119,-0.6090783788279317,-0.5174317087103515,-0.4918679741677547,-0.12340679579835,0.5166973250757396,-0.01202992995752827,0.8773180035637036,0.3493776194005109,-0.6973842687611338,-0.3659715549359372,-0.235537852064584],"y":[0.3153964137843324,0.8905071132553708,0.8103844601962393,0.2300898294227978,-0.7266515915349625,-0.2429182020867002,-0.2154610323923577,0.7033483412231261,-0.3308024678182648,-0.6919251764268947,-0.5394170338356312,-0.5492884459444562,0.1366394131466584,0.8892252801779821,-0.8719445310762792,0.1488160157473586,0.272907580903949,-0.3773547553227463,0.7899972450718429,0.6579795558338331,-0.3477898600845527,-0.9291900555378446,0.4681780169674252,0.6337143288804126,0.3416803503561439,1,-0.4181599944928086,0.8169879681724845,0.4159384728247872,0.7947469256124124,0.0855647922178433,-0.5244189506083776,0.1572359489745545,-0.5821387457838387,0.4159371948736432,0.02993936383909701,-0.07502891210772267,0.9666875886975648,-0.2149331019901638,-0.04578827993243662,0.4719510046081863,0.5968657115519924,0.8964781342493069,-0.3366905733294935,-0.1503697418784024,0.5505090819384233,-1,-0.894860014749094,0.06400262324914574,0.1637120057394759,0.08976105748476493,0.4933794453572151,0.6094804110068217,0.4002087895790736,0.6107070088112461,-0.8164347068674686,-0.7023234683043735,-0.2194395746888037,0.3386349360465966,0.2830885731839048,0.654881397263817,0.2808268080935257,0.4519762598134605,0.7618796323425139,0.5737588475180277,0.2600606311904721,0.1764578622234969,0.5131370026135991,0.6677702618677974,0.465346646901599,0.4921410988145374,-0.06527541772574186,-0.7578160080398567,-0.1893387429399577,-0.08882042046486371,-0.339695291021179,-0.02209775949951776,0.03269758152093361,-0.7771498506960959,-0.199034210550446,0.06696777387886432,-0.7866184960715071,-0.6533284164155631,-0.2012727416140183,0.6810195798276508,-0.5454044149054589,-0.1193768695661362,-0.8454668895416557,0.3458891327543712,0.2397706298883946,0.185632060932936,0.546928867846707,0.3604719511261183,-0.05409360919919137,0.5722850873938294,-0.007483543617277544,-0.07228073307844496,0.6496798929889844,0.4739599905934075,0.2631499355993465,-0.952123728369877,0.1796663892396404,0.5235342717730647,0.5932631144796758]},"edges":{"from":[37,36,36,29,43,46,2,34,34,34,35,1,38,25,42,30,30,33,33,19,24,24,8,21,32,32,44,39,39,45,11,11,40,12,12,12,26,18,18,22,17,17,16,41,41,6,28,7,9,20,20,31,47,13,3,14,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104],"to":[49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,4,23,4,23,4,4,4,15,10,4,4,4,4,4,4,23,4,23,4,4,23,4,4,4,15,4,4,27,4,4,15,4,4,15,5,4,4,10,4,5,23,4,4,23,4,4,4,4,4,23,4,23,48,4,4,4],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"hover":true,"zoomSpeed":1}},"groups":["1","2"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="対応分析a.5.7" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="対応分析a.5.7"><span class="header-section-number">2.7</span> 対応分析（A.5.7）</h2>
<section id="コレスポンデンス分析" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="コレスポンデンス分析"><span class="header-section-number">2.7.1</span> コレスポンデンス分析</h3>
<p>段落（<code>doc_id</code>）内の頻度で語彙を削ってから部（<code>section</code>）ごとに集計するために、ややめんどうなことをしている。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dfm <span class="ot">&lt;-</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    pos <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"名詞"</span>, <span class="st">"名詞B"</span>, <span class="st">"名詞C"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"地名"</span>, <span class="st">"人名"</span>, <span class="st">"組織名"</span>, <span class="st">"固有名詞"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"動詞"</span>, <span class="st">"未知語"</span>, <span class="st">"タグ"</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(original), token, original),</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> <span class="fu">paste</span>(token, pos, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(doc_id, token) <span class="sc">|&gt;</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(doc_id, token, n) <span class="sc">|&gt;</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_trim</span>(</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_termfreq =</span> <span class="dv">75</span>,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">termfreq_type =</span> <span class="st">"rank"</span>,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_docfreq =</span> <span class="dv">30</span>,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">docfreq_type =</span> <span class="st">"count"</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>こうして<code>doc_id</code>ごとに集計した<code>dfm</code>オブジェクトを一度<code>tidytext::tidy()</code>して3つ組のデータフレームに戻し、<code>section</code>のラベルを結合する。このデータフレームをもう一度<code>tidytext::cast_dfm()</code>で疎行列に変換して、<code>quanteda.textmodels::textmodel_ca()</code>を使って対応分析にかける。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ca_fit <span class="ot">&lt;-</span> dfm <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(tbl, doc_id, section),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(document <span class="sc">==</span> doc_id)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(section, term, count) <span class="sc">|&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  quanteda.textmodels<span class="sc">::</span><span class="fu">textmodel_ca</span>(<span class="at">nd =</span> <span class="dv">2</span>, <span class="at">sparse =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>この関数は疎行列に対して計算をおこなえるため、比較的大きな行列を渡しても大丈夫。</p>
</section>
<section id="バイプロット" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="バイプロット"><span class="header-section-number">2.7.2</span> バイプロット</h3>
<p>caパッケージを読み込んでいると<code>plot()</code>でバイプロットを描ける。<code>factoextra::fviz_ca_biplot()</code>でも描けるが、見た目は<code>plot()</code>のとあまり変わらない。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ca)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">plot</span>(ca_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-ca-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="バイプロットバブルプロット" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="バイプロットバブルプロット"><span class="header-section-number">2.7.3</span> バイプロット（バブルプロット）</h3>
<p>ggplot2でバイプロットを描画するには、たとえば次のようにする。<code>ggrepel::geom_text_repel</code>でラベルを出す語彙の選択の仕方はもうすこし工夫したほうがよいかもしれない。</p>
<p>なお、このコードは<a href="https://www.r-bloggers.com/2019/08/correspondence-analysis-visualization-using-ggplot/">Correspondence Analysis visualization using ggplot | R-bloggers</a>を参考にした。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>tf <span class="ot">&lt;-</span> dfm <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">tidy</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(tbl, doc_id, section),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(document <span class="sc">==</span> doc_id)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">tf =</span> <span class="fu">sum</span>(count), <span class="at">.by =</span> term) <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">pull</span>(tf, term)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># modified from https://www.r-bloggers.com/2019/08/correspondence-analysis-visualization-using-ggplot/</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>make_ca_plot_df <span class="ot">&lt;-</span> <span class="cf">function</span>(ca.plot.obj, <span class="at">row.lab =</span> <span class="st">"Rows"</span>, <span class="at">col.lab =</span> <span class="st">"Columns"</span>) {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Label =</span> <span class="fu">c</span>(</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rownames</span>(ca.plot.obj<span class="sc">$</span>rows),</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rownames</span>(ca.plot.obj<span class="sc">$</span>cols)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dim1 =</span> <span class="fu">c</span>(</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>      ca.plot.obj<span class="sc">$</span>rows[, <span class="dv">1</span>],</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>      ca.plot.obj<span class="sc">$</span>cols[, <span class="dv">1</span>]</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dim2 =</span> <span class="fu">c</span>(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>      ca.plot.obj<span class="sc">$</span>rows[, <span class="dv">2</span>],</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>      ca.plot.obj<span class="sc">$</span>cols[, <span class="dv">2</span>]</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">c</span>(</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(row.lab, <span class="fu">nrow</span>(ca.plot.obj<span class="sc">$</span>rows)),</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(col.lab, <span class="fu">nrow</span>(ca.plot.obj<span class="sc">$</span>cols))</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make_ca_plot_df</span>(<span class="at">row.lab =</span> <span class="st">"Construction"</span>, <span class="at">col.lab =</span> <span class="st">"Medium"</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">Size =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(Variable <span class="sc">==</span> <span class="st">"Construction"</span>, <span class="fu">mean</span>(tf), tf[Label])</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a><span class="co"># 非ASCII文字のラベルに対してwarningを出さないようにする</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>({</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>  ca_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(ca_fit)</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>  dim_var_percs <span class="ot">&lt;-</span> ca_sum<span class="sc">$</span>scree[, <span class="st">"values2"</span>]</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Dim1, <span class="at">y =</span> Dim2, <span class="at">col =</span> Variable, <span class="at">label =</span> Label)) <span class="sc">+</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="st">"dashed"</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">size =</span> Size), <span class="at">alpha =</span> .<span class="dv">3</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_label_repel</span>(</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> \(x) dplyr<span class="sc">::</span><span class="fu">filter</span>(x, Variable <span class="sc">==</span> <span class="st">"Construction"</span>),</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_text_repel</span>(</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> \(x) dplyr<span class="sc">::</span><span class="fu">filter</span>(x, Variable <span class="sc">==</span> <span class="st">"Medium"</span>, <span class="fu">sqrt</span>(Dim1<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> Dim2<span class="sc">^</span><span class="dv">2</span>) <span class="sc">&gt;</span> <span class="fl">0.25</span>),</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">range</span>(dat<span class="sc">$</span>Dim1) <span class="sc">+</span></span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">diff</span>(<span class="fu">range</span>(dat<span class="sc">$</span>Dim1)) <span class="sc">*</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="fu">diff</span>(<span class="fu">range</span>(dat<span class="sc">$</span>Dim1)) <span class="sc">*</span> <span class="fl">0.2</span>)</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">range</span>(dat<span class="sc">$</span>Dim2) <span class="sc">+</span></span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">diff</span>(<span class="fu">range</span>(dat<span class="sc">$</span>Dim2)) <span class="sc">*</span> <span class="sc">-</span><span class="fl">0.2</span>, <span class="fu">diff</span>(<span class="fu">range</span>(dat<span class="sc">$</span>Dim2)) <span class="sc">*</span> <span class="fl">0.2</span>)</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_area</span>(<span class="at">max_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"Dimension 1 ("</span>, <span class="fu">signif</span>(dim_var_percs[<span class="dv">1</span>], <span class="dv">3</span>), <span class="st">"%)"</span>),</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">paste0</span>(<span class="st">"Dimension 2 ("</span>, <span class="fu">signif</span>(dim_var_percs[<span class="dv">2</span>], <span class="dv">3</span>), <span class="st">"%)"</span>)</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: ggrepel: 23 unlabeled data points (too many overlaps). Consider</span></span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; increasing max.overlaps</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-ca-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="多次元尺度構成法a.5.8" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="多次元尺度構成法a.5.8"><span class="header-section-number">2.8</span> 多次元尺度構成法（A.5.8）</h2>
<section id="mdsバブルプロット" class="level3" data-number="2.8.1">
<h3 data-number="2.8.1" class="anchored" data-anchor-id="mdsバブルプロット"><span class="header-section-number">2.8.1</span> MDS・バブルプロット</h3>
<p><code>MASS::isoMDS</code>より<code>MASS::sammon</code>のほうがたぶん見やすい。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>simil <span class="ot">&lt;-</span> dfm <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_weight</span>(<span class="at">scheme =</span> <span class="st">"boolean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  proxyC<span class="sc">::</span><span class="fu">simil</span>(<span class="at">margin =</span> <span class="dv">2</span>, <span class="at">method =</span> <span class="st">"jaccard"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">sammon</span>(<span class="dv">1</span> <span class="sc">-</span> simil, <span class="at">k =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="st">"points"</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Initial stress        : 0.62279</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; stress after   0 iters: 0.62279</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="st">"label"</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Dim1 =</span> V1, <span class="at">Dim2 =</span> V2) <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> tf[label],</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">clust =</span> (<span class="fu">hclust</span>(</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>      proxyC<span class="sc">::</span><span class="fu">dist</span>(dat, <span class="at">method =</span> <span class="st">"euclidean"</span>) <span class="sc">|&gt;</span> <span class="fu">as.dist</span>(),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">"ward.D2"</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">cutree</span>(<span class="at">k =</span> <span class="dv">6</span>))[label]</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Dim1, <span class="at">y =</span> Dim2, <span class="at">label =</span> label, <span class="at">col =</span> <span class="fu">factor</span>(clust))) <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> size), <span class="at">alpha =</span> .<span class="dv">3</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  ggrepel<span class="sc">::</span><span class="fu">geom_text_repel</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_area</span>(<span class="at">max_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: ggrepel: 24 unlabeled data points (too many overlaps). Consider</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; increasing max.overlaps</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-mds-2d-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mds3次元プロット" class="level3" data-number="2.8.2">
<h3 data-number="2.8.2" class="anchored" data-anchor-id="mds3次元プロット"><span class="header-section-number">2.8.2</span> MDS・3次元プロット</h3>
<p>rglではなくplotlyで試してみたが、とくに見やすいということはなかったかもしれない。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">sammon</span>(<span class="dv">1</span> <span class="sc">-</span> simil, <span class="at">k =</span> <span class="dv">3</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="st">"points"</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="st">"label"</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Dim1 =</span> V1, <span class="at">Dim2 =</span> V2, <span class="at">Dim3 =</span> V3) <span class="sc">|&gt;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">term_freq =</span> tf[label])</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Initial stress        : 0.53925</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; stress after  10 iters: 0.18929, magic = 0.092</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; stress after  20 iters: 0.14417, magic = 0.043</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; stress after  21 iters: 0.13794</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>Dim1, <span class="at">y =</span> <span class="sc">~</span>Dim2, <span class="at">z =</span> <span class="sc">~</span>Dim3, <span class="at">text =</span> <span class="sc">~</span>label, <span class="at">color =</span> <span class="sc">~</span>term_freq) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">add_markers</span>(<span class="at">opacity =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-baaf7768d1a0c33e3f5b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-baaf7768d1a0c33e3f5b">{"x":{"visdat":{"cab5998b7c8":["function () ","plotlyVisDat"]},"cur_data":"cab5998b7c8","attrs":{"cab5998b7c8":{"x":{},"y":{},"z":{},"text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter3d","mode":"markers","opacity":0.5,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Dim1"},"yaxis":{"title":"Dim2"},"zaxis":{"title":"Dim3"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[-0.92692658201404421,0.10263308808668287,-0.049791821256368177,-0.25176247794353096,-0.021552235763732525,-0.043669947193165526,-0.0960074563413673,0.51906236970618702,0.064658616130153029,0.27962897890942801,0.22285999414593907,0.43544223190352987,0.11274206623484569,0.5541692029702775,0.18713757242451892,0.15478719053803094,-0.29024417959444826,0.32114110637951898,-0.34990257578394424,0.0081086598012240357,0.14558751691583746,0.52807828747537811,-0.068695660150991961,0.3327413268056813,0.24301538853220581,0.52925252188156346,0.11852021860346539,0.27471146341294417,0.18592377235749485,-0.30472487383223312,0.51513818280803336,-0.18163008310436118,0.12488011203558511,-0.36339637668205504,-0.055655339830218156,0.19202667392441269,0.59829501464932189,0.16093632682081022,0.018766660616594814,0.041475032469467051,0.16885203247658764,0.096458898054403983,-0.2962594852720451,-0.13996490697046465,0.021165477249372771,-1.6692670272011845,-0.49480601335013236,-0.41832059333157234,0.38270778424248642,-0.53151494161550172,-0.0047139118896461444,-0.50496808209060673,0.0036511056481057531,-0.27429619624070528,-0.22567197832486624,-0.080552730784251042,-0.29865779273795739,-0.42021445203313312,-0.33254127808648321,0.52594812393451607,-0.10393385924892848,-0.5524482989592675,-0.74142901668051242,0.25839511866895248,0.14358297864981096,-0.61487107938330987,-0.19411209953772857,0.42732473337647464,0.34473655860093566,-0.033124333334000389,-0.46778480948355039,-0.0048602860650823424,0.75946414458978817,0.91304028329675857,0.13801511936483093,0.069073196355041999,0.18413765106419189],"y":[-0.10772928373663369,0.30698703705408442,-0.35094673656827846,-0.56034424256025839,0.016893082016691315,-0.73214013033951808,0.65875392598372917,-0.10313385910496432,0.68213695857574286,-0.38142465828569894,-0.27922023359546072,0.19559017071957824,-0.54989379062993715,-0.3935991311232358,-0.016329271643704162,-0.14449705392743717,-0.43987517162821171,-0.18923923861363517,-0.5433265175674602,-0.51274425644746324,0.42891679065014399,0.01371179021952729,-0.2501538129074784,-0.31775483871373011,-0.63956160697108366,0.47101591763278078,0.22411379856758043,-0.48500754992900069,-0.36199352772129173,0.64509247821232185,-0.12379967171935811,0.35750838362858739,-0.94883976113882584,0.091984651102519202,0.094572923864359615,0.010232558221077522,-0.42016412524162955,0.31121363559502302,0.56339108210320255,0.42508659501513552,0.11422890437789149,0.015435117698505557,0.20084758044255846,-0.14139911535274255,-0.39888905017412229,-0.12208233919575472,-0.27224891341696261,-0.83461950144201391,0.69356922484675432,0.34788401114103634,-0.091223795596217322,-0.25147875287800747,-0.046607984881728612,0.11669374642946982,0.090510110545122285,0.52701642017014483,0.6815800066114267,-0.42615524960801437,0.10005078964071647,0.29226820547929649,0.78341841832373793,-0.058747503703972206,-0.029533611539907686,-0.16219778707432667,0.1251685402679765,-0.2667408091033906,-0.083833556713128546,-0.32225708025345995,0.63523452882546005,0.44585965518543919,0.4398682762324751,0.64580266225505378,-0.24766746202114964,-0.019783725078189058,0.1307932238141381,0.011263629841516931,0.73248987685658018],"z":[0.08721002037438233,0.062385175288451063,0.46284446527309214,-0.019476858009239768,-0.83150843242091887,0.16483966971618871,-0.11192249840415622,0.17178754594972306,-0.10340572257721227,-0.46251145361492724,-0.083046241754643993,0.57257671326317483,-0.57492453098341567,0.18231373607044549,-0.3585617090281758,-0.56940661983710328,-0.41103269432209161,-0.67832420876435606,-0.061032325318858369,0.096355884074035739,0.11135053489386335,0.17657476312029619,0.57236111742920259,-0.43787970584193536,-0.088745492683882377,-0.084605165396959808,-0.15439268238067314,0.024385328902643961,0.07896479546262597,0.2089458443811614,-0.19315119040715992,0.086591996303072391,0.043752922723694139,-0.21551196681703808,0.095290706393959257,0.4889820879723662,-0.12578150137183761,-0.52654941905075181,0.10534767884175024,-0.17622575515382891,-0.53411947718593156,-0.18036965570370078,0.52628453526178742,-0.60263611525706462,0.057280073659891489,0.063590080564629697,-0.41297346194820345,-0.14699433912965737,-0.018997867734821448,0.11990388206497532,-0.51595032077777703,0.35502843129945783,1.0788285024462951,-0.45421849238210488,-0.15144492968860312,-0.32314802245333435,-0.0079178218975383616,0.27994159501057114,0.058071484278019024,0.0036369351934208045,0.29313647929208753,-0.35044247439715615,0.21499673571075248,0.61032786136455308,0.13756372228419692,0.11122014327258946,0.59368854596249843,0.52199512176231389,-0.0074349753197897476,0.39601277198321738,-0.45802634006536508,-0.42412569808201933,0.06114922772334707,-0.0035363728256141624,0.022690210238771321,1.0966795529059812,0.46544566027436163],"text":["書く/動詞","心持/名詞","見せる/動詞","来る/動詞","人/名詞C","持つ/動詞","風/名詞C","眼/名詞C","頭/名詞C","見る/動詞","見える/動詞","付く/動詞","思う/動詞","答える/動詞","口/名詞C","出る/動詞","先生/名詞","顔/名詞C","帰る/動詞","行く/動詞","歩く/動詞","笑う/動詞","手/名詞C","自分/名詞","聞く/動詞","女/名詞C","知れる/動詞","立つ/動詞","通り/名詞","妻/名詞C","二人/タグ","外/名詞C","宅/名詞C","間/名詞C","解る/動詞","黙る/動詞","奥さん/名詞","心/名詞C","動く/動詞","起る/動詞","考える/動詞","様子/名詞","一つ/名詞","言葉/名詞","話す/動詞","手紙/名詞","父/名詞C","母/名詞C","男/名詞C","死ぬ/動詞","知る/動詞","読む/動詞","呼ぶ/動詞","家/名詞C","一人/タグ","人間/名詞","他/名詞C","出す/動詞","分る/動詞","態度/名詞","眺める/動詞","東京/地名","置く/動詞","坐る/動詞","気/名詞C","兄/名詞C","傍/名詞C","室/名詞C","胸/名詞C","先/名詞C","叔父/名詞","違う/動詞","お嬢さん/名詞","K/未知語","取る/動詞","声/名詞C","向う/動詞"],"type":"scatter3d","mode":"markers","opacity":0.5,"marker":{"colorbar":{"title":"term_freq","ticklen":2},"cmin":40,"cmax":595,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[73,57,43,137,176,48,42,123,73,225,97,55,293,92,89,179,595,130,153,113,51,52,71,264,218,77,79,96,82,105,115,61,75,85,71,40,388,103,47,51,129,61,41,127,60,74,269,170,66,90,114,50,48,70,73,70,40,67,47,54,42,74,47,54,65,62,41,72,40,41,70,47,168,411,56,60,40],"line":{"colorbar":{"title":"","ticklen":2},"cmin":40,"cmax":595,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[73,57,43,137,176,48,42,123,73,225,97,55,293,92,89,179,595,130,153,113,51,52,71,264,218,77,79,96,82,105,115,61,75,85,71,40,388,103,47,51,129,61,41,127,60,74,269,170,66,90,114,50,48,70,73,70,40,67,47,54,42,74,47,54,65,62,41,72,40,41,70,47,168,411,56,60,40]}},"frame":null},{"x":[-1.6692670272011845,0.91304028329675857],"y":[-0.94883976113882584,0.78341841832373793],"type":"scatter3d","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"term_freq","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":40,"cmax":595,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[40,595],"line":{"color":"rgba(255,127,14,1)"}},"z":[-0.83150843242091887,1.0966795529059812],"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="階層的クラスター分析a.5.9" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="階層的クラスター分析a.5.9"><span class="header-section-number">2.9</span> 階層的クラスター分析（A.5.9）</h2>
<section id="非類似度のヒートマップ" class="level3" data-number="2.9.1">
<h3 data-number="2.9.1" class="anchored" data-anchor-id="非類似度のヒートマップ"><span class="header-section-number">2.9.1</span> 非類似度のヒートマップ🍳</h3>
<p>Jaccard係数を指定して非類似度のヒートマップを描くと、そもそもパターンが何も見えなかった。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> dfm <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">termfreq_type =</span> <span class="st">"rank"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_weight</span>(<span class="at">scheme =</span> <span class="st">"boolean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  proxyC<span class="sc">::</span><span class="fu">simil</span>(<span class="at">margin =</span> <span class="dv">2</span>, <span class="at">method =</span> <span class="st">"dice"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  rlang<span class="sc">::</span><span class="fu">as_function</span>(<span class="sc">~</span> <span class="dv">1</span> <span class="sc">-</span> .)()</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>factoextra<span class="sc">::</span><span class="fu">fviz_dist</span>(<span class="fu">as.dist</span>(dat))</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in vp$just: 'just' の 'justification' への部分的マッチ</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-heatmap-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="階層的クラスタリング" class="level3" data-number="2.9.2">
<h3 data-number="2.9.2" class="anchored" data-anchor-id="階層的クラスタリング"><span class="header-section-number">2.9.2</span> 階層的クラスタリング</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>clusters <span class="ot">&lt;-</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.dist</span>(dat) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hclust</span>(<span class="at">method =</span> <span class="st">"ward.D2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="シルエット分析" class="level3" data-number="2.9.3">
<h3 data-number="2.9.3" class="anchored" data-anchor-id="シルエット分析"><span class="header-section-number">2.9.3</span> シルエット分析🍳</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>factoextra<span class="sc">::</span><span class="fu">fviz_nbclust</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>(dat),</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUNcluster =</span> factoextra<span class="sc">::</span>hcut,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">k.max =</span> <span class="fu">ceiling</span>(<span class="fu">sqrt</span>(<span class="fu">nrow</span>(dat)))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-hclust-silhoutte-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>cluster<span class="sc">::</span><span class="fu">silhouette</span>(<span class="fu">cutree</span>(clusters, <span class="at">k =</span> <span class="dv">4</span>), <span class="at">dist =</span> dat) <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  factoextra<span class="sc">::</span><span class="fu">fviz_silhouette</span>(<span class="at">print.summary =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in vp$just: 'just' の 'justification' への部分的マッチ</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-hclust-silhoutte-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="デンドログラム" class="level3" data-number="2.9.4">
<h3 data-number="2.9.4" class="anchored" data-anchor-id="デンドログラム"><span class="header-section-number">2.9.4</span> デンドログラム</h3>
<p>デンドログラムについては、似たような表現を手軽に実現できる方法が見つけられない。ラベルの位置が左右反転しているが、<code>factoextra::fviz_dend(horiz = TRUE)</code>とするのが簡単かもしれない。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>factoextra<span class="sc">::</span><span class="fu">fviz_dend</span>(clusters, <span class="at">h =</span> <span class="fl">1.0</span>, <span class="at">horiz =</span> <span class="cn">TRUE</span>, <span class="at">labels_track_height =</span> <span class="fl">0.3</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in seq.default(15, 375, length = k + 1): 'length' の 'length.out'</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; への部分的な引数のマッチング</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use "none" instead as</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; of ggplot2 3.3.4.</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ The deprecated feature was likely used in the factoextra package.</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Please report the issue at &lt;https://github.com/kassambara/factoextra/issues&gt;.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-hclust-factoextra-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="デンドログラムと棒グラフ" class="level3" data-number="2.9.5">
<h3 data-number="2.9.5" class="anchored" data-anchor-id="デンドログラムと棒グラフ"><span class="header-section-number">2.9.5</span> デンドログラムと棒グラフ</h3>
<p>KH Coderのソースコードを見た感じ、デンドログラムと一緒に語の出現回数を描いている表現は、やや独特なことをしている。むしろ語の出現回数のほうが主な情報になってよいなら、ふつうの棒グラフの横に<code>ggh4x::scale_y_dendrogram()</code>でデンドログラムを描くことができる。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>dfm <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_trim</span>(<span class="at">min_termfreq =</span> <span class="dv">30</span>, <span class="at">termfreq_type =</span> <span class="st">"rank"</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">colSums</span>() <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">enframe</span>() <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">clust =</span> (clusters <span class="sc">|&gt;</span> <span class="fu">cutree</span>(<span class="at">h =</span> <span class="fl">1.0</span>))[name]</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> name, <span class="at">fill =</span> <span class="fu">factor</span>(clust))) <span class="sc">+</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_sqrt</span>() <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  ggh4x<span class="sc">::</span><span class="fu">scale_y_dendrogram</span>(<span class="at">hclust =</span> clusters) <span class="sc">+</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"出現回数"</span>, <span class="at">y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: The S3 guide system was deprecated in ggplot2 3.5.0.</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ It has been replaced by a ggproto system that can be extended.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-hclust-ggplot2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="共起ネットワーク-1" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="共起ネットワーク-1"><span class="header-section-number">2.10</span> 共起ネットワーク</h2>
</section>
<section id="自己組織化マップa.5.10" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="自己組織化マップa.5.10"><span class="header-section-number">2.11</span> 自己組織化マップ（A.5.10）</h2>
<section id="自己組織化マップsom" class="level3" data-number="2.11.1">
<h3 data-number="2.11.1" class="anchored" data-anchor-id="自己組織化マップsom"><span class="header-section-number">2.11.1</span> 自己組織化マップ（SOM）</h3>
<p>SOMの実装としては、KH Coderは<a href="https://cran.r-project.org/package=som">som</a>を使っているようだが、<a href="https://cran.r-project.org/package=kohonen">kohonen</a>を使ったほうがよい。行列が非常に大きい場合には<code>kohonen::som(mode = "online")</code>としてもよいのかもしれないが、一般にバッチ型のほうが収束が早く、数十ステップ程度回せば十分である。</p>
<p>与える単語文書行列は、ここでは<code>tidytext::bind_tf_idf()</code>を使ってTF-IDFで重みづけし、上位100語ほど抽出する。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tbl</span>(con, <span class="st">"tokens"</span>) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    pos <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"名詞"</span>, <span class="co"># "名詞B", "名詞C",</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"地名"</span>, <span class="st">"人名"</span>, <span class="st">"組織名"</span>, <span class="st">"固有名詞"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"動詞"</span>, <span class="st">"未知語"</span>, <span class="st">"タグ"</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(<span class="fu">is.na</span>(original), token, original),</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">token =</span> <span class="fu">paste</span>(token, pos, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(doc_id, token) <span class="sc">|&gt;</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">collect</span>() <span class="sc">|&gt;</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">bind_tf_idf</span>(token, doc_id, n) <span class="sc">|&gt;</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  tidytext<span class="sc">::</span><span class="fu">cast_dfm</span>(doc_id, token, tf_idf) <span class="sc">|&gt;</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  quanteda<span class="sc">::</span><span class="fu">dfm_trim</span>(</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_termfreq =</span> <span class="dv">100</span>,</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">termfreq_type =</span> <span class="st">"rank"</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">|&gt;</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale</span>() <span class="sc">|&gt;</span></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>som_fit <span class="ot">&lt;-</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>  kohonen<span class="sc">::</span><span class="fu">som</span>(</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>    dat,</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> kohonen<span class="sc">::</span><span class="fu">somgrid</span>(<span class="dv">16</span>, <span class="dv">12</span>, <span class="st">"hexagonal"</span>),</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">rlen =</span> <span class="dv">50</span>, <span class="co"># 学習回数</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.01</span>),</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">radius =</span> <span class="dv">6</span>,</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">dist.fcts =</span> <span class="st">"sumofsquares"</span>,</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">mode =</span> <span class="st">"pbatch"</span>,</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">init =</span> aweSOM<span class="sc">::</span><span class="fu">somInit</span>(dat, <span class="dv">16</span>, <span class="dv">12</span>)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in seq.default(along = data): 'along' の 'along.with'</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; への部分的な引数のマッチング</span></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in seq.default(along = whatmap): 'along' の 'along.with'</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; への部分的な引数のマッチング</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in seq.default(along = data): 'along' の 'along.with'</span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; への部分的な引数のマッチング</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>aweSOM<span class="sc">::</span><span class="fu">somQuality</span>(som_fit, dat)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Registered S3 methods overwritten by 'proxy':</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   method               from    </span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   print.registry_field registry</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   print.registry_entry registry</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ## Quality measures:</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Quantization error     :  277.4495 </span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * (% explained variance) :  75.27 </span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Topographic error      :  0.21 </span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  * Kaski-Lagus error      :  34.10662 </span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  </span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ## Number of obs. per map cell:</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20 </span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3   2   0   2   2   0   2   0   1   1   0   0   1   2   0   1   0   0   0   0 </span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40 </span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   0   0   0   0   0   2   0   0   0   0   0   0   0   0   0   0   0   2   0 </span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60 </span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   1   0   0   1   0   0   2   2   0   2   1   1   0   0   0   0   2   1   0 </span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80 </span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   1   1   0   2   0   1   1   0   1   1   0   0   1   0   0   2   1   0   2 </span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 </span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   0   0   0   1   2   0   0   1   0   1   0   0   0   1   0   0   0   0   0 </span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 </span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   1   0   0   1   0   0   0   1   0   0   1   2   0   1   1   0   0   0   0 </span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 </span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1   2   0   0   1   1   0   0   1   0   0   0   0   1   0   0   1   0   0   0 </span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 </span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1   0   0   2   1   0   1   0   0   1   3   0   0   1   0   1   1   0   0   0 </span></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 </span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   1   0   0   2   0   0   0   0   0   1   1   0   0   1   1   1   1   2   0 </span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 181 182 183 184 185 186 187 188 189 190 191 192 </span></span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0   1   1   1   0   0   1   0   0   0   3   0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="u-matrix" class="level3" data-number="2.11.2">
<h3 data-number="2.11.2" class="anchored" data-anchor-id="u-matrix"><span class="header-section-number">2.11.2</span> U-Matrix</h3>
<p>U-matrixは「各ノードの参照ベクトルが近傍ノードと異なる度合いで色づけする方法」（<a href="https://www.brain.kyutech.ac.jp/~furukawa/data/SOMtext.pdf">自己組織化マップ入門</a>）。暖色の箇所はデータ密度が低い「山間部」で、寒色の箇所はデータ密度が高い「平野部」みたいなイメージ、写像の勾配が急峻になっている箇所を境にしてクラスタが分かれていると判断するみたいな見方をする。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>aweSOM<span class="sc">::</span><span class="fu">aweSOMsmoothdist</span>(som_fit)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in vp$just: 'just' の 'justification' への部分的マッチ</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="plot-words_files/figure-html/plot-umatrix-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>aweSOM<span class="sc">::</span><span class="fu">aweSOMplot</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  som_fit,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"UMatrix"</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<h4 id="aweSOMwidget-c458b12f7b4673fb632c-info" class="anchored"></h4>
<h4 id="aweSOMwidget-c458b12f7b4673fb632c-message" class="anchored"></h4>
<div id="aweSOMwidget-c458b12f7b4673fb632c" class="aweSOMwidget html-widget" style="width:400px;height:auto;display:block; margin:auto; margin-top:5px; margin-bottom:5px;"></div>
<p id="aweSOMwidget-c458b12f7b4673fb632c-names"></p>
<svg id="aweSOMwidget-c458b12f7b4673fb632c-placeHolder"></svg>
<script type="application/json" data-for="aweSOMwidget-c458b12f7b4673fb632c">{"x":{"plotType":"Color","sizeInfo":400,"gridInfo":{"nbLines":12,"nbColumns":16,"topology":"hexagonal"},"superclass":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"superclassColor":["#8DD3C7"],"cellNames":["帰る/動詞, 入れる/動詞, 掛ける/動詞","態度/名詞, 答える/動詞","","お嬢さん/名詞, K/未知語","二人/タグ, 付く/動詞","","見える/動詞, 地面/名詞","","知る/動詞","驚く/動詞","","","召し上がる/動詞","雑司ケ谷/固有名詞, 答え/名詞","","亡くなる/動詞","","","","","","","","","","","言葉/名詞, 黙る/動詞","","","","","","","","","","","","歩く/動詞, 利く/動詞","","","田舎/名詞","","","寝る/動詞","","","夫婦/名詞, 傾く/動詞","解る/動詞, 医者/名詞","","坐る/動詞, 隠す/動詞","眺める/動詞","心持/名詞","","","","","会う/動詞, ー/未知語","受ける/動詞","","","小食/名詞","食う/動詞","","呼ぶ/動詞, 悟る/動詞","","一つ/名詞","自分/名詞","","天子/名詞","暴力/名詞","","","子供/名詞","","","売る/動詞, 大学/名詞","頼む/動詞","","世間/名詞, 聞こえる/動詞","","","","","話す/動詞","構う/動詞, 貰う/動詞","","","起る/動詞","","考える/動詞","","","","驚かす/動詞","","","","","","","死ぬ/動詞","","","財産/名詞","","","","向く/動詞","","","出す/動詞","困る/動詞, 理屈/名詞","","叔父/名詞","落ちる/動詞","","","","","調子/名詞","聞く/動詞, お父さん/名詞","","","止す/動詞","笑う/動詞","","","違う/動詞","","","","","身体/名詞","","","生きる/動詞","","","","奥さん/名詞","","","分る/動詞, 手紙/名詞","知れる/動詞","","変る/動詞","","","気分/名詞","様子/名詞, 動く/動詞, お母さん/名詞","","","来る/動詞","","見る/動詞","先生/名詞","","","","","出る/動詞","","","墓参り/名詞, 持つ/動詞","","","","","","書く/動詞","思う/動詞","","","止める/動詞","罪悪/名詞","立つ/動詞","東京/地名","得る/動詞, 通り/名詞","","","行く/動詞","人間/名詞","友達/名詞","","","休む/動詞","","","","一人/タグ, 読む/動詞, 嫌う/動詞",""],"clustering":[157,80,172,191,145,177,154,109,156,1,5,129,89,182,141,162,27,151,27,2,2,165,14,91,122,126,58,65,112,144,14,45,179,65,49,9,67,48,151,39,7,10,176,51,68,147,51,102,52,1,171,58,187,178,165,48,49,71,80,53,105,179,122,1,42,116,85,86,125,144,113,16,183,137,63,184,70,59,191,78,39,150,74,5,115,134,77,95,4,121,86,4,7,191,13,113,175,151,77,62],"cellPop":[3,2,0,2,2,0,2,0,1,1,0,0,1,2,0,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,1,0,0,2,2,0,2,1,1,0,0,0,0,2,1,0,0,1,1,0,2,0,1,1,0,1,1,0,0,1,0,0,2,1,0,2,0,0,0,0,1,2,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,2,0,1,1,0,0,0,0,1,2,0,0,1,1,0,0,1,0,0,0,0,1,0,0,1,0,0,0,1,0,0,2,1,0,1,0,0,1,3,0,0,1,0,1,1,0,0,0,0,1,0,0,2,0,0,0,0,0,1,1,0,0,1,1,1,1,2,0,0,1,1,1,0,0,1,0,0,0,3,0],"showAxes":true,"transparency":true,"showNames":true,"legendPos":"beside","legendFontsize":14,"legendReverse":false,"label":["(37.5,41.8]","(33.3,37.5]","(29,33.3]","(24.7,29]","(20.5,24.7]","(16.2,20.5]","(11.9,16.2]","(7.65,11.9]"],"normalizedValues":["#365C8D","#277F8E","#46337E","#277F8E","#277F8E","#46337E","#365C8D","#365C8D","#9FDA3A","#FDE725","#46337E","#440154","#9FDA3A","#277F8E","#365C8D","#1FA187","#440154","#46337E","#440154","#46337E","#46337E","#440154","#46337E","#365C8D","#365C8D","#277F8E","#1FA187","#440154","#365C8D","#277F8E","#440154","#365C8D","#440154","#46337E","#46337E","#365C8D","#46337E","#46337E","#277F8E","#46337E","#46337E","#FDE725","#365C8D","#46337E","#9FDA3A","#365C8D","#46337E","#365C8D","#277F8E","#365C8D","#1FA187","#FDE725","#FDE725","#277F8E","#277F8E","#365C8D","#46337E","#4AC16D","#9FDA3A","#46337E","#365C8D","#FDE725","#9FDA3A","#365C8D","#277F8E","#365C8D","#9FDA3A","#FDE725","#4AC16D","#FDE725","#4AC16D","#365C8D","#277F8E","#FDE725","#277F8E","#46337E","#1FA187","#FDE725","#277F8E","#365C8D","#440154","#440154","#365C8D","#1FA187","#9FDA3A","#4AC16D","#277F8E","#365C8D","#4AC16D","#1FA187","#9FDA3A","#365C8D","#365C8D","#1FA187","#9FDA3A","#277F8E","#440154","#46337E","#277F8E","#277F8E","#277F8E","#9FDA3A","#365C8D","#277F8E","#FDE725","#277F8E","#46337E","#277F8E","#9FDA3A","#277F8E","#365C8D","#4AC16D","#277F8E","#277F8E","#9FDA3A","#9FDA3A","#365C8D","#277F8E","#277F8E","#365C8D","#9FDA3A","#1FA187","#440154","#46337E","#9FDA3A","#FDE725","#365C8D","#365C8D","#FDE725","#FDE725","#1FA187","#365C8D","#46337E","#4AC16D","#46337E","#46337E","#FDE725","#277F8E","#365C8D","#1FA187","#FDE725","#365C8D","#46337E","#365C8D","#4AC16D","#1FA187","#9FDA3A","#365C8D","#365C8D","#4AC16D","#277F8E","#440154","#365C8D","#9FDA3A","#4AC16D","#4AC16D","#FDE725","#365C8D","#46337E","#277F8E","#1FA187","#FDE725","#365C8D","#440154","#1FA187","#277F8E","#365C8D","#365C8D","#365C8D","#277F8E","#FDE725","#FDE725","#365C8D","#365C8D","#9FDA3A","#277F8E","#9FDA3A","#FDE725","#4AC16D","#440154","#46337E","#9FDA3A","#FDE725","#9FDA3A","#365C8D","#46337E","#9FDA3A","#1FA187","#46337E","#440154","#1FA187","#1FA187"],"realValues":[19.4907,21.7173,12.6988,21.9141,21.6599,14.6874,17.367,18.6464,33.4447,37.679,15.118,11.7712,34.2422,20.5921,17.3322,28.775,10.1286,12.2022,11.5574,11.9438,14.7609,11.8389,15.4682,17.2741,16.7331,23.2942,26.1979,10.0227,17.646,21.046,11.4949,17.9223,11.3389,12.0643,15.1916,18.6294,15.0728,14.2542,24.4426,12.8929,14.9794,37.9636,18.8115,14.449,35.2946,19.9889,16.1923,18.8908,23.3139,18.0898,28.1879,39.7563,37.8331,21.9348,22.9671,18.3417,13.3899,30.6803,37.5506,14.0867,18.3693,40.1495,33.8291,18.7165,22.5896,20.1229,35.5242,41.8067,31.3122,37.8569,32.9722,18.5497,21.7364,38.6308,21.5609,12.5835,26.7455,39.4738,23.1386,17.8793,11.8802,10.1855,16.688,24.9415,33.818,31.744,23.1242,19.6832,32.2192,26.7708,35.4866,18.8759,20.0038,27.1889,35.7981,20.9009,10.5455,13.4415,23.0166,21.1779,23.6031,33.9812,16.2198,22.2413,38.3481,21.1454,15.2137,22.3336,33.853,22.1237,18.7708,29.2432,24.5244,24.5166,36.9574,35.0529,16.9387,21.3345,21.072,18.5691,37.5088,28.8232,10.2437,13.9078,37.459,37.7018,16.9973,17.2157,38.2888,39.1481,28.6032,18.789,15.4387,32.6966,15.8206,15.7999,38.9289,23.5753,16.7845,27.6824,39.8882,16.6091,13.5453,17.9929,31.7284,26.914,36.1395,17.9807,17.8067,32.8591,20.8525,9.7296,18.3728,36.8784,32.13,32.8159,40.7365,19.5377,15.5412,20.8249,27.937,38.7891,18.777,11.6968,26.6884,24.2277,18.5359,16.2493,17.0737,24.42,40.098,37.9447,18.0845,17.0044,35.775,23.7364,36.9363,39.7737,31.2287,9.3027,13.6933,37.0429,39.1446,36.4491,16.2093,15.0453,35.86,28.1437,15.4015,7.6799,25.693,27.8257],"isCatBarplot":false,"showSC":true,"labelColor":["#FDE725","#9FDA3A","#4AC16D","#1FA187","#277F8E","#365C8D","#46337E","#440154"],"colorVarName":"Mean distance to neighbors"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="ヒットマップ" class="level3" data-number="2.11.3">
<h3 data-number="2.11.3" class="anchored" data-anchor-id="ヒットマップ"><span class="header-section-number">2.11.3</span> ヒットマップ🍳</h3>
<p><code>clusters::pam()</code>でクラスタリングして色を付ける。「山間部」に囲まれた一部の「盆地」がクラスタになって、後はその他の部分みたいな感じに分かれるようだが、解釈するのに便利な感じで分かれてはくれなかった。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>clusters <span class="ot">&lt;-</span> som_fit <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">pluck</span>(<span class="st">"codes"</span>, <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="co"># 参照ベクトル（codebook vectors）は`codes`にリストとして格納されている</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  cluster<span class="sc">::</span><span class="fu">pam</span>(<span class="at">k =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>ヒットマップ（hitmap, proportion map）は以下のような可視化の方法。ノードの中の六角形は各ノードが保持する参照ベクトルの数（比率）を表している。ノードの背景色が上のコードで得たクラスタに対応する。</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>aweSOM<span class="sc">::</span><span class="fu">aweSOMplot</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  som_fit,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> dat,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"Hitmap"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">superclass =</span> clusters[[<span class="st">"clustering"</span>]]</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<h4 id="aweSOMwidget-a593eb071b032ed4dc74-info" class="anchored"></h4>
<h4 id="aweSOMwidget-a593eb071b032ed4dc74-message" class="anchored"></h4>
<div id="aweSOMwidget-a593eb071b032ed4dc74" class="aweSOMwidget html-widget" style="width:400px;height:auto;display:block; margin:auto; margin-top:5px; margin-bottom:5px;"></div>
<p id="aweSOMwidget-a593eb071b032ed4dc74-names"></p>
<svg id="aweSOMwidget-a593eb071b032ed4dc74-placeHolder"></svg>
<script type="application/json" data-for="aweSOMwidget-a593eb071b032ed4dc74">{"x":{"plotType":"Hitmap","sizeInfo":400,"gridInfo":{"nbLines":12,"nbColumns":16,"topology":"hexagonal"},"superclass":[1,1,1,1,2,2,1,1,3,1,4,4,4,1,1,1,1,1,1,1,2,2,2,3,3,3,4,4,4,1,1,1,1,1,1,2,2,2,2,3,3,3,4,4,4,1,1,1,1,1,1,2,2,2,2,3,3,3,1,1,1,1,1,1,5,5,5,2,2,1,1,3,3,1,1,1,1,1,1,1,5,5,5,5,1,1,1,1,1,1,6,6,1,1,1,1,5,5,5,1,1,7,1,1,1,6,6,6,1,8,8,1,5,5,5,1,7,7,1,7,1,6,6,6,6,8,8,8,5,1,1,7,7,7,7,7,7,6,6,6,8,8,8,8,1,1,1,7,7,7,7,7,7,1,6,6,8,8,8,8,1,1,7,7,7,7,7,7,1,1,1,1,1,8,8,1,1,7,1,7,7,7,7,1,7,1,1,1,1,1,1,1],"superclassColor":["#8DD3C7","#FFFFB3","#BEBADA","#FB8072","#80B1D3","#FDB462","#B3DE69","#FCCDE5"],"cellNames":["帰る/動詞, 入れる/動詞, 掛ける/動詞","態度/名詞, 答える/動詞","","お嬢さん/名詞, K/未知語","二人/タグ, 付く/動詞","","見える/動詞, 地面/名詞","","知る/動詞","驚く/動詞","","","召し上がる/動詞","雑司ケ谷/固有名詞, 答え/名詞","","亡くなる/動詞","","","","","","","","","","","言葉/名詞, 黙る/動詞","","","","","","","","","","","","歩く/動詞, 利く/動詞","","","田舎/名詞","","","寝る/動詞","","","夫婦/名詞, 傾く/動詞","解る/動詞, 医者/名詞","","坐る/動詞, 隠す/動詞","眺める/動詞","心持/名詞","","","","","会う/動詞, ー/未知語","受ける/動詞","","","小食/名詞","食う/動詞","","呼ぶ/動詞, 悟る/動詞","","一つ/名詞","自分/名詞","","天子/名詞","暴力/名詞","","","子供/名詞","","","売る/動詞, 大学/名詞","頼む/動詞","","世間/名詞, 聞こえる/動詞","","","","","話す/動詞","構う/動詞, 貰う/動詞","","","起る/動詞","","考える/動詞","","","","驚かす/動詞","","","","","","","死ぬ/動詞","","","財産/名詞","","","","向く/動詞","","","出す/動詞","困る/動詞, 理屈/名詞","","叔父/名詞","落ちる/動詞","","","","","調子/名詞","聞く/動詞, お父さん/名詞","","","止す/動詞","笑う/動詞","","","違う/動詞","","","","","身体/名詞","","","生きる/動詞","","","","奥さん/名詞","","","分る/動詞, 手紙/名詞","知れる/動詞","","変る/動詞","","","気分/名詞","様子/名詞, 動く/動詞, お母さん/名詞","","","来る/動詞","","見る/動詞","先生/名詞","","","","","出る/動詞","","","墓参り/名詞, 持つ/動詞","","","","","","書く/動詞","思う/動詞","","","止める/動詞","罪悪/名詞","立つ/動詞","東京/地名","得る/動詞, 通り/名詞","","","行く/動詞","人間/名詞","友達/名詞","","","休む/動詞","","","","一人/タグ, 読む/動詞, 嫌う/動詞",""],"clustering":[157,80,172,191,145,177,154,109,156,1,5,129,89,182,141,162,27,151,27,2,2,165,14,91,122,126,58,65,112,144,14,45,179,65,49,9,67,48,151,39,7,10,176,51,68,147,51,102,52,1,171,58,187,178,165,48,49,71,80,53,105,179,122,1,42,116,85,86,125,144,113,16,183,137,63,184,70,59,191,78,39,150,74,5,115,134,77,95,4,121,86,4,7,191,13,113,175,151,77,62],"cellPop":[3,2,0,2,2,0,2,0,1,1,0,0,1,2,0,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,1,0,0,2,2,0,2,1,1,0,0,0,0,2,1,0,0,1,1,0,2,0,1,1,0,1,1,0,0,1,0,0,2,1,0,2,0,0,0,0,1,2,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,2,0,1,1,0,0,0,0,1,2,0,0,1,1,0,0,1,0,0,0,0,1,0,0,1,0,0,0,1,0,0,2,1,0,1,0,0,1,3,0,0,1,0,1,1,0,0,0,0,1,0,0,2,0,0,0,0,0,1,1,0,0,1,1,1,1,2,0,0,1,1,1,0,0,1,0,0,0,3,0],"showAxes":true,"transparency":true,"showNames":true,"legendPos":"beside","legendFontsize":14,"legendReverse":false,"normalizedValues":[0.9,0.7348469228349536,0,0.7348469228349536,0.7348469228349536,0,0.7348469228349536,0,0.5196152422706632,0.5196152422706632,0,0,0.5196152422706632,0.7348469228349536,0,0.5196152422706632,0,0,0,0,0,0,0,0,0,0,0.7348469228349536,0,0,0,0,0,0,0,0,0,0,0,0.7348469228349536,0,0,0.5196152422706632,0,0,0.5196152422706632,0,0,0.7348469228349536,0.7348469228349536,0,0.7348469228349536,0.5196152422706632,0.5196152422706632,0,0,0,0,0.7348469228349536,0.5196152422706632,0,0,0.5196152422706632,0.5196152422706632,0,0.7348469228349536,0,0.5196152422706632,0.5196152422706632,0,0.5196152422706632,0.5196152422706632,0,0,0.5196152422706632,0,0,0.7348469228349536,0.5196152422706632,0,0.7348469228349536,0,0,0,0,0.5196152422706632,0.7348469228349536,0,0,0.5196152422706632,0,0.5196152422706632,0,0,0,0.5196152422706632,0,0,0,0,0,0,0.5196152422706632,0,0,0.5196152422706632,0,0,0,0.5196152422706632,0,0,0.5196152422706632,0.7348469228349536,0,0.5196152422706632,0.5196152422706632,0,0,0,0,0.5196152422706632,0.7348469228349536,0,0,0.5196152422706632,0.5196152422706632,0,0,0.5196152422706632,0,0,0,0,0.5196152422706632,0,0,0.5196152422706632,0,0,0,0.5196152422706632,0,0,0.7348469228349536,0.5196152422706632,0,0.5196152422706632,0,0,0.5196152422706632,0.9,0,0,0.5196152422706632,0,0.5196152422706632,0.5196152422706632,0,0,0,0,0.5196152422706632,0,0,0.7348469228349536,0,0,0,0,0,0.5196152422706632,0.5196152422706632,0,0,0.5196152422706632,0.5196152422706632,0.5196152422706632,0.5196152422706632,0.7348469228349536,0,0,0.5196152422706632,0.5196152422706632,0.5196152422706632,0,0,0.5196152422706632,0,0,0,0.9,0],"realValues":[3,2,0,2,2,0,2,0,1,1,0,0,1,2,0,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,1,0,0,2,2,0,2,1,1,0,0,0,0,2,1,0,0,1,1,0,2,0,1,1,0,1,1,0,0,1,0,0,2,1,0,2,0,0,0,0,1,2,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,2,0,1,1,0,0,0,0,1,2,0,0,1,1,0,0,1,0,0,0,0,1,0,0,1,0,0,0,1,0,0,2,1,0,1,0,0,1,3,0,0,1,0,1,1,0,0,0,0,1,0,0,2,0,0,0,0,0,1,1,0,0,1,1,1,1,2,0,0,1,1,1,0,0,1,0,0,0,3,0]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>duckdb<span class="sc">::</span><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>duckdb<span class="sc">::</span><span class="fu">duckdb_shutdown</span>(drv)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>(<span class="at">info =</span> <span class="st">"packages"</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ═ Session info ═══════════════════════════════════════════════════════════════</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ─ Packages ───────────────────────────────────────────────────────────────────</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  package            * version    date (UTC) lib source</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  abind                1.4-5      2016-07-21 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  arules             * 1.7-7      2023-11-29 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  arulesViz          * 1.5-2      2023-03-07 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  audubon              0.5.1.9001 2023-09-03 [1] https://paithiov909.r-universe.dev (R 4.3.1)</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  aweSOM               1.3        2022-08-30 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  backports            1.4.1      2021-12-13 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  blob                 1.2.4      2023-03-17 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  broom                1.0.5      2023-06-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ca                 * 0.71.1     2020-01-24 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  cachem               1.0.8      2023-05-01 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  car                  3.1-2      2023-03-30 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  carData              3.0-5      2022-01-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  cellranger           1.1.0      2016-07-27 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  class                7.3-22     2023-05-03 [4] CRAN (R 4.3.1)</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  cli                  3.6.2      2023-12-11 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  cluster              2.1.6      2023-12-01 [4] CRAN (R 4.3.2)</span></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  codetools            0.2-19     2023-02-01 [4] CRAN (R 4.2.2)</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  colorspace           2.1-0      2023-01-23 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  crosstalk            1.2.1      2023-11-23 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  curl                 5.2.0      2023-12-08 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  data.table           1.15.0     2024-01-30 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  DBI                * 1.2.2      2024-02-16 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  dbplyr               2.4.0      2023-10-26 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  dendextend           1.17.1     2023-03-25 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  digest               0.6.34     2024-01-11 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  dotCall64            1.1-1      2023-11-28 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  dplyr                1.1.4      2023-11-17 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  duckdb             * 0.9.2-1    2023-11-28 [1] RSPM (R 4.3.2)</span></span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  e1071                1.7-14     2023-12-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ellipsis             0.3.2      2021-04-29 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  evaluate             0.23       2023-11-01 [1] CRAN (R 4.3.1)</span></span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  factoextra           1.0.7      2020-04-01 [1] RSPM (R 4.3.2)</span></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  fansi                1.0.6      2023-12-08 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  farver               2.1.1      2022-07-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  fastmap              1.1.1      2023-02-24 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  fastmatch            1.1-4      2023-08-18 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  fields               15.2       2023-08-17 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  foreach              1.5.2      2022-02-02 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  generics             0.1.3      2022-07-05 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggdendro             0.2.0      2024-02-23 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggforce              0.4.2      2024-02-19 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggh4x                0.2.8      2024-01-23 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggplot2            * 3.5.0      2024-02-23 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggpubr               0.6.0      2023-02-10 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggraph               2.2.0      2024-02-27 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggrepel              0.9.5      2024-01-10 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ggsignif             0.6.4      2022-10-13 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-55"><a href="#cb39-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  gibasa               1.1.0      2024-02-17 [1] https://paithiov909.r-universe.dev (R 4.3.2)</span></span>
<span id="cb39-56"><a href="#cb39-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  glue                 1.7.0      2024-01-09 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-57"><a href="#cb39-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  graphlayouts         1.1.0      2024-01-19 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-58"><a href="#cb39-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  gridExtra            2.3        2017-09-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-59"><a href="#cb39-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  gtable               0.3.4      2023-08-21 [1] CRAN (R 4.3.1)</span></span>
<span id="cb39-60"><a href="#cb39-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  htmltools            0.5.7      2023-11-03 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-61"><a href="#cb39-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  htmlwidgets          1.6.4      2023-12-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-62"><a href="#cb39-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  httpgd               1.3.1      2023-01-30 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-63"><a href="#cb39-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  httpuv               1.6.14     2024-01-26 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-64"><a href="#cb39-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  httr                 1.4.7      2023-08-15 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-65"><a href="#cb39-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  igraph               2.0.2      2024-02-17 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-66"><a href="#cb39-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  isoband              0.2.7      2022-12-20 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-67"><a href="#cb39-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  iterators            1.0.14     2022-02-05 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-68"><a href="#cb39-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  janeaustenr          1.0.0      2022-08-26 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-69"><a href="#cb39-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  jsonlite             1.8.8      2023-12-04 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-70"><a href="#cb39-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  knitr                1.45       2023-10-30 [1] CRAN (R 4.3.1)</span></span>
<span id="cb39-71"><a href="#cb39-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  kohonen              3.0.12     2023-06-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-72"><a href="#cb39-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  labeling             0.4.3      2023-08-29 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-73"><a href="#cb39-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  later                1.3.2      2023-12-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-74"><a href="#cb39-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  lattice              0.22-5     2023-10-24 [4] CRAN (R 4.3.1)</span></span>
<span id="cb39-75"><a href="#cb39-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  lazyeval             0.2.2      2019-03-15 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-76"><a href="#cb39-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  lifecycle            1.0.4      2023-11-07 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-77"><a href="#cb39-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  magrittr             2.0.3      2022-03-30 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-78"><a href="#cb39-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  maps                 3.4.2      2023-12-15 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-79"><a href="#cb39-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  MASS                 7.3-60     2023-05-04 [4] CRAN (R 4.3.1)</span></span>
<span id="cb39-80"><a href="#cb39-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Matrix             * 1.6-3      2023-11-14 [4] CRAN (R 4.3.2)</span></span>
<span id="cb39-81"><a href="#cb39-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  memoise              2.0.1      2021-11-26 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-82"><a href="#cb39-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  mime                 0.12       2021-09-28 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-83"><a href="#cb39-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  munsell              0.5.0      2018-06-12 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-84"><a href="#cb39-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  nsyllable            1.0.1      2022-02-28 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-85"><a href="#cb39-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  pillar               1.9.0      2023-03-22 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-86"><a href="#cb39-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  pkgconfig            2.0.3      2019-09-22 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-87"><a href="#cb39-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  plotly               4.10.4     2024-01-13 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-88"><a href="#cb39-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  plyr                 1.8.9      2023-10-02 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-89"><a href="#cb39-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  polyclip             1.10-6     2023-09-27 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-90"><a href="#cb39-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  promises             1.2.1      2023-08-10 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-91"><a href="#cb39-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  proxy                0.4-27     2022-06-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-92"><a href="#cb39-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  proxyC               0.3.4      2023-10-25 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-93"><a href="#cb39-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  purrr                1.0.2      2023-08-10 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-94"><a href="#cb39-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  quanteda             3.3.1      2023-05-18 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-95"><a href="#cb39-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  quanteda.textstats   0.96.4     2023-11-02 [1] CRAN (R 4.3.1)</span></span>
<span id="cb39-96"><a href="#cb39-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  R.cache              0.16.0     2022-07-21 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-97"><a href="#cb39-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  R.methodsS3          1.8.2      2022-06-13 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-98"><a href="#cb39-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  R.oo                 1.26.0     2024-01-24 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-99"><a href="#cb39-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  R.utils              2.12.3     2023-11-18 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-100"><a href="#cb39-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  R6                   2.5.1      2021-08-19 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-101"><a href="#cb39-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  RColorBrewer         1.1-3      2022-04-03 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-102"><a href="#cb39-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Rcpp                 1.0.12     2024-01-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-103"><a href="#cb39-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  RcppParallel         5.1.7      2023-02-27 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-104"><a href="#cb39-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  reactable            0.4.4      2023-03-12 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-105"><a href="#cb39-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  reactablefmtr        2.0.0      2022-03-16 [1] RSPM (R 4.3.2)</span></span>
<span id="cb39-106"><a href="#cb39-106" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  reactR               0.5.0      2023-10-11 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-107"><a href="#cb39-107" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  readxl               1.4.3      2023-07-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-108"><a href="#cb39-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  registry             0.5-1      2019-03-05 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-109"><a href="#cb39-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  reshape2             1.4.4      2020-04-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-110"><a href="#cb39-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  rlang                1.1.3      2024-01-10 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-111"><a href="#cb39-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  rmarkdown            2.25       2023-09-18 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-112"><a href="#cb39-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  rstatix              0.7.2      2023-02-01 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-113"><a href="#cb39-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  sass                 0.4.8      2023-12-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-114"><a href="#cb39-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  scales               1.3.0      2023-11-28 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-115"><a href="#cb39-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  seriation            1.5.4      2023-12-12 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-116"><a href="#cb39-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  sessioninfo          1.2.2      2021-12-06 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-117"><a href="#cb39-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  shiny                1.8.0      2023-11-17 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-118"><a href="#cb39-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  SnowballC            0.7.1      2023-04-25 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-119"><a href="#cb39-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  spam                 2.10-0     2023-10-23 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-120"><a href="#cb39-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  stopwords            2.3        2021-10-28 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-121"><a href="#cb39-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  stringi              1.8.3      2024-01-28 [1] https://gagolews.r-universe.dev (R 4.3.2)</span></span>
<span id="cb39-122"><a href="#cb39-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  stringr              1.5.1      2023-11-14 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-123"><a href="#cb39-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  styler               1.10.2     2023-08-29 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-124"><a href="#cb39-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  systemfonts          1.0.5      2023-10-09 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-125"><a href="#cb39-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tibble               3.2.1      2023-03-20 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-126"><a href="#cb39-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tidygraph            1.3.1      2024-01-30 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-127"><a href="#cb39-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tidyr                1.3.1      2024-01-24 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-128"><a href="#cb39-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tidyselect           1.2.0      2022-10-10 [1] CRAN (R 4.3.0)</span></span>
<span id="cb39-129"><a href="#cb39-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tidytext             0.4.1      2023-01-07 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-130"><a href="#cb39-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tokenizers           0.3.0      2022-12-22 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-131"><a href="#cb39-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  TSP                  1.2-4      2023-04-04 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-132"><a href="#cb39-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  tweenr               2.0.3      2024-02-26 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-133"><a href="#cb39-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  utf8                 1.2.4      2023-10-22 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-134"><a href="#cb39-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  V8                   4.4.2      2024-02-15 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-135"><a href="#cb39-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  vctrs                0.6.5      2023-12-01 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-136"><a href="#cb39-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  viridis              0.6.5      2024-01-29 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-137"><a href="#cb39-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  viridisLite          0.4.2      2023-05-02 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-138"><a href="#cb39-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  visNetwork           2.1.2      2022-09-29 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-139"><a href="#cb39-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  withr                3.0.0      2024-01-16 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-140"><a href="#cb39-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  xfun                 0.42       2024-02-08 [1] CRAN (R 4.3.2)</span></span>
<span id="cb39-141"><a href="#cb39-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  xtable               1.8-4      2019-04-21 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-142"><a href="#cb39-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  yaml                 2.3.8      2023-12-11 [1] RSPM (R 4.3.0)</span></span>
<span id="cb39-143"><a href="#cb39-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-144"><a href="#cb39-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] /home/paithiov909/R/x86_64-pc-linux-gnu-library/4.3</span></span>
<span id="cb39-145"><a href="#cb39-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2] /usr/local/lib/R/site-library</span></span>
<span id="cb39-146"><a href="#cb39-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] /usr/lib/R/site-library</span></span>
<span id="cb39-147"><a href="#cb39-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] /usr/lib/R/library</span></span>
<span id="cb39-148"><a href="#cb39-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-149"><a href="#cb39-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ──────────────────────────────────────────────────────────────────────────────</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="paithiov909/textvis-recipes" data-repo-id="R_kgDOLWfubw" data-category="Announcements" data-category-id="DIC_kwDOLWfub84Cdg5_" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="ja" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./preprocessing.html" class="pagination-link" aria-label="テキストの前処理">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">テキストの前処理</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>