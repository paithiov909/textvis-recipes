[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Cookbook to Draw KHCoder-like Visualizations Using R",
    "section": "",
    "text": "Preface\nCooking icons created by Freepik - Flaticon\n\nã¾ã æ›¸ãã‹ã‘ã§ã™â€¦â€¦\nã¡ã‚‡ã£ã¨ãšã¤å†…å®¹ãŒè¿½åŠ ã•ã‚Œã‚‹ã‚ˆ!!\n\næœ¬æ–‡ã«ã¤ã„ã¦ã¯CC-BYã€æ²è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’é©ç”¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚\nãªã‚“ã¨ãªãä¼¼ãŸã‚ˆã†ãªè¡¨ç¾ã‚’ã‚ã–ã—ã¦ã„ã‚‹ã ã‘ã§ã€KH Coderã§ãŠã“ãªã‚ã‚Œã¦ã„ã‚‹å‡¦ç†ã‚’Rã§å†å®Ÿè£…ã™ã‚‹ã“ã¨ã‚’ã‚ã–ã™ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nKH Coderã§ã®å¯è¦–åŒ–ã‚’ã‚‚ã¨ã«ã—ã¦ã„ã‚‹ã®ã§ã¯ãªã„è¡¨ç¾ã«ã¤ã„ã¦ã¯ã€å°è¦‹å‡ºã—ã«ğŸ³ã¨ã„ã†çµµæ–‡å­—ã‚’ä»˜ã‘ã¦ã„ã¾ã™ã€‚",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "preprocessing.html",
    "href": "preprocessing.html",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "",
    "text": "1.1 ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ\nKH Coderã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã†ã€‚tutorial_data_3x.zipã®ä¸­ã«å«ã¾ã‚Œã¦ã„ã‚‹tutorial_jp/kokoro.xlsã¨ã„ã†xlsãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¬¡ã®ã‚ˆã†ã«èª­ã¿è¾¼ã‚“ã§ãŠãã€‚\nCode\ntbl &lt;-\n  readxl::read_xls(\"tutorial_jp/kokoro.xls\",\n    col_names = c(\"text\", \"section\", \"chapter\", \"label\"),\n    skip = 1\n  ) |&gt;\n  dplyr::mutate(\n    doc_id = dplyr::row_number(),\n    dplyr::across(where(is.character), ~ audubon::strj_normalize(.))\n  ) |&gt;\n  dplyr::filter(!gibasa::is_blank(text)) |&gt;\n  dplyr::relocate(doc_id, text, section, label, chapter)\n\ntbl\n#&gt; # A tibble: 1,213 Ã— 5\n#&gt;    doc_id text                                            section label  chapter\n#&gt;     &lt;int&gt; &lt;chr&gt;                                           &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  \n#&gt;  1      1 ç§ã¯ãã®äººã‚’å¸¸ã«å…ˆç”Ÿã¨å‘¼ã‚“ã§ã„ãŸã€‚ã ã‹ã‚‰ã“ã“ã§â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  2      2 ç§ãŒå…ˆç”Ÿã¨çŸ¥ã‚Šåˆã„ã«ãªã£ãŸã®ã¯éŒå€‰ã§ã‚ã‚‹ã€‚ãã®â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  3      3 å­¦æ ¡ã®æˆæ¥­ãŒå§‹ã¾ã‚‹ã«ã¯ã¾ã å¤§åˆ†æ—¥æ•°ãŒã‚ã‚‹ã®ã§éŒâ€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  4      4 å®¿ã¯éŒå€‰ã§ã‚‚è¾ºé„™ãªæ–¹è§’ã«ã‚ã£ãŸã€‚ç‰çªãã ã®ã‚¢ã‚¤â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  5      5 ç§ã¯æ¯æ—¥æµ·ã¸ã¯ã„ã‚Šã«å‡ºæ›ã‘ãŸã€‚å¤ã„ç‡»ã¶ã‚Šè¿”ã£ãŸâ€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  6      6 ç§ã¯å®Ÿã«å…ˆç”Ÿã‚’ã“ã®é›‘æ²“ã®é–“ã«è¦‹ä»˜ã‘å‡ºã—ãŸã®ã§ã‚â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»ä¸€ 1_01   \n#&gt;  7      7 ç§ãŒãã®æ›èŒ¶å±‹ã§å…ˆç”Ÿã‚’è¦‹ãŸæ™‚ã¯ã€å…ˆç”ŸãŒã¡ã‚‡ã†ã©â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»äºŒ 1_02   \n#&gt;  8      8 ãã®è¥¿æ´‹äººã®å„ªã‚Œã¦ç™½ã„çš®è†šã®è‰²ãŒã€æ›èŒ¶å±‹ã¸å…¥ã‚‹â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»äºŒ 1_02   \n#&gt;  9      9 å½¼ã¯ã‚„ãŒã¦è‡ªåˆ†ã®å‚ã‚’é¡§ã¿ã¦ã€ãã“ã«ã“ã”ã‚“ã§ã„ã‚‹â€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»äºŒ 1_02   \n#&gt; 10     10 ç§ã¯å˜ã«å¥½å¥‡å¿ƒã®ãŸã‚ã«ã€ä¸¦ã‚“ã§æµœè¾ºã‚’ä¸‹ã‚Šã¦è¡Œãâ€¦ [1]ä¸Š_â€¦ ä¸Šãƒ»äºŒ 1_02   \n#&gt; # â„¹ 1,203 more rows\nã“ã®ãƒ‡ãƒ¼ã‚¿ã§ã¯ã€å¤ç›®æ¼±çŸ³ã®ã€ã“ã“ã‚ã€ãŒæ®µè½ï¼ˆdoc_idï¼‰ã”ã¨ã«ã²ã¨ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦æ‰“ã¡è¾¼ã¾ã‚Œã¦ã„ã‚‹ã€‚ã€ã“ã“ã‚ã€ã¯ä¸Šä¸­ä¸‹ã®3éƒ¨ï¼ˆsectionï¼‰ã§æ§‹æˆã•ã‚Œã¦ã„ã¦ã€ãã‚Œãã‚Œã®éƒ¨ãŒè¤‡æ•°ã®ç« ï¼ˆlabel, chapterï¼‰ã«åˆ†ã‹ã‚Œã¦ã„ã‚‹ã€‚",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "preprocessing.html#èªã®æŠ½å‡ºa.2.2",
    "href": "preprocessing.html#èªã®æŠ½å‡ºa.2.2",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "1.2 èªã®æŠ½å‡ºï¼ˆA.2.2ï¼‰",
    "text": "1.2 èªã®æŠ½å‡ºï¼ˆA.2.2ï¼‰\ngibasaã‚’ä½¿ã£ã¦å½¢æ…‹ç´ è§£æã‚’ãŠã“ãªã„ã€èªã‚’æŠ½å‡ºã™ã‚‹ã€‚\nã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’IPAè¾æ›¸ã‚’ä½¿ã£ã¦å½¢æ…‹ç´ è§£æã™ã‚‹ã¨ã€å»¶ã¹èªæ•°ã¯105,000èªç¨‹åº¦ã«ãªã‚‹ã€‚ã“ã‚Œãã‚‰ã„ã®èªæ•°ã§ã‚ã‚Œã°ã€å½¢æ…‹ç´ è§£æã—ãŸçµæœã‚’ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦ãƒ¡ãƒ¢ãƒªä¸Šã«èª­ã¿è¾¼ã‚“ã§ã‚‚å•é¡Œãªã„ã¨æ€ã‚ã‚Œã‚‹ãŒã€ã“ã“ã§ã¯ã‚ˆã‚Šå¤§è¦æ¨¡ãªãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†å ´åˆã‚’æƒ³å®šã—ã€çµæœã‚’DuckDBãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ›¸ãè¾¼ã‚€ã“ã¨ã«ã™ã‚‹ã€‚\nã“ã“ã§ã¯chapterã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ãªãŒã‚‰ã€æ®µè½ã¯æ–‡ã«åˆ†å‰²ã›ãšã«å‡¦ç†ã—ã¦ã„ã‚‹ã€‚MeCabã¯ãƒãƒƒãƒ•ã‚¡ã‚µã‚¤ã‚ºã®éƒ½åˆä¸Šã€ä¸€åº¦ã«262ä¸‡å­—ãã‚‰ã„ã¾ã§ä¸€ã¤ã®æ–‡ã¨ã—ã¦å…¥åŠ›ã§ãã‚‹ã‚‰ã—ã„ãŒã€æ¥µç«¯ã«é•·ã„å…¥åŠ›ã«å¯¾ã—ã¦ã¯ã‚³ã‚¹ãƒˆè¨ˆç®—ãŒã§ããšã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚ã¾ãŸã€å¤šãã®æ–‡ã‚’ä¸ãˆã‚Œã°ãã‚Œã ã‘å¤šãã®è¡Œã‹ã‚‰ãªã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãŒè¿”ã•ã‚Œã‚‹ãŸã‚ã€ä¸€åº¦ã«å‡¦ç†ã™ã‚‹åˆ†é‡ã¯åˆ©ç”¨ã—ã¦ã„ã‚‹ç’°å¢ƒã«ã‚ã‚ã›ã¦é©å½“ã«åŠ æ¸›ã—ãŸã»ã†ãŒã‚ˆã„ã€‚\nKH Coderã§ã¯ã€IPAè¾æ›¸ã®å“è©ä½“ç³»ã‚’ã‚‚ã¨ã«å¤‰æ›´ã—ãŸå“è©ä½“ç³»ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚ãã®ãŸã‚ã€KH Coderã§å‰å‡¦ç†ã—ãŸçµæœã‚’ã‚ã‚‹ç¨‹åº¦å†ç¾ã™ã‚‹ãŸã‚ã«ã¯ã€ä¸€éƒ¨ã®å“è©æƒ…å ±ã‚’æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚KH Coderå†…ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹å“è©ä½“ç³»ã«ã¤ã„ã¦ã¯ã€KH Coderã®ãƒ¬ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚ç…§ã•ã‚ŒãŸã„ã€‚\nã¾ãŸã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã„ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€å¼·åˆ¶æŠ½å‡ºã™ã‚‹èªã¨ã—ã¦ã€Œä¸€äººã€ã€ŒäºŒäººã€ã¨ã„ã†èªã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã€‚ã“ã†ã—ãŸèªã«ã¤ã„ã¦ã¯MeCabã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ã«è¿½åŠ ã—ã¦ã—ã¾ã£ãŸã»ã†ãŒã‚ˆã„ãŒã€ç°¡å˜ã«å‡¦ç†ã™ã‚‹ãŸã‚ã«ã€ã“ã“ã§ã¯gibasaã®åˆ¶ç´„ä»˜ãè§£ææ©Ÿèƒ½ã«ã‚ˆã£ã¦ã€Œã‚¿ã‚°ã€ã¨ã—ã¦æŠ½å‡ºã—ã¦ã„ã‚‹ï¼ˆKH Coderã¯å¼·åˆ¶æŠ½å‡ºã—ãŸèªã«å¯¾ã—ã¦ã€Œã‚¿ã‚°ã€ã¨ã„ã†å“è©åã‚’ä¸ãˆã‚‹ï¼‰ã€‚\n\n\nCode\nsuppressPackageStartupMessages({\n  library(duckdb)\n})\ndrv &lt;- duckdb::duckdb()\n\nif (!fs::file_exists(\"tutorial_jp/kokoro.duckdb\")) {\n  con &lt;- duckdb::dbConnect(drv, dbdir = \"tutorial_jp/kokoro.duckdb\", read_only = FALSE)\n\n  dbCreateTable(\n    con, \"tokens\",\n    data.frame(\n      doc_id = integer(),\n      section = character(),\n      label = character(),\n      token_id = integer(),\n      token = character(),\n      pos = character(),\n      original = character(),\n      stringsAsFactors = FALSE\n    )\n  )\n\n  tbl |&gt;\n    dplyr::group_by(chapter) |&gt;\n    dplyr::group_walk(~ {\n      df &lt;- .x |&gt;\n        dplyr::mutate(\n          text = stringi::stri_replace_all_regex(text, \"(?&lt;codes&gt;([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹]{1}äºº))\", \"\\n${codes}\\tã‚¿ã‚°\\n\") |&gt;\n            stringi::stri_trim_both()\n        ) |&gt;\n        gibasa::tokenize(text, doc_id, partial = TRUE) |&gt;\n        gibasa::prettify(\n          col_select = c(\"POS1\", \"POS2\", \"POS3\", \"Original\")\n        ) |&gt;\n        dplyr::mutate(\n          pos = dplyr::case_when(\n            (POS1 == \"ã‚¿ã‚°\") ~ \"ã‚¿ã‚°\",\n            (is.na(Original) & stringr::str_detect(token, \"^[[:alpha:]]+$\")) ~ \"æœªçŸ¥èª\",\n            (POS1 == \"æ„Ÿå‹•è©\") ~ \"æ„Ÿå‹•è©\",\n            (POS1 == \"åè©\" & POS2 == \"ä¸€èˆ¬\" & stringr::str_detect(token, \"^[\\\\p{Han}]{1}$\")) ~ \"åè©C\",\n            (POS1 == \"åè©\" & POS2 == \"ä¸€èˆ¬\" & stringr::str_detect(token, \"^[\\\\p{Hiragana}]+$\")) ~ \"åè©B\",\n            (POS1 == \"åè©\" & POS2 == \"ä¸€èˆ¬\") ~ \"åè©\",\n            (POS1 == \"åè©\" & POS2 == \"å›ºæœ‰åè©\" & POS3 == \"åœ°åŸŸ\") ~ \"åœ°å\",\n            (POS1 == \"åè©\" & POS2 == \"å›ºæœ‰åè©\" & POS3 == \"äººå\") ~ \"äººå\",\n            (POS1 == \"åè©\" & POS2 == \"å›ºæœ‰åè©\" & POS3 == \"çµ„ç¹”\") ~ \"çµ„ç¹”å\",\n            (POS1 == \"åè©\" & POS2 == \"å½¢å®¹å‹•è©èªå¹¹\") ~ \"å½¢å®¹å‹•è©\",\n            (POS1 == \"åè©\" & POS2 == \"ãƒŠã‚¤å½¢å®¹è©èªå¹¹\") ~ \"ãƒŠã‚¤å½¢å®¹è©\",\n            (POS1 == \"åè©\" & POS2 == \"å›ºæœ‰åè©\") ~ \"å›ºæœ‰åè©\",\n            (POS1 == \"åè©\" & POS2 == \"ã‚µå¤‰æ¥ç¶š\") ~ \"ã‚µå¤‰åè©\",\n            (POS1 == \"åè©\" & POS2 == \"å‰¯è©å¯èƒ½\") ~ \"å‰¯è©å¯èƒ½\",\n            (POS1 == \"å‹•è©\" & POS2 == \"è‡ªç«‹\" & stringr::str_detect(token, \"^[\\\\p{Hiragana}]+$\")) ~ \"å‹•è©B\",\n            (POS1 == \"å‹•è©\" & POS2 == \"è‡ªç«‹\") ~ \"å‹•è©\",\n            (POS1 == \"å½¢å®¹è©\" & stringr::str_detect(token, \"^[\\\\p{Hiragana}]+$\")) ~ \"å½¢å®¹è©B\",\n            (POS1 == \"å½¢å®¹è©\" & POS2 == \"éè‡ªç«‹\") ~ \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\",\n            (POS1 == \"å½¢å®¹è©\") ~ \"å½¢å®¹è©\",\n            (POS1 == \"å‰¯è©\" & stringr::str_detect(token, \"^[\\\\p{Hiragana}]+$\")) ~ \"å‰¯è©B\",\n            (POS1 == \"å‰¯è©\") ~ \"å‰¯è©\",\n            (POS1 == \"åŠ©å‹•è©\" & Original %in% c(\"ãªã„\", \"ã¾ã„\", \"ã¬\", \"ã‚“\")) ~ \"å¦å®šåŠ©å‹•è©\",\n            .default = \"ãã®ä»–\"\n          )\n        ) |&gt;\n        dplyr::select(doc_id, section, label, token_id, token, pos, Original) |&gt;\n        dplyr::rename(original = Original)\n\n      dbAppendTable(con, \"tokens\", df)\n    })\n} else {\n  con &lt;- duckdb::dbConnect(drv, dbdir = \"tutorial_jp/kokoro.duckdb\", read_only = TRUE)\n}",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "preprocessing.html#ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«a.2.5",
    "href": "preprocessing.html#ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«a.2.5",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "1.3 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ï¼ˆA.2.5ï¼‰",
    "text": "1.3 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ï¼ˆA.2.5ï¼‰\nKH Coderã®å¼·åŠ›ãªæ©Ÿèƒ½ã®ã²ã¨ã¤ã¨ã—ã¦ã€ã€Œã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã€ã«ã‚ˆã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã¸ã®ã‚¿ã‚°ä»˜ã‘ã¨ã„ã†ã®ãŒã‚ã‚‹ã€‚KH Coderã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã¯ã‹ãªã‚Šè¤‡é›‘ãªè¨˜æ³•ã‚’æ‰±ã†ãŸã‚ã€Rã§å®Œç’§ã«å†ç¾ã™ã‚‹ã«ã¯ç›¸å¿œã®æ‰‹é–“ãŒã‹ã‹ã‚‹ã€‚ä¸€æ–¹ã§ã€ã‚³ãƒ¼ãƒ‰ã‚’ä¸ãˆã‚‹ã¹ãæŠ½å‡ºèªã‚’åŸºæœ¬å½¢ã¨ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ç¨‹åº¦ã§ã‚ã‚Œã°ã€æ¬¡ã®ã‚ˆã†ã«æ¯”è¼ƒçš„å°‘ãªã„ã‚³ãƒ¼ãƒ‰é‡ã§ä¼¼ãŸã‚ˆã†ãªã“ã¨ã‚’å®Ÿç¾ã§ãã‚‹ã€‚\n\n\nCode\nrules &lt;- list(\n  \"äººã®æ­»\" = c(\"æ­»å¾Œ\", \"æ­»ç—…\", \"æ­»æœŸ\", \"æ­»å› \", \"æ­»éª¸\", \"ç”Ÿæ­»\", \"è‡ªæ®º\", \"æ®‰æ­»\", \"é “æ­»\", \"å¤‰æ­»\", \"äº¡\", \"æ­»ã¬\", \"äº¡ããªã‚‹\", \"æ®ºã™\", \"äº¡ãã™\", \"æ­»\"),\n  \"æ‹æ„›\" = c(\"æ„›\", \"æ‹\", \"æ„›ã™\", \"æ„›æƒ…\", \"æ‹äºº\", \"æ„›äºº\", \"æ‹æ„›\", \"å¤±æ‹\", \"æ‹ã—ã„\"),\n  \"å‹æƒ…\" = c(\"å‹é”\", \"å‹äºº\", \"æ—§å‹\", \"è¦ªå‹\", \"æœ‹å‹\", \"å‹\", \"ç´šå‹\"),\n  \"ä¿¡ç”¨ãƒ»ä¸ä¿¡\" = c(\"ä¿¡ç”¨\", \"ä¿¡ã˜ã‚‹\", \"ä¿¡ãšã‚‹\", \"ä¸ä¿¡\", \"ç–‘ã„\", \"ç–‘æƒ‘\", \"ç–‘å¿µ\", \"çŒœç–‘\", \"ç‹ç–‘\", \"ç–‘å•\", \"ç–‘ã„æ·±ã„\", \"ç–‘ã†\", \"ç–‘ã‚‹\", \"è­¦æˆ’\"),\n  \"ç—…æ°—\" = c(\"åŒ»è€…\", \"ç—…äºº\", \"ç—…å®¤\", \"ç—…é™¢\", \"ç—…ç—‡\", \"ç—…çŠ¶\", \"æŒç—…\", \"æ­»ç—…\", \"ä¸»æ²»åŒ»\", \"ç²¾ç¥ç—…\", \"ä»®ç—…\", \"ç—…æ°—\", \"çœ‹ç—…\", \"å¤§ç—…\", \"ç—…ã‚€\", \"ç—…\")\n)\n\ncodes &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(original %in% purrr::flatten_chr(rules)) |&gt;\n  dplyr::collect() |&gt;\n  dplyr::mutate(\n    codings = purrr::map(\n      original,\n      ~ purrr::imap(rules, \\(.x, .y) tibble::tibble(code = .y, flag = . %in% .x)) |&gt;\n        purrr::list_rbind() |&gt;\n        dplyr::filter(flag == TRUE) |&gt;\n        dplyr::select(!flag)\n    )\n  ) |&gt;\n  tidyr::unnest(codings)\n\ncodes\n#&gt; # A tibble: 537 Ã— 8\n#&gt;    doc_id section        label  token_id token    pos      original code      \n#&gt;     &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;     \n#&gt;  1      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€       36 å‹é”     åè©     å‹é”     å‹æƒ…      \n#&gt;  2      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€       96 å‹é”     åè©     å‹é”     å‹æƒ…      \n#&gt;  3      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€      115 ç—…æ°—     ã‚µå¤‰åè© ç—…æ°—     ç—…æ°—      \n#&gt;  4      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€      124 å‹é”     åè©     å‹é”     å‹æƒ…      \n#&gt;  5      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€      128 ä¿¡ã˜     å‹•è©     ä¿¡ã˜ã‚‹   ä¿¡ç”¨ãƒ»ä¸ä¿¡\n#&gt;  6      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€      132 å‹é”     åè©     å‹é”     å‹æƒ…      \n#&gt;  7      2 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€      240 ç—…æ°—     ã‚µå¤‰åè© ç—…æ°—     ç—…æ°—      \n#&gt;  8      3 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸€       44 å‹é”     åè©     å‹é”     å‹æƒ…      \n#&gt;  9     19 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»ä¸‰      207 ç–‘ã£     å‹•è©     ç–‘ã†     ä¿¡ç”¨ãƒ»ä¸ä¿¡\n#&gt; 10     21 [1]ä¸Š_å…ˆç”Ÿã¨ç§ ä¸Šãƒ»å››      161 äº¡ããªã£ å‹•è©     äº¡ããªã‚‹ äººã®æ­»    \n#&gt; # â„¹ 527 more rows",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "preprocessing.html#æŠ½å‡ºèªãƒªã‚¹ãƒˆa.3.4",
    "href": "preprocessing.html#æŠ½å‡ºèªãƒªã‚¹ãƒˆa.3.4",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "1.4 æŠ½å‡ºèªãƒªã‚¹ãƒˆï¼ˆA.3.4ï¼‰",
    "text": "1.4 æŠ½å‡ºèªãƒªã‚¹ãƒˆï¼ˆA.3.4ï¼‰\nã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ãªæŠ½å‡ºèªãƒªã‚¹ãƒˆã‚’ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦å¾—ã‚‹ä¾‹ã€‚\nExcelå‘ã‘ã®å‡ºåŠ›ã¯è¦‹ã‚„ã™ã„ã‚ˆã†ã«ã‚«ãƒ©ãƒ ã‚’åˆ†ã‘ã¦ã„ã‚‹ãŒã€Rã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦æ‰±ã†ãªã‚‰tidyãªç¸¦é•·ã®ãƒ‡ãƒ¼ã‚¿ã«ã—ãŸã»ã†ãŒã‚ˆã„ã€‚\n\n1.4.1 å“è©åˆ¥ãƒ»ä¸Šä½15èª\n\n\nCode\ndplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::mutate(token = dplyr::if_else(is.na(original), token, original)) |&gt;\n  dplyr::count(token, pos) |&gt;\n  dplyr::slice_max(n, n = 15, by = pos) |&gt;\n  dplyr::collect()\n#&gt; # A tibble: 232 Ã— 3\n#&gt;    token  pos          n\n#&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 å‰     å‰¯è©å¯èƒ½   169\n#&gt;  2 ä»Š     å‰¯è©å¯èƒ½   140\n#&gt;  3 å ´åˆ   å‰¯è©å¯èƒ½    38\n#&gt;  4 éå»   å‰¯è©å¯èƒ½    34\n#&gt;  5 çµæœ   å‰¯è©å¯èƒ½    30\n#&gt;  6 ã™ã¹ã¦ å‰¯è©å¯èƒ½    28\n#&gt;  7 å¹³ç”Ÿ   å‰¯è©å¯èƒ½    26\n#&gt;  8 æ™‚é–“   å‰¯è©å¯èƒ½    25\n#&gt;  9 ä»Šåº¦   å‰¯è©å¯èƒ½    24\n#&gt; 10 äº‹å®Ÿ   å‰¯è©å¯èƒ½    22\n#&gt; # â„¹ 222 more rows\n\n\n\n\n1.4.2 é »å‡º150èª\n\n\nCode\ndplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !is.na(original),\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::mutate(token = dplyr::if_else(is.na(original), token, original)) |&gt;\n  dplyr::count(token, pos) |&gt;\n  dplyr::slice_max(n, n = 150) |&gt;\n  dplyr::collect()\n#&gt; # A tibble: 152 Ã— 3\n#&gt;    token  pos       n\n#&gt;    &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;\n#&gt;  1 å…ˆç”Ÿ   åè©    595\n#&gt;  2 å¥¥ã•ã‚“ åè©    388\n#&gt;  3 æ€ã†   å‹•è©    293\n#&gt;  4 çˆ¶     åè©C   269\n#&gt;  5 è‡ªåˆ†   åè©    264\n#&gt;  6 è¦‹ã‚‹   å‹•è©    225\n#&gt;  7 èã   å‹•è©    218\n#&gt;  8 å‡ºã‚‹   å‹•è©    179\n#&gt;  9 äºº     åè©C   176\n#&gt; 10 æ¯     åè©C   170\n#&gt; # â„¹ 142 more rows",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "preprocessing.html#æ–‡æ›¸æŠ½å‡ºèªè¡¨a.3.5",
    "href": "preprocessing.html#æ–‡æ›¸æŠ½å‡ºèªè¡¨a.3.5",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "1.5 ã€Œæ–‡æ›¸ãƒ»æŠ½å‡ºèªã€è¡¨ï¼ˆA.3.5ï¼‰",
    "text": "1.5 ã€Œæ–‡æ›¸ãƒ»æŠ½å‡ºèªã€è¡¨ï¼ˆA.3.5ï¼‰\nã„ã‚ã‚†ã‚‹æ–‡æ›¸å˜èªè¡Œåˆ—ã®ä¾‹ã€‚dplyr::collectã—ãŸå¾Œã«tidyr::pivot_wider()ãªã©ã§æ¨ªã«å±•é–‹ã—ã¦ã‚‚ã‚ˆã„ãŒã€å¤šãã®å ´åˆã€ç–è¡Œåˆ—ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã—ã¦ã—ã¾ã£ãŸã»ã†ãŒã€ã“ã®å¾Œã«Rã§ã®è§£æã«ç”¨ã„ã‚‹ä¸Šã§ã¯æ‰±ã„ã‚„ã™ã„ã¨æ€ã‚ã‚Œã‚‹ã€‚quantedaã®dfmã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãµã¤ã†ã®å¯†ãªè¡Œåˆ—ã«ã—ãŸã„ã¨ãã¯ã€as.matrix(dfm)ã™ã‚Œã°ã‚ˆã„ã€‚\n\n\nCode\ndfm &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !is.na(original),\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::mutate(\n    token = dplyr::if_else(is.na(original), token, original),\n    token = paste(token, pos, sep = \"/\")\n  ) |&gt;\n  dplyr::count(doc_id, token) |&gt;\n  dplyr::collect() |&gt;\n  tidytext::cast_dfm(doc_id, token, n) |&gt;\n  quanteda::dfm_trim(min_termfreq = 75, termfreq_type = \"rank\")\n\nquanteda::docvars(dfm, \"section\") &lt;-\n  dplyr::filter(tbl, doc_id %in% quanteda::docnames(dfm)) |&gt;\n  dplyr::pull(\"section\")\n\ndfm\n#&gt; Document-feature matrix of: 1,185 documents, 78 features (93.19% sparse) and 1 docvar.\n#&gt;     features\n#&gt; docs æ±äº¬/åœ°å åˆ†ã‚‹/å‹•è© é–“/åè©C é ­/åè©C çŸ¥ã‚‹/å‹•è© è¦‹ã‚‹/å‹•è© å‹•ã/å‹•è©\n#&gt;    1         0         0        0        0         0         0         0\n#&gt;    2         1         1        0        0         0         0         0\n#&gt;    3         0         0        0        0         0         0         0\n#&gt;    4         0         0        0        0         0         0         0\n#&gt;    5         0         0        1        1         1         0         1\n#&gt;    6         0         0        1        0         0         0         0\n#&gt;     features\n#&gt; docs è¦‹ãˆã‚‹/å‹•è© è‡ªåˆ†/åè© å…ˆç”Ÿ/åè©\n#&gt;    1           0         0         3\n#&gt;    2           0         0         1\n#&gt;    3           0         0         0\n#&gt;    4           0         0         0\n#&gt;    5           0         0         0\n#&gt;    6           0         0         1\n#&gt; [ reached max_ndoc ... 1,179 more documents, reached max_nfeat ... 68 more features ]",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "preprocessing.html#æ–‡æ›¸ã‚³ãƒ¼ãƒ‰è¡¨a.3.6",
    "href": "preprocessing.html#æ–‡æ›¸ã‚³ãƒ¼ãƒ‰è¡¨a.3.6",
    "title": "1Â  ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†",
    "section": "1.6 ã€Œæ–‡æ›¸ãƒ»ã‚³ãƒ¼ãƒ‰ã€è¡¨ï¼ˆA.3.6ï¼‰",
    "text": "1.6 ã€Œæ–‡æ›¸ãƒ»ã‚³ãƒ¼ãƒ‰ã€è¡¨ï¼ˆA.3.6ï¼‰\nã€Œæ–‡æ›¸ãƒ»ã‚³ãƒ¼ãƒ‰ã€è¡Œåˆ—ã®ä¾‹ã€‚ã‚³ãƒ¼ãƒ‰ã®å‡ºç¾é »åº¦ã§ã¯ãªãã€Œã‚³ãƒ¼ãƒ‰ã®æœ‰ç„¡ã‚’ã‚ã‚‰ã‚ã™2å€¤å¤‰æ•°ã€ã‚’å‡ºåŠ›ã™ã‚‹ã€‚\n\n\nCode\ndfm &lt;- codes |&gt;\n  dplyr::count(doc_id, code) |&gt;\n  tidytext::cast_dfm(doc_id, code, n) |&gt;\n  quanteda::dfm_weight(scheme = \"boolean\")\n\nquanteda::docvars(dfm, \"section\") &lt;-\n  dplyr::filter(tbl, doc_id %in% quanteda::docnames(dfm)) |&gt;\n  dplyr::pull(\"section\")\n\ndfm\n#&gt; Document-feature matrix of: 294 documents, 5 features (76.19% sparse) and 1 docvar.\n#&gt;     features\n#&gt; docs ä¿¡ç”¨ãƒ»ä¸ä¿¡ å‹æƒ… ç—…æ°— äººã®æ­» æ‹æ„›\n#&gt;   2           1    1    1      0    0\n#&gt;   3           0    1    0      0    0\n#&gt;   19          1    0    0      0    0\n#&gt;   21          0    0    0      1    0\n#&gt;   37          0    0    0      1    0\n#&gt;   49          0    1    0      0    0\n#&gt; [ reached max_ndoc ... 288 more documents ]\n\n\n\n\n\nCode\nduckdb::dbDisconnect(con)\nduckdb::duckdb_shutdown(drv)\n\nsessioninfo::session_info(info = \"packages\")\n#&gt; â• Session info â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n#&gt; â”€ Packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n#&gt;  package      * version    date (UTC) lib source\n#&gt;  audubon        0.5.1.9001 2023-09-03 [1] https://paithiov909.r-universe.dev (R 4.3.1)\n#&gt;  blob           1.2.4      2023-03-17 [1] RSPM (R 4.3.0)\n#&gt;  cachem         1.0.8      2023-05-01 [1] CRAN (R 4.3.0)\n#&gt;  cellranger     1.1.0      2016-07-27 [1] RSPM (R 4.3.0)\n#&gt;  cli            3.6.2      2023-12-11 [1] RSPM (R 4.3.0)\n#&gt;  curl           5.2.0      2023-12-08 [1] CRAN (R 4.3.2)\n#&gt;  DBI          * 1.2.2      2024-02-16 [1] CRAN (R 4.3.2)\n#&gt;  dbplyr         2.4.0      2023-10-26 [1] RSPM (R 4.3.0)\n#&gt;  digest         0.6.34     2024-01-11 [1] CRAN (R 4.3.2)\n#&gt;  dplyr          1.1.4      2023-11-17 [1] CRAN (R 4.3.2)\n#&gt;  duckdb       * 0.9.2-1    2023-11-28 [1] RSPM (R 4.3.2)\n#&gt;  evaluate       0.23       2023-11-01 [1] CRAN (R 4.3.1)\n#&gt;  fansi          1.0.6      2023-12-08 [1] CRAN (R 4.3.2)\n#&gt;  fastmap        1.1.1      2023-02-24 [1] CRAN (R 4.3.0)\n#&gt;  fastmatch      1.1-4      2023-08-18 [1] RSPM (R 4.3.0)\n#&gt;  fs             1.6.3      2023-07-20 [1] RSPM (R 4.3.1)\n#&gt;  generics       0.1.3      2022-07-05 [1] CRAN (R 4.3.0)\n#&gt;  gibasa         1.1.0      2024-02-17 [1] https://paithiov909.r-universe.dev (R 4.3.2)\n#&gt;  glue           1.7.0      2024-01-09 [1] CRAN (R 4.3.2)\n#&gt;  htmltools      0.5.7      2023-11-03 [1] RSPM (R 4.3.0)\n#&gt;  htmlwidgets    1.6.4      2023-12-06 [1] RSPM (R 4.3.0)\n#&gt;  httpgd         1.3.1      2023-01-30 [1] CRAN (R 4.3.0)\n#&gt;  janeaustenr    1.0.0      2022-08-26 [1] RSPM (R 4.3.0)\n#&gt;  jsonlite       1.8.8      2023-12-04 [1] CRAN (R 4.3.2)\n#&gt;  knitr          1.45       2023-10-30 [1] CRAN (R 4.3.1)\n#&gt;  later          1.3.2      2023-12-06 [1] RSPM (R 4.3.0)\n#&gt;  lattice        0.22-5     2023-10-24 [4] CRAN (R 4.3.1)\n#&gt;  lifecycle      1.0.4      2023-11-07 [1] RSPM (R 4.3.0)\n#&gt;  magrittr       2.0.3      2022-03-30 [1] CRAN (R 4.3.0)\n#&gt;  Matrix         1.6-3      2023-11-14 [4] CRAN (R 4.3.2)\n#&gt;  memoise        2.0.1      2021-11-26 [1] CRAN (R 4.3.0)\n#&gt;  pillar         1.9.0      2023-03-22 [1] CRAN (R 4.3.0)\n#&gt;  pkgconfig      2.0.3      2019-09-22 [1] CRAN (R 4.3.0)\n#&gt;  purrr          1.0.2      2023-08-10 [1] RSPM (R 4.3.0)\n#&gt;  quanteda       3.3.1      2023-05-18 [1] RSPM (R 4.3.0)\n#&gt;  R.cache        0.16.0     2022-07-21 [1] CRAN (R 4.3.0)\n#&gt;  R.methodsS3    1.8.2      2022-06-13 [1] CRAN (R 4.3.0)\n#&gt;  R.oo           1.26.0     2024-01-24 [1] RSPM (R 4.3.0)\n#&gt;  R.utils        2.12.3     2023-11-18 [1] CRAN (R 4.3.2)\n#&gt;  R6             2.5.1      2021-08-19 [1] CRAN (R 4.3.0)\n#&gt;  Rcpp           1.0.12     2024-01-09 [1] RSPM (R 4.3.0)\n#&gt;  RcppParallel   5.1.7      2023-02-27 [1] CRAN (R 4.3.0)\n#&gt;  readxl         1.4.3      2023-07-06 [1] RSPM (R 4.3.0)\n#&gt;  rlang          1.1.3      2024-01-10 [1] CRAN (R 4.3.2)\n#&gt;  rmarkdown      2.25       2023-09-18 [1] RSPM (R 4.3.0)\n#&gt;  sessioninfo    1.2.2      2021-12-06 [1] RSPM (R 4.3.0)\n#&gt;  SnowballC      0.7.1      2023-04-25 [1] RSPM (R 4.3.0)\n#&gt;  stopwords      2.3        2021-10-28 [1] RSPM (R 4.3.0)\n#&gt;  stringi        1.8.3      2024-01-28 [1] https://gagolews.r-universe.dev (R 4.3.2)\n#&gt;  styler         1.10.2     2023-08-29 [1] RSPM (R 4.3.0)\n#&gt;  systemfonts    1.0.5      2023-10-09 [1] RSPM (R 4.3.0)\n#&gt;  tibble         3.2.1      2023-03-20 [1] CRAN (R 4.3.0)\n#&gt;  tidyr          1.3.1      2024-01-24 [1] RSPM (R 4.3.0)\n#&gt;  tidyselect     1.2.0      2022-10-10 [1] CRAN (R 4.3.0)\n#&gt;  tidytext       0.4.1      2023-01-07 [1] RSPM (R 4.3.0)\n#&gt;  tokenizers     0.3.0      2022-12-22 [1] RSPM (R 4.3.0)\n#&gt;  utf8           1.2.4      2023-10-22 [1] RSPM (R 4.3.0)\n#&gt;  V8             4.4.2      2024-02-15 [1] CRAN (R 4.3.2)\n#&gt;  vctrs          0.6.5      2023-12-01 [1] CRAN (R 4.3.2)\n#&gt;  withr          3.0.0      2024-01-16 [1] RSPM (R 4.3.0)\n#&gt;  xfun           0.42       2024-02-08 [1] CRAN (R 4.3.2)\n#&gt;  yaml           2.3.8      2023-12-11 [1] RSPM (R 4.3.0)\n#&gt; \n#&gt;  [1] /home/paithiov909/R/x86_64-pc-linux-gnu-library/4.3\n#&gt;  [2] /usr/local/lib/R/site-library\n#&gt;  [3] /usr/lib/R/site-library\n#&gt;  [4] /usr/lib/R/library\n#&gt; \n#&gt; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>ãƒ†ã‚­ã‚¹ãƒˆã®å‰å‡¦ç†</span>"
    ]
  },
  {
    "objectID": "plot-words.html",
    "href": "plot-words.html",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "",
    "text": "2.1 æŠ½å‡ºèªãƒªã‚¹ãƒˆï¼ˆA.5.1ï¼‰\næ´»ç”¨èªã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãã‚Œãã‚Œã®æ´»ç”¨ã®å‡ºç¾é »åº¦ã‚‚è¦‹ã‚Œã‚‹UIã«ã¤ã„ã¦ã¯ã€Rã ã¨ã©ã†ã™ã‚Œã°å®Ÿç¾ã§ãã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã€‚\nCode\ndat &lt;- dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::count(token, pos) |&gt;\n  dplyr::filter(n &gt;= 100) |&gt;\n  dplyr::collect()\n\nreactable::reactable(\n  dat,\n  filterable = TRUE,\n  defaultColDef = reactable::colDef(\n    cell = reactablefmtr::data_bars(dat)\n  )\n)",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#å‡ºç¾å›æ•°ã®åˆ†å¸ƒa.5.2",
    "href": "plot-words.html#å‡ºç¾å›æ•°ã®åˆ†å¸ƒa.5.2",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.2 å‡ºç¾å›æ•°ã®åˆ†å¸ƒï¼ˆA.5.2ï¼‰",
    "text": "2.2 å‡ºç¾å›æ•°ã®åˆ†å¸ƒï¼ˆA.5.2ï¼‰\n\n2.2.1 åº¦æ•°åˆ†å¸ƒè¡¨\n\n\nCode\ndat &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::count(token, pos) |&gt;\n  dplyr::summarise(\n    degree = sum(n, na.rm = TRUE),\n    .by = n\n  ) |&gt;\n  dplyr::mutate(\n    prop = degree / sum(degree, na.rm = TRUE)\n  ) |&gt;\n  dplyr::arrange(n) |&gt;\n  dplyr::compute() |&gt;\n  dplyr::mutate(\n    cum_degree = cumsum(degree),\n    cum_prop = cumsum(prop)\n  ) |&gt;\n  dplyr::collect()\n\ndat\n#&gt; # A tibble: 98 Ã— 5\n#&gt;        n degree   prop cum_degree cum_prop\n#&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;\n#&gt;  1     1   2938 0.111        2938    0.111\n#&gt;  2     2   1934 0.0729       4872    0.184\n#&gt;  3     3   1506 0.0568       6378    0.240\n#&gt;  4     4   1248 0.0470       7626    0.287\n#&gt;  5     5    955 0.0360       8581    0.323\n#&gt;  6     6    768 0.0289       9349    0.352\n#&gt;  7     7    868 0.0327      10217    0.385\n#&gt;  8     8    592 0.0223      10809    0.407\n#&gt;  9     9    531 0.0200      11340    0.427\n#&gt; 10    10    570 0.0215      11910    0.449\n#&gt; # â„¹ 88 more rows\n\n\n\n\n2.2.2 æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•\n\n\nCode\ndat |&gt;\n  dplyr::filter(cum_prop &lt; .8) |&gt;\n  ggplot(aes(x = n, y = degree)) +\n  geom_line() +\n  theme_bw() +\n  labs(x = \"å‡ºç¾å›æ•°\", y = \"åº¦æ•°\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#æ–‡æ›¸æ•°ã®åˆ†å¸ƒa.5.3",
    "href": "plot-words.html#æ–‡æ›¸æ•°ã®åˆ†å¸ƒa.5.3",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.3 æ–‡æ›¸æ•°ã®åˆ†å¸ƒï¼ˆA.5.3ï¼‰",
    "text": "2.3 æ–‡æ›¸æ•°ã®åˆ†å¸ƒï¼ˆA.5.3ï¼‰\næ®µè½ï¼ˆdoc_idï¼‰ã§ã¯ãªãã€ç« ãƒ©ãƒ™ãƒ«ï¼ˆlabelï¼‰ã§ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã—ã¦é›†è¨ˆã—ã¦ã„ã‚‹ã€‚docfreqã«ã¤ã„ã¦ä¸Šã§ã‚„ã£ãŸã®ã¨åŒæ§˜ã«å‡¦ç†ã™ã‚Œã°åº¦æ•°åˆ†å¸ƒè¡¨ã«ã§ãã‚‹ã€‚\n\n\nCode\ndat &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    !pos %in% c(\"ãã®ä»–\", \"åè©B\", \"å‹•è©B\", \"å½¢å®¹è©B\", \"å‰¯è©B\", \"å¦å®šåŠ©å‹•è©\", \"å½¢å®¹è©ï¼ˆéè‡ªç«‹ï¼‰\")\n  ) |&gt;\n  dplyr::mutate(token = paste(token, pos, sep = \"/\")) |&gt;\n  dplyr::count(label, token) |&gt;\n  dplyr::collect() |&gt;\n  tidytext::cast_dfm(label, token, n) |&gt;\n  quanteda.textstats::textstat_frequency() |&gt;\n  dplyr::as_tibble()\n\ndat\n#&gt; # A tibble: 5,797 Ã— 5\n#&gt;    feature       frequency  rank docfreq group\n#&gt;    &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;\n#&gt;  1 å…ˆç”Ÿ/åè©           595     1      53 all  \n#&gt;  2 K/æœªçŸ¥èª            411     2      36 all  \n#&gt;  3 å¥¥ã•ã‚“/åè©         388     3      54 all  \n#&gt;  4 çˆ¶/åè©C            269     4      41 all  \n#&gt;  5 è‡ªåˆ†/åè©           264     5      93 all  \n#&gt;  6 äºº/åè©C            176     6      84 all  \n#&gt;  7 æ¯/åè©C            170     7      38 all  \n#&gt;  8 å‰/å‰¯è©å¯èƒ½         169     8      97 all  \n#&gt;  9 ãŠå¬¢ã•ã‚“/åè©       168     9      34 all  \n#&gt; 10 è¦‹/å‹•è©             157    10      78 all  \n#&gt; # â„¹ 5,787 more rows\n\n\nåº¦æ•°åˆ†å¸ƒã‚’ã‚°ãƒ©ãƒ•ã§ç¢ºèªã—ãŸã„ã ã‘ãªã‚‰ã€ã“ã®ã‹ãŸã¡ã‹ã‚‰ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’æã„ãŸã»ã†ãŒæ¥½ã€‚\n\n\nCode\ndat |&gt;\n  ggplot(aes(x = docfreq)) +\n  geom_histogram(binwidth = 3) +\n  scale_y_sqrt() +\n  theme_bw() +\n  labs(x = \"æ–‡æ›¸æ•°\", y = \"åº¦æ•°\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#å‡ºç¾å›æ•°æ–‡æ›¸æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆa.5.4",
    "href": "plot-words.html#å‡ºç¾å›æ•°æ–‡æ›¸æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆa.5.4",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.4 å‡ºç¾å›æ•°ãƒ»æ–‡æ›¸æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆï¼ˆA.5.4ï¼‰",
    "text": "2.4 å‡ºç¾å›æ•°ãƒ»æ–‡æ›¸æ•°ã®ãƒ—ãƒ­ãƒƒãƒˆï¼ˆA.5.4ï¼‰\nå›³ A.25ã®ã‚ˆã†ãªã‚°ãƒ©ãƒ•ã®ä¾‹ã€‚ggplot2ã§graphics::identifyã®ã‚ˆã†ãªã“ã¨ã‚’ã™ã‚‹ã‚„ã‚Šæ–¹ãŒã‚ã‹ã‚‰ãªã„ã®ã§ã€é©å½“ã«æ¡ä»¶ã‚’æŒ‡å®šã—ã¦gghighlightã§ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ã¦ã„ã‚‹ã€‚\n\n\nCode\ndat |&gt;\n  ggplot(aes(x = frequency, y = docfreq)) +\n  geom_jitter() +\n  gghighlight::gghighlight(\n    frequency &gt; 100 & docfreq &lt; 60\n  ) +\n  ggrepel::geom_text_repel(aes(label = feature)) +\n  scale_x_log10() +\n  theme_bw() +\n  labs(x = \"å‡ºç¾å›æ•°\", y = \"æ–‡æ›¸æ•°\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#kwica.5.5",
    "href": "plot-words.html#kwica.5.5",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.5 KWICï¼ˆA.5.5ï¼‰",
    "text": "2.5 KWICï¼ˆA.5.5ï¼‰\n\n2.5.1 ã‚³ãƒ³ã‚³ãƒ¼ãƒ€ãƒ³ã‚¹\nã‚³ãƒ³ã‚³ãƒ¼ãƒ€ãƒ³ã‚¹ã¯quanteda::kwic()ã§ç¢ºèªã§ãã‚‹ã€‚ã‚‚ã£ã¨ã‚‚ã€KH Coderã®æä¾›ã™ã‚‹ã‚³ãƒ³ã‚³ãƒ¼ãƒ€ãƒ³ã‚¹æ¤œç´¢ã‚„ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³çµ±è¨ˆã®ã»ã†ãŒæ˜ã‚‰ã‹ã«ãƒªãƒƒãƒãªã®ã¨ã€Rã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¯æ—¥æœ¬èªã®é•·ã‚ã®æ–‡å­—åˆ—ã‚’è¡¨ç¤ºã™ã‚‹ã®ã«ã‚ã¾ã‚Šå‘ã„ã¦ã„ãªã„ã¨ã„ã†ã®ãŒã‚ã‚‹ã®ã§ã€ã“ã®ã‚ãŸã‚Šã®æ©Ÿèƒ½ãŒå¿…è¦ãªã‚‰KH Coderã‚’åˆ©ç”¨ã—ãŸã»ã†ãŒã‚ˆã„ã€‚\n\n\nCode\ndat &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(section == \"[1]ä¸Š_å…ˆç”Ÿã¨ç§\") |&gt;\n  dplyr::select(label, token) |&gt;\n  dplyr::collect() |&gt;\n  dplyr::reframe(token = list(token), .by = label) |&gt;\n  tibble::deframe() |&gt;\n  quanteda::as.tokens() |&gt;\n  quanteda::tokens_select(\"[[:punct:]]\", selection = \"remove\", valuetype = \"regex\", padding = FALSE) |&gt;\n  quanteda::tokens_select(\"^[\\\\p{Hiragana}]{1,2}$\", selection = \"remove\", valuetype = \"regex\", padding = TRUE)\n\nquanteda::kwic(dat, pattern = \"^å‘[ã„ãã‘ã“]$\", window = 5, valuetype = \"regex\")\n#&gt; Keyword-in-context with 18 matches.                                                                   \n#&gt;      [ä¸Šãƒ»äºŒ, 183]            æµ· æ–¹ | å‘ã„ | ç«‹ã£                  \n#&gt;      [ä¸Šãƒ»äºŒ, 527]            æ²– æ–¹ | å‘ã„ | è¡Œã£ ãã‚Œã‹ã‚‰ å¼•ãè¿”ã—\n#&gt;      [ä¸Šãƒ»ä¸ƒ, 740]            å¤– æ–¹ | å‘ã„ | ä»Š æ‰‹                 \n#&gt;      [ä¸Šãƒ»å…«, 622]            ç§ æ–¹ | å‘ã„ | ç§                    \n#&gt;      [ä¸Šãƒ»å…«, 697]            ç§ æ–¹ | å‘ã„ | å­ä¾›                  \n#&gt;    [ä¸Šãƒ»åäºŒ, 568]        èŠ± ãã¡ã‚‰ | å‘ã„ | çœ¼ å³™                 \n#&gt;    [ä¸Šãƒ»åäºŒ, 628]          æ–¹è§’ è¶³ | å‘ã‘ | ãã‚Œã‹ã‚‰ ç§           \n#&gt;    [ä¸Šãƒ»åå››, 247]            åº­ æ–¹ | å‘ã„ | åº­ ã“ã®é–“             \n#&gt;    [ä¸Šãƒ»åäº”, 661]      å¥¥ã•ã‚“ å·®ã— | å‘ã„ | è©± ãªã‘ã‚Œ             \n#&gt;    [ä¸Šãƒ»åå…­, 265]            çœ¼ ç§ | å‘ã‘ | ãã†ã—ã¦ å®¢ æ¥        \n#&gt;    [ä¸Šãƒ»åä¸ƒ, 447]    ä¸–ã®ä¸­ ã©ã£ã¡ | å‘ã„ | é¢ç™½                  \n#&gt;  [ä¸Šãƒ»äºŒåäº”, 557]        ä¸–é–“ èƒŒä¸­ | å‘ã‘ | äºº è‹¦å‘³               \n#&gt;  [ä¸Šãƒ»äºŒåå…­, 480]                  | å‘ã„ | æ­©ã„ ã‚„ãŒã¦ è‹¥è‘‰      \n#&gt;  [ä¸Šãƒ»ä¸‰åä¸‰, 686]            åº­ æ–¹ | å‘ã„ | æ¾„ã¾ã— çƒŸè‰           \n#&gt;  [ä¸Šãƒ»ä¸‰åä¸‰, 771] å…ˆç”Ÿ ã¡ã‚‡ã£ã¨ é¡” | å‘ã‘ | ç›´ã— å¥¥ã•ã‚“ è¨€è‘‰      \n#&gt;  [ä¸Šãƒ»ä¸‰åå››, 415]               ä¸‹ | å‘ã„ | ç§ çˆ¶                 \n#&gt;  [ä¸Šãƒ»ä¸‰åå››, 436]   çªç„¶ å¥¥ã•ã‚“ æ–¹ | å‘ã„ | é™ ãŠå‰               \n#&gt;  [ä¸Šãƒ»ä¸‰åäº”, 425]            åº­ æ–¹ | å‘ã„ | ç¬‘ã£ ã—ã‹ã—\n\n\nãªãŠã€ä¸Šã®ä¾‹ã§ã¯ã²ã‚‰ãŒãª1ï½2æ–‡å­—ã®èªã‚’paddingã—ã¤ã¤é™¤å¤–ã—ãŸã®ã§ã€ä¸€éƒ¨ã®åŠ©è©ãªã©ã¯è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ï¼ˆãã‚Œãã‚Œã®çª“ã®ãªã‹ã§ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã—ã¦æ•°ãˆã‚‰ã‚Œã¦ã¯ã„ã‚‹ï¼‰ã€‚\n\n\n2.5.2 ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³\nãŸã¨ãˆã°ã€å‰å¾Œ5å€‹ã®windowå†…ã®ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆnodeã‚’å«ã‚ã¦11èªã®çª“ã¨ã„ã†ã“ã¨ï¼‰ã®åˆè¨ˆã«ã¤ã„ã¦ã¯æ¬¡ã®ã‚ˆã†ã«ç¢ºèªã§ãã‚‹ã€‚\n\n\nCode\ndat |&gt;\n  quanteda::fcm(context = \"window\", window = 5) |&gt;\n  tidytext::tidy() |&gt;\n  dplyr::rename(node = document, term = term) |&gt;\n  dplyr::filter(node == \"å‘ã„\") |&gt;\n  dplyr::slice_max(count, n = 10)\n#&gt; # A tibble: 30 Ã— 3\n#&gt;    node  term     count\n#&gt;    &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;\n#&gt;  1 å‘ã„  åº­           4\n#&gt;  2 å‘ã„  å¥¥ã•ã‚“       2\n#&gt;  3 å‘ã„  ç«‹ã£         1\n#&gt;  4 å‘ã„  çœ¼           1\n#&gt;  5 å‘ã„  ã‚„ãŒã¦       1\n#&gt;  6 å‘ã„  æ²–           1\n#&gt;  7 å‘ã„  ãã‚Œã‹ã‚‰     1\n#&gt;  8 å‘ã„  å¼•ãè¿”ã—     1\n#&gt;  9 å‘ã„  çƒŸè‰         1\n#&gt; 10 å‘ã„  ã—ã‹ã—       1\n#&gt; # â„¹ 20 more rows\n\n\nã€Œå·¦åˆè¨ˆã€ã‚„ã€Œå³åˆè¨ˆã€ã«ã¤ã„ã¦ã¯ã€ãŸã¨ãˆã°æ¬¡ã®ã‚ˆã†ã«ã—ã¦ç¢ºèªã§ãã‚‹ã€‚paddingã—ãªã‘ã‚Œã°tidyr::separate_wider_delim()ã§å±•é–‹ã—ã¦ä½ç½®ã”ã¨ã«é›†è¨ˆã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã€‚\n\n\nCode\ndat |&gt;\n  quanteda::kwic(pattern = \"^å‘[ã„ãã‘ã“]$\", window = 5, valuetype = \"regex\") |&gt;\n  dplyr::as_tibble() |&gt;\n  dplyr::select(docname, keyword, pre, post) |&gt;\n  tidyr::pivot_longer(\n    c(pre, post),\n    names_to = \"window\",\n    values_to = \"term\",\n    values_transform = ~ strsplit(., \" \", fixed = TRUE)\n  ) |&gt;\n  tidyr::unnest(term) |&gt;\n  dplyr::count(window, term, sort = TRUE)\n#&gt; # A tibble: 55 Ã— 3\n#&gt;    window term         n\n#&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;\n#&gt;  1 pre    æ–¹           9\n#&gt;  2 post   ç§           3\n#&gt;  3 pre    åº­           3\n#&gt;  4 pre    ç§           3\n#&gt;  5 post   ãã‚Œã‹ã‚‰     2\n#&gt;  6 pre    å¥¥ã•ã‚“       2\n#&gt;  7 post   ãŠå‰         1\n#&gt;  8 post   ã“ã®é–“       1\n#&gt;  9 post   ã—ã‹ã—       1\n#&gt; 10 post   ãã†ã—ã¦     1\n#&gt; # â„¹ 45 more rows",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#é–¢é€£èªæ¤œç´¢a.5.6",
    "href": "plot-words.html#é–¢é€£èªæ¤œç´¢a.5.6",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.6 é–¢é€£èªæ¤œç´¢ï¼ˆA.5.6ï¼‰",
    "text": "2.6 é–¢é€£èªæ¤œç´¢ï¼ˆA.5.6ï¼‰\n\n2.6.1 é–¢é€£èªã®ãƒªã‚¹ãƒˆ\nã€Œç¢ºç‡å·®ã€ã‚„ã€Œç¢ºç‡æ¯”ã€ã«ã¤ã„ã¦ã¯ã€ã„ã¡ãŠã†è¨ˆç®—ã¯ã§ããŸæ°—ãŒã™ã‚‹ãŒã€ã‚ã£ã¦ã„ã‚‹ã®ã‹ã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚ã¾ãŸã€ã“ã®ã‚„ã‚Šæ–¹ã¯ãã‚Œãªã‚Šã®æ•°ã®å…±èµ·ã«ã¤ã„ã¦è¨ˆç®—ã‚’ã—ãªã‘ã‚Œã°ãªã‚‰ãšã€å…±èµ·è¡Œåˆ—ãŒå¤§ãããªã‚‹ã¨å¤§å¤‰ãã†ã€‚\n\n\nCode\ndfm &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    section == \"[1]ä¸Š_å…ˆç”Ÿã¨ç§\",\n    pos %in% c(\n      \"åè©\", # \"åè©B\", \"åè©C\",\n      \"åœ°å\", \"äººå\", \"çµ„ç¹”å\", \"å›ºæœ‰åè©\",\n      \"å‹•è©\", \"æœªçŸ¥èª\", \"ã‚¿ã‚°\"\n    )\n  ) |&gt;\n  dplyr::mutate(\n    token = dplyr::if_else(is.na(original), token, original),\n    token = paste(token, pos, sep = \"/\")\n  ) |&gt;\n  dplyr::count(doc_id, token) |&gt;\n  dplyr::collect() |&gt;\n  tidytext::cast_dfm(doc_id, token, n) |&gt;\n  quanteda::dfm_weight(scheme = \"boolean\")\n\ndat &lt;- dfm |&gt;\n  quanteda::fcm() |&gt;\n  tidytext::tidy() |&gt;\n  dplyr::rename(target = document, co_occur = count) |&gt;\n  dplyr::reframe(\n    term = term,\n    target_occur = quanteda::colSums(dfm)[target],\n    term_occur = quanteda::colSums(dfm)[term],\n    co_occur = co_occur,\n    .by = target\n  ) |&gt;\n  dplyr::mutate(\n    p_x = target_occur / quanteda::ndoc(dfm),\n    p_y = term_occur / quanteda::ndoc(dfm),\n    p_xy = (co_occur / quanteda::ndoc(dfm)) / p_x,\n    differential = p_xy - p_y, # ç¢ºç‡å·®\n    lift = p_xy / p_y, # ç¢ºç‡æ¯”ï¼ˆãƒªãƒ•ãƒˆï¼‰,\n    jaccard = co_occur / (target_occur + term_occur - co_occur),\n    dice = 2 * co_occur / (target_occur + term_occur)\n  ) |&gt;\n  dplyr::select(target, term, differential, lift, jaccard, dice)\n\ndat\n#&gt; # A tibble: 26,820 Ã— 6\n#&gt;    target    term          differential  lift jaccard    dice\n#&gt;    &lt;chr&gt;     &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n#&gt;  1 å…ˆç”Ÿ/åè© ä¸–é–“/åè©         0.0122   1.68  0.0300  0.0582 \n#&gt;  2 å…ˆç”Ÿ/åè© éŒå€‰/äººå         0.00198  2.10  0.00377 0.00752\n#&gt;  3 å…ˆç”Ÿ/åè© æ–­ã‚‹/å‹•è©         0.000529 1.05  0.0112  0.0221 \n#&gt;  4 å…ˆç”Ÿ/åè© ç¿’æ…£/åè©         0.00593  2.10  0.0113  0.0224 \n#&gt;  5 å…ˆç”Ÿ/åè© éŠã¶/å‹•è©         0.00988  2.10  0.0189  0.0370 \n#&gt;  6 å…ˆç”Ÿ/åè© å–ã‚Šæ®‹ã™/å‹•è©     0.00395  2.10  0.00755 0.0150 \n#&gt;  7 å…ˆç”Ÿ/åè© å–ã‚‹/å‹•è©         0.00645  1.40  0.0224  0.0438 \n#&gt;  8 å…ˆç”Ÿ/åè© ä¸‹ã‚Šã‚‹/å‹•è©      -0.00702  0.350 0.00370 0.00738\n#&gt;  9 å…ˆç”Ÿ/åè© æ€ã†/å‹•è©         0.0175   1.14  0.128   0.227  \n#&gt; 10 å…ˆç”Ÿ/åè© ä¸€äºº/ã‚¿ã‚°         0.0129   1.40  0.0443  0.0848 \n#&gt; # â„¹ 26,810 more rows\n\n\n\n\n2.6.2 å…±èµ·ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯\nã€Œå…ˆç”Ÿ/åè©ã€ã¨é–¢é€£ã®å¼·ãã†ãªèªã®å…±èµ·ã‚’å›³ç¤ºã—ãŸä¾‹ã€‚\nã€Œå…ˆç”Ÿ/åè©ã€ã¨å…±èµ·ã—ã¦ã„ã‚‹èªã®ã†ã¡ã€å‡ºç¾å›æ•°ãŒä¸Šä½20ä½ä»¥å†…ã§ã‚ã‚‹èªãŒtargetã§ã‚ã‚‹å…±èµ·ã‚’æŠ½å‡ºã—ãŸã†ãˆã§ã€ãã‚Œã‚‰ã®ãªã‹ã‹ã‚‰Jaccardä¿‚æ•°ãŒå¤§ãã„é †ã«75å€‹ã ã‘æ®‹ã—ã¦ã„ã‚‹ã€‚ã€Œå…ˆç”Ÿ/åè©ã€ã¨ã„ã†èªãã®ã‚‚ã®ã¯å›³ã«å«ã‚ã¦ã„ãªã„ã€‚\n\n\nCode\ndat |&gt;\n  dplyr::inner_join(\n    dplyr::filter(dat, target == \"å…ˆç”Ÿ/åè©\") |&gt; dplyr::select(term),\n    by = dplyr::join_by(target == term)\n  ) |&gt;\n  dplyr::filter(target %in% names(quanteda::topfeatures(dfm, 20))) |&gt;\n  dplyr::slice_max(jaccard, n = 75) |&gt;\n  tidygraph::as_tbl_graph(directed = FALSE) |&gt;\n  tidygraph::to_minimum_spanning_tree() |&gt;\n  purrr::pluck(\"mst\") |&gt;\n  dplyr::mutate(\n    community = tidygraph::group_leading_eigen()\n  ) |&gt;\n  dplyr::mutate(community = factor(community)) |&gt;\n  ggraph::ggraph(layout = \"fr\") +\n  ggraph::geom_edge_link(aes(width = sqrt(lift), alpha = jaccard)) +\n  ggraph::geom_node_point(aes(colour = community), show.legend = FALSE) +\n  ggraph::geom_node_text(aes(label = name, colour = community), repel = TRUE, show.legend = FALSE) +\n  ggraph::theme_graph()\n#&gt; Warning: Using the `size` aesthetic in this geom was deprecated in ggplot2 3.4.0.\n#&gt; â„¹ Please use `linewidth` in the `default_aes` field and elsewhere instead.\n\n\n\n\n\n\n\n\n\n\n\n2.6.3 ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³åˆ†æğŸ³\nè‹±èªã ã¨ã“ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®åå‰ã¯ã€ŒWord Associationã€ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã€ãµã¤ã†ã«ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³åˆ†æã™ã‚Œã°ã„ã„ã¨æ€ã£ãŸã€‚\narulesã®transactionsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã¤ãã‚‹ã«ã¯ã€quantedaã®fcmã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å¤‰æ›ã™ã‚Œã°ã‚ˆã„ï¼ˆarulesã‚’ã‚¢ã‚¿ãƒƒãƒã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼‰ã€‚\n\n\nCode\nlibrary(arules)\nlibrary(arulesViz)\n\ndat &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    pos %in% c(\n      \"åè©\", # \"åè©B\", \"åè©C\",\n      \"åœ°å\", \"äººå\", \"çµ„ç¹”å\", \"å›ºæœ‰åè©\",\n      \"å‹•è©\", \"æœªçŸ¥èª\", \"ã‚¿ã‚°\"\n    )\n  ) |&gt;\n  dplyr::mutate(\n    token = dplyr::if_else(is.na(original), token, original),\n    token = paste(token, pos, sep = \"/\")\n  ) |&gt;\n  dplyr::count(doc_id, token) |&gt;\n  dplyr::collect() |&gt;\n  tidytext::cast_dfm(doc_id, token, n) |&gt;\n  quanteda::dfm_weight(scheme = \"boolean\") |&gt;\n  quanteda::fcm() |&gt;\n  as(\"nMatrix\") |&gt;\n  as(\"transactions\")\n\n\narules::apriori()ã§ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã‚’æŠ½å‡ºã™ã‚‹ã€‚\n\n\nCode\nrules &lt;-\n  arules::apriori(\n    dat,\n    parameter = list(\n      support = 0.075,\n      confidence = 0.8,\n      minlen = 2,\n      maxlen = 2, # LHS+RHSã®é•·ã•ã€‚å¤‰ãˆãªã„ã»ã†ãŒã‚ˆã„\n      maxtime = 5\n    ),\n    control = list(verbose = FALSE)\n  )\n\n\nã“ã®å½¢å¼ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯as(rules, \"data.frame\")ã®ã‚ˆã†ã«ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«å¤‰æ›ã§ãã‚‹ã€‚tibbleã«ã—ãŸã„å ´åˆã«ã¯æ¬¡ã®ã‚ˆã†ã«ã™ã‚Œã°ã‚ˆã„ã€‚\n\n\nCode\nas(rules, \"data.frame\") |&gt;\n  dplyr::mutate(across(where(is.numeric), ~ signif(., digits = 3))) |&gt;\n  tidyr::separate_wider_delim(rules, delim = \" =&gt; \", names = c(\"lhs\", \"rhs\")) |&gt;\n  dplyr::arrange(desc(lift))\n#&gt; # A tibble: 56 Ã— 7\n#&gt;    lhs             rhs         support confidence coverage  lift count\n#&gt;    &lt;chr&gt;           &lt;chr&gt;         &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n#&gt;  1 {æ‰‹ç´™/åè©}     {æ›¸ã/å‹•è©}  0.113       0.823   0.138   4.77   334\n#&gt;  2 {ãŠå¬¢ã•ã‚“/åè©} {K/æœªçŸ¥èª}   0.176       0.801   0.22    2.38   518\n#&gt;  3 {é»™ã‚‹/å‹•è©}     {èã/å‹•è©}  0.106       0.832   0.128   2.12   313\n#&gt;  4 {æ›ã‘ã‚‹/å‹•è©}   {èã/å‹•è©}  0.0751      0.828   0.0907  2.11   221\n#&gt;  5 {å°‹ã­ã‚‹/å‹•è©}   {èã/å‹•è©}  0.0927      0.815   0.114   2.08   273\n#&gt;  6 {ä»˜ã‘ã‚‹/å‹•è©}   {èã/å‹•è©}  0.105       0.803   0.131   2.05   310\n#&gt;  7 {æ›ã‘ã‚‹/å‹•è©}   {å‡ºã‚‹/å‹•è©}  0.0764      0.843   0.0907  1.89   225\n#&gt;  8 {ä¿¡ã˜ã‚‹/å‹•è©}   {è‡ªåˆ†/åè©}  0.0934      0.851   0.11    1.83   275\n#&gt;  9 {ç–‘ã†/å‹•è©}     {è‡ªåˆ†/åè©}  0.0805      0.843   0.0954  1.81   237\n#&gt; 10 {ä¸Šã’ã‚‹/å‹•è©}   {è‡ªåˆ†/åè©}  0.0774      0.844   0.0917  1.81   228\n#&gt; # â„¹ 46 more rows\n\n\n\n\n2.6.4 æ•£å¸ƒå›³ğŸ³\n\n\nCode\nplot(rules, engine = \"html\")\n\n\n\n\n\n\n\n\n2.6.5 ãƒãƒ«ãƒ¼ãƒ³ãƒ—ãƒ­ãƒƒãƒˆğŸ³\n\n\nCode\nplot(rules, method = \"grouped\", engine = \"html\")\n\n\n\n\n\n\n\n\n2.6.6 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ğŸ³\n\n\nCode\nplot(rules, method = \"graph\", engine = \"html\")",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#å¯¾å¿œåˆ†æa.5.7",
    "href": "plot-words.html#å¯¾å¿œåˆ†æa.5.7",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.7 å¯¾å¿œåˆ†æï¼ˆA.5.7ï¼‰",
    "text": "2.7 å¯¾å¿œåˆ†æï¼ˆA.5.7ï¼‰\n\n2.7.1 ã‚³ãƒ¬ã‚¹ãƒãƒ³ãƒ‡ãƒ³ã‚¹åˆ†æ\næ®µè½ï¼ˆdoc_idï¼‰å†…ã®é »åº¦ã§èªå½™ã‚’å‰Šã£ã¦ã‹ã‚‰éƒ¨ï¼ˆsectionï¼‰ã”ã¨ã«é›†è¨ˆã™ã‚‹ãŸã‚ã«ã€ã‚„ã‚„ã‚ã‚“ã©ã†ãªã“ã¨ã‚’ã—ã¦ã„ã‚‹ã€‚\n\n\nCode\ndfm &lt;-\n  dplyr::tbl(con, \"tokens\") |&gt;\n  dplyr::filter(\n    pos %in% c(\n      \"åè©\", \"åè©B\", \"åè©C\",\n      \"åœ°å\", \"äººå\", \"çµ„ç¹”å\", \"å›ºæœ‰åè©\",\n      \"å‹•è©\", \"æœªçŸ¥èª\", \"ã‚¿ã‚°\"\n    )\n  ) |&gt;\n  dplyr::mutate(\n    token = dplyr::if_else(is.na(original), token, original),\n    token = paste(token, pos, sep = \"/\")\n  ) |&gt;\n  dplyr::count(doc_id, token) |&gt;\n  dplyr::collect() |&gt;\n  tidytext::cast_dfm(doc_id, token, n) |&gt;\n  quanteda::dfm_trim(\n    min_termfreq = 75,\n    termfreq_type = \"rank\",\n    min_docfreq = 30,\n    docfreq_type = \"count\"\n  )\n\n\nã“ã†ã—ã¦doc_idã”ã¨ã«é›†è¨ˆã—ãŸdfmã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¸€åº¦tidytext::tidy()ã—ã¦3ã¤çµ„ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã«æˆ»ã—ã€sectionã®ãƒ©ãƒ™ãƒ«ã‚’çµåˆã™ã‚‹ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ã‚‚ã†ä¸€åº¦tidytext::cast_dfm()ã§ç–è¡Œåˆ—ã«å¤‰æ›ã—ã¦ã€quanteda.textmodels::textmodel_ca()ã‚’ä½¿ã£ã¦å¯¾å¿œåˆ†æã«ã‹ã‘ã‚‹ã€‚\n\n\nCode\nca_fit &lt;- dfm |&gt;\n  tidytext::tidy() |&gt;\n  dplyr::left_join(\n    dplyr::select(tbl, doc_id, section),\n    by = dplyr::join_by(document == doc_id)\n  ) |&gt;\n  tidytext::cast_dfm(section, term, count) |&gt;\n  quanteda.textmodels::textmodel_ca(nd = 2, sparse = TRUE)\n\n\nã“ã®é–¢æ•°ã¯ç–è¡Œåˆ—ã«å¯¾ã—ã¦è¨ˆç®—ã‚’ãŠã“ãªãˆã‚‹ãŸã‚ã€æ¯”è¼ƒçš„å¤§ããªè¡Œåˆ—ã‚’æ¸¡ã—ã¦ã‚‚å¤§ä¸ˆå¤«ã€‚\n\n\n2.7.2 ãƒã‚¤ãƒ—ãƒ­ãƒƒãƒˆ\ncaãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ã¨plot()ã§ãƒã‚¤ãƒ—ãƒ­ãƒƒãƒˆã‚’æã‘ã‚‹ã€‚factoextra::fviz_ca_biplot()ã§ã‚‚æã‘ã‚‹ãŒã€è¦‹ãŸç›®ã¯plot()ã®ã¨ã‚ã¾ã‚Šå¤‰ã‚ã‚‰ãªã„ã€‚\n\n\nCode\nlibrary(ca)\ndat &lt;- plot(ca_fit)\n\n\n\n\n\n\n\n\n\n\n\n2.7.3 ãƒã‚¤ãƒ—ãƒ­ãƒƒãƒˆï¼ˆãƒãƒ–ãƒ«ãƒ—ãƒ­ãƒƒãƒˆï¼‰\nggplot2ã§ãƒã‚¤ãƒ—ãƒ­ãƒƒãƒˆã‚’æç”»ã™ã‚‹ã«ã¯ã€ãŸã¨ãˆã°æ¬¡ã®ã‚ˆã†ã«ã™ã‚‹ã€‚ggrepel::geom_text_repelã§ãƒ©ãƒ™ãƒ«ã‚’å‡ºã™èªå½™ã®é¸æŠã®ä»•æ–¹ã¯ã‚‚ã†ã™ã“ã—å·¥å¤«ã—ãŸã»ã†ãŒã‚ˆã„ã‹ã‚‚ã—ã‚Œãªã„ã€‚\nãªãŠã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯Correspondence Analysis visualization using ggplot | R-bloggersã‚’å‚è€ƒã«ã—ãŸã€‚\n\n\nCode\ntf &lt;- dfm |&gt;\n  tidytext::tidy() |&gt;\n  dplyr::left_join(\n    dplyr::select(tbl, doc_id, section),\n    by = dplyr::join_by(document == doc_id)\n  ) |&gt;\n  dplyr::summarise(tf = sum(count), .by = term) |&gt;\n  dplyr::pull(tf, term)\n\n# modified from https://www.r-bloggers.com/2019/08/correspondence-analysis-visualization-using-ggplot/\nmake_ca_plot_df &lt;- function(ca.plot.obj, row.lab = \"Rows\", col.lab = \"Columns\") {\n  tibble::tibble(\n    Label = c(\n      rownames(ca.plot.obj$rows),\n      rownames(ca.plot.obj$cols)\n    ),\n    Dim1 = c(\n      ca.plot.obj$rows[, 1],\n      ca.plot.obj$cols[, 1]\n    ),\n    Dim2 = c(\n      ca.plot.obj$rows[, 2],\n      ca.plot.obj$cols[, 2]\n    ),\n    Variable = c(\n      rep(row.lab, nrow(ca.plot.obj$rows)),\n      rep(col.lab, nrow(ca.plot.obj$cols))\n    )\n  )\n}\ndat &lt;- dat |&gt;\n  make_ca_plot_df(row.lab = \"Construction\", col.lab = \"Medium\") |&gt;\n  dplyr::mutate(\n    Size = dplyr::if_else(Variable == \"Construction\", mean(tf), tf[Label])\n  )\n# éASCIIæ–‡å­—ã®ãƒ©ãƒ™ãƒ«ã«å¯¾ã—ã¦warningã‚’å‡ºã•ãªã„ã‚ˆã†ã«ã™ã‚‹\nsuppressWarnings({\n  ca_sum &lt;- summary(ca_fit)\n  dim_var_percs &lt;- ca_sum$scree[, \"values2\"]\n})\n\ndat |&gt;\n  ggplot(aes(x = Dim1, y = Dim2, col = Variable, label = Label)) +\n  geom_vline(xintercept = 0, lty = \"dashed\", alpha = .5) +\n  geom_hline(yintercept = 0, lty = \"dashed\", alpha = .5) +\n  geom_jitter(aes(size = Size), alpha = .3, show.legend = FALSE) +\n  ggrepel::geom_label_repel(\n    data = \\(x) dplyr::filter(x, Variable == \"Construction\"),\n    show.legend = FALSE\n  ) +\n  ggrepel::geom_text_repel(\n    data = \\(x) dplyr::filter(x, Variable == \"Medium\", sqrt(Dim1^2 + Dim2^2) &gt; 0.25),\n    show.legend = FALSE\n  ) +\n  scale_x_continuous(\n    limits = range(dat$Dim1) +\n      c(diff(range(dat$Dim1)) * -0.2, diff(range(dat$Dim1)) * 0.2)\n  ) +\n  scale_y_continuous(\n    limits = range(dat$Dim2) +\n      c(diff(range(dat$Dim2)) * -0.2, diff(range(dat$Dim2)) * 0.2)\n  ) +\n  scale_size_area(max_size = 16) +\n  labs(\n    x = paste0(\"Dimension 1 (\", signif(dim_var_percs[1], 3), \"%)\"),\n    y = paste0(\"Dimension 2 (\", signif(dim_var_percs[2], 3), \"%)\")\n  ) +\n  theme_classic()\n#&gt; Warning: ggrepel: 23 unlabeled data points (too many overlaps). Consider\n#&gt; increasing max.overlaps",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#å¤šæ¬¡å…ƒå°ºåº¦æ§‹æˆæ³•a.5.8",
    "href": "plot-words.html#å¤šæ¬¡å…ƒå°ºåº¦æ§‹æˆæ³•a.5.8",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.8 å¤šæ¬¡å…ƒå°ºåº¦æ§‹æˆæ³•ï¼ˆA.5.8ï¼‰",
    "text": "2.8 å¤šæ¬¡å…ƒå°ºåº¦æ§‹æˆæ³•ï¼ˆA.5.8ï¼‰\n\n2.8.1 2æ¬¡å…ƒãƒ»ãƒãƒ–ãƒ«ãƒ—ãƒ­ãƒƒãƒˆ\nMASS::isoMDSã‚ˆã‚ŠMASS::sammonã®ã»ã†ãŒãŸã¶ã‚“è¦‹ã‚„ã™ã„ã€‚\n\n\nCode\nsimil &lt;- dfm |&gt;\n  quanteda::dfm_weight(scheme = \"boolean\") |&gt;\n  proxyC::simil(margin = 2, method = \"jaccard\")\n\ndat &lt;- MASS::sammon(1 - simil, k = 2) |&gt;\n  purrr::pluck(\"points\")\n#&gt; Initial stress        : 0.62279\n#&gt; stress after   0 iters: 0.62279\n\n\n\n\nCode\ndat &lt;- dat |&gt;\n  as.data.frame() |&gt;\n  tibble::rownames_to_column(\"label\") |&gt;\n  dplyr::rename(Dim1 = V1, Dim2 = V2) |&gt;\n  dplyr::mutate(\n    size = tf[label],\n    clust = (hclust(\n      proxyC::dist(dat, method = \"euclidean\") |&gt; as.dist(),\n      method = \"ward.D2\"\n    ) |&gt; cutree(k = 6))[label]\n  )\n\ndat |&gt;\n  ggplot(aes(x = Dim1, y = Dim2, label = label, col = factor(clust))) +\n  geom_point(aes(size = size), alpha = .3, show.legend = FALSE) +\n  ggrepel::geom_text_repel(show.legend = FALSE) +\n  scale_size_area(max_size = 16) +\n  theme_classic()\n#&gt; Warning: ggrepel: 24 unlabeled data points (too many overlaps). Consider\n#&gt; increasing max.overlaps\n\n\n\n\n\n\n\n\n\n\n\n2.8.2 3æ¬¡å…ƒãƒ—ãƒ­ãƒƒãƒˆ\nrglã§ã¯ãªãplotlyã§è©¦ã—ã¦ã¿ãŸãŒã€ã¨ãã«è¦‹ã‚„ã™ã„ã¨ã„ã†ã“ã¨ã¯ãªã‹ã£ãŸã‹ã‚‚ã—ã‚Œãªã„ã€‚\n\n\nCode\ndat &lt;- MASS::sammon(1 - simil, k = 3) |&gt;\n  purrr::pluck(\"points\") |&gt;\n  as.data.frame() |&gt;\n  tibble::rownames_to_column(\"label\") |&gt;\n  dplyr::rename(Dim1 = V1, Dim2 = V2, Dim3 = V3) |&gt;\n  dplyr::mutate(term_freq = tf[label])\n#&gt; Initial stress        : 0.53925\n#&gt; stress after  10 iters: 0.18929, magic = 0.092\n#&gt; stress after  20 iters: 0.14417, magic = 0.043\n#&gt; stress after  21 iters: 0.13794\n\n\n\n\nCode\ndat |&gt;\n  plotly::plot_ly(x = ~Dim1, y = ~Dim2, z = ~Dim3, text = ~label, color = ~term_freq) |&gt;\n  plotly::add_markers(opacity = .5)",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æa.5.9",
    "href": "plot-words.html#éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æa.5.9",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.9 éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æï¼ˆA.5.9ï¼‰",
    "text": "2.9 éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æï¼ˆA.5.9ï¼‰\n\n2.9.1 éé¡ä¼¼åº¦ã®ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ğŸ³\nJaccardä¿‚æ•°ã‚’æŒ‡å®šã—ã¦éé¡ä¼¼åº¦ã®ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚’æãã¨ã€ãã‚‚ãã‚‚ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä½•ã‚‚è¦‹ãˆãªã‹ã£ãŸã€‚\n\n\nCode\ndat &lt;- dfm |&gt;\n  quanteda::dfm_trim(min_termfreq = 30, termfreq_type = \"rank\") |&gt;\n  quanteda::dfm_weight(scheme = \"boolean\") |&gt;\n  proxyC::simil(margin = 2, method = \"dice\") |&gt;\n  rlang::as_function(~ 1 - .)()\n\nfactoextra::fviz_dist(as.dist(dat))\n#&gt; Warning in vp$just: 'just' ã® 'justification' ã¸ã®éƒ¨åˆ†çš„ãƒãƒƒãƒ\n\n\n\n\n\n\n\n\n\n\n\n2.9.2 éšå±¤çš„ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°\n\n\nCode\nclusters &lt;-\n  as.dist(dat) |&gt;\n  hclust(method = \"ward.D2\")\n\n\n\n\n2.9.3 ã‚·ãƒ«ã‚¨ãƒƒãƒˆåˆ†æğŸ³\n\n\nCode\nfactoextra::fviz_nbclust(\n  as.matrix(dat),\n  FUNcluster = factoextra::hcut,\n  k.max = ceiling(sqrt(nrow(dat)))\n)\n\n\n\n\n\n\n\n\n\n\n\nCode\ncluster::silhouette(cutree(clusters, k = 4), dist = dat) |&gt;\n  factoextra::fviz_silhouette(print.summary = FALSE) +\n  theme_classic()\n#&gt; Warning in vp$just: 'just' ã® 'justification' ã¸ã®éƒ¨åˆ†çš„ãƒãƒƒãƒ\n\n\n\n\n\n\n\n\n\n\n\n2.9.4 ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ \nãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã«ã¤ã„ã¦ã¯ã€ä¼¼ãŸã‚ˆã†ãªè¡¨ç¾ã‚’æ‰‹è»½ã«å®Ÿç¾ã§ãã‚‹æ–¹æ³•ãŒè¦‹ã¤ã‘ã‚‰ã‚Œãªã„ã€‚ãƒ©ãƒ™ãƒ«ã®ä½ç½®ãŒå·¦å³åè»¢ã—ã¦ã„ã‚‹ãŒã€factoextra::fviz_dend(horiz = TRUE)ã¨ã™ã‚‹ã®ãŒç°¡å˜ã‹ã‚‚ã—ã‚Œãªã„ã€‚\n\n\nCode\nfactoextra::fviz_dend(clusters, h = 1.0, horiz = TRUE, labels_track_height = 0.3)\n#&gt; Warning in seq.default(15, 375, length = k + 1): 'length' ã® 'length.out'\n#&gt; ã¸ã®éƒ¨åˆ†çš„ãªå¼•æ•°ã®ãƒãƒƒãƒãƒ³ã‚°\n#&gt; Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use \"none\" instead as\n#&gt; of ggplot2 3.3.4.\n#&gt; â„¹ The deprecated feature was likely used in the factoextra package.\n#&gt;   Please report the issue at &lt;https://github.com/kassambara/factoextra/issues&gt;.\n\n\n\n\n\n\n\n\n\n\n\n2.9.5 ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã¨æ£’ã‚°ãƒ©ãƒ•\nKH Coderã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸæ„Ÿã˜ã€ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã¨ä¸€ç·’ã«èªã®å‡ºç¾å›æ•°ã‚’æã„ã¦ã„ã‚‹è¡¨ç¾ã¯ã€ã‚„ã‚„ç‹¬ç‰¹ãªã“ã¨ã‚’ã—ã¦ã„ã‚‹ã€‚ã‚€ã—ã‚èªã®å‡ºç¾å›æ•°ã®ã»ã†ãŒä¸»ãªæƒ…å ±ã«ãªã£ã¦ã‚ˆã„ãªã‚‰ã€ãµã¤ã†ã®æ£’ã‚°ãƒ©ãƒ•ã®æ¨ªã«ggh4x::scale_y_dendrogram()ã§ãƒ‡ãƒ³ãƒ‰ãƒ­ã‚°ãƒ©ãƒ ã‚’æãã“ã¨ãŒã§ãã‚‹ã€‚\n\n\nCode\ndfm |&gt;\n  quanteda::dfm_trim(min_termfreq = 30, termfreq_type = \"rank\") |&gt;\n  quanteda::colSums() |&gt;\n  tibble::enframe() |&gt;\n  dplyr::mutate(\n    clust = (clusters |&gt; cutree(h = 1.0))[name]\n  ) |&gt;\n  ggplot(aes(x = value, y = name, fill = factor(clust))) +\n  geom_bar(stat = \"identity\", show.legend = FALSE) +\n  scale_x_sqrt() +\n  ggh4x::scale_y_dendrogram(hclust = clusters) +\n  labs(x = \"å‡ºç¾å›æ•°\", y = element_blank()) +\n  theme_bw()\n#&gt; Warning: The S3 guide system was deprecated in ggplot2 3.5.0.\n#&gt; â„¹ It has been replaced by a ggproto system that can be extended.",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#å…±èµ·ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯-1",
    "href": "plot-words.html#å…±èµ·ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯-1",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.10 å…±èµ·ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯",
    "text": "2.10 å…±èµ·ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  },
  {
    "objectID": "plot-words.html#è‡ªå·±çµ„ç¹”åŒ–ãƒãƒƒãƒ—som",
    "href": "plot-words.html#è‡ªå·±çµ„ç¹”åŒ–ãƒãƒƒãƒ—som",
    "title": "2Â  æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    "section": "2.11 è‡ªå·±çµ„ç¹”åŒ–ãƒãƒƒãƒ—ï¼ˆSOMï¼‰",
    "text": "2.11 è‡ªå·±çµ„ç¹”åŒ–ãƒãƒƒãƒ—ï¼ˆSOMï¼‰\n\n\n\nCode\nduckdb::dbDisconnect(con)\nduckdb::duckdb_shutdown(drv)\n\nsessioninfo::session_info(info = \"packages\")\n#&gt; â• Session info â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n#&gt; â”€ Packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n#&gt;  package            * version    date (UTC) lib source\n#&gt;  abind                1.4-5      2016-07-21 [1] RSPM (R 4.3.0)\n#&gt;  arules             * 1.7-7      2023-11-29 [1] RSPM (R 4.3.0)\n#&gt;  arulesViz          * 1.5-2      2023-03-07 [1] RSPM (R 4.3.0)\n#&gt;  audubon              0.5.1.9001 2023-09-03 [1] https://paithiov909.r-universe.dev (R 4.3.1)\n#&gt;  backports            1.4.1      2021-12-13 [1] CRAN (R 4.3.0)\n#&gt;  blob                 1.2.4      2023-03-17 [1] RSPM (R 4.3.0)\n#&gt;  broom                1.0.5      2023-06-09 [1] RSPM (R 4.3.0)\n#&gt;  ca                 * 0.71.1     2020-01-24 [1] RSPM (R 4.3.0)\n#&gt;  cachem               1.0.8      2023-05-01 [1] CRAN (R 4.3.0)\n#&gt;  car                  3.1-2      2023-03-30 [1] RSPM (R 4.3.0)\n#&gt;  carData              3.0-5      2022-01-06 [1] RSPM (R 4.3.0)\n#&gt;  cellranger           1.1.0      2016-07-27 [1] RSPM (R 4.3.0)\n#&gt;  cli                  3.6.2      2023-12-11 [1] RSPM (R 4.3.0)\n#&gt;  cluster              2.1.6      2023-12-01 [4] CRAN (R 4.3.2)\n#&gt;  codetools            0.2-19     2023-02-01 [4] CRAN (R 4.2.2)\n#&gt;  colorspace           2.1-0      2023-01-23 [1] RSPM (R 4.3.0)\n#&gt;  crosstalk            1.2.1      2023-11-23 [1] RSPM (R 4.3.0)\n#&gt;  curl                 5.2.0      2023-12-08 [1] CRAN (R 4.3.2)\n#&gt;  data.table           1.15.0     2024-01-30 [1] CRAN (R 4.3.2)\n#&gt;  DBI                * 1.2.2      2024-02-16 [1] CRAN (R 4.3.2)\n#&gt;  dbplyr               2.4.0      2023-10-26 [1] RSPM (R 4.3.0)\n#&gt;  dendextend           1.17.1     2023-03-25 [1] RSPM (R 4.3.0)\n#&gt;  digest               0.6.34     2024-01-11 [1] CRAN (R 4.3.2)\n#&gt;  dplyr                1.1.4      2023-11-17 [1] CRAN (R 4.3.2)\n#&gt;  duckdb             * 0.9.2-1    2023-11-28 [1] RSPM (R 4.3.2)\n#&gt;  ellipsis             0.3.2      2021-04-29 [1] CRAN (R 4.3.0)\n#&gt;  evaluate             0.23       2023-11-01 [1] CRAN (R 4.3.1)\n#&gt;  factoextra           1.0.7      2020-04-01 [1] RSPM (R 4.3.2)\n#&gt;  fansi                1.0.6      2023-12-08 [1] CRAN (R 4.3.2)\n#&gt;  farver               2.1.1      2022-07-06 [1] RSPM (R 4.3.0)\n#&gt;  fastmap              1.1.1      2023-02-24 [1] CRAN (R 4.3.0)\n#&gt;  fastmatch            1.1-4      2023-08-18 [1] RSPM (R 4.3.0)\n#&gt;  foreach              1.5.2      2022-02-02 [1] RSPM (R 4.3.0)\n#&gt;  generics             0.1.3      2022-07-05 [1] CRAN (R 4.3.0)\n#&gt;  ggdendro             0.2.0      2024-02-23 [1] CRAN (R 4.3.2)\n#&gt;  ggforce              0.4.2      2024-02-19 [1] RSPM (R 4.3.0)\n#&gt;  ggh4x                0.2.8      2024-01-23 [1] RSPM (R 4.3.0)\n#&gt;  gghighlight          0.4.1      2023-12-16 [1] CRAN (R 4.3.2)\n#&gt;  ggplot2            * 3.5.0      2024-02-23 [1] CRAN (R 4.3.2)\n#&gt;  ggpubr               0.6.0      2023-02-10 [1] RSPM (R 4.3.0)\n#&gt;  ggraph               2.1.0      2022-10-09 [1] RSPM (R 4.3.0)\n#&gt;  ggrepel              0.9.5      2024-01-10 [1] CRAN (R 4.3.2)\n#&gt;  ggsignif             0.6.4      2022-10-13 [1] RSPM (R 4.3.0)\n#&gt;  gibasa               1.1.0      2024-02-17 [1] https://paithiov909.r-universe.dev (R 4.3.2)\n#&gt;  glue                 1.7.0      2024-01-09 [1] CRAN (R 4.3.2)\n#&gt;  graphlayouts         1.1.0      2024-01-19 [1] RSPM (R 4.3.0)\n#&gt;  gridExtra            2.3        2017-09-09 [1] RSPM (R 4.3.0)\n#&gt;  gtable               0.3.4      2023-08-21 [1] CRAN (R 4.3.1)\n#&gt;  htmltools            0.5.7      2023-11-03 [1] RSPM (R 4.3.0)\n#&gt;  htmlwidgets          1.6.4      2023-12-06 [1] RSPM (R 4.3.0)\n#&gt;  httpgd               1.3.1      2023-01-30 [1] CRAN (R 4.3.0)\n#&gt;  httr                 1.4.7      2023-08-15 [1] RSPM (R 4.3.0)\n#&gt;  igraph               2.0.2      2024-02-17 [1] RSPM (R 4.3.0)\n#&gt;  iterators            1.0.14     2022-02-05 [1] RSPM (R 4.3.0)\n#&gt;  janeaustenr          1.0.0      2022-08-26 [1] RSPM (R 4.3.0)\n#&gt;  jsonlite             1.8.8      2023-12-04 [1] CRAN (R 4.3.2)\n#&gt;  knitr                1.45       2023-10-30 [1] CRAN (R 4.3.1)\n#&gt;  labeling             0.4.3      2023-08-29 [1] RSPM (R 4.3.0)\n#&gt;  later                1.3.2      2023-12-06 [1] RSPM (R 4.3.0)\n#&gt;  lattice              0.22-5     2023-10-24 [4] CRAN (R 4.3.1)\n#&gt;  lazyeval             0.2.2      2019-03-15 [1] CRAN (R 4.3.0)\n#&gt;  lifecycle            1.0.4      2023-11-07 [1] RSPM (R 4.3.0)\n#&gt;  magrittr             2.0.3      2022-03-30 [1] CRAN (R 4.3.0)\n#&gt;  MASS                 7.3-60     2023-05-04 [4] CRAN (R 4.3.1)\n#&gt;  Matrix             * 1.6-3      2023-11-14 [4] CRAN (R 4.3.2)\n#&gt;  memoise              2.0.1      2021-11-26 [1] CRAN (R 4.3.0)\n#&gt;  munsell              0.5.0      2018-06-12 [1] RSPM (R 4.3.0)\n#&gt;  nsyllable            1.0.1      2022-02-28 [1] RSPM (R 4.3.0)\n#&gt;  pillar               1.9.0      2023-03-22 [1] CRAN (R 4.3.0)\n#&gt;  pkgconfig            2.0.3      2019-09-22 [1] CRAN (R 4.3.0)\n#&gt;  plotly               4.10.4     2024-01-13 [1] RSPM (R 4.3.0)\n#&gt;  plyr                 1.8.9      2023-10-02 [1] RSPM (R 4.3.0)\n#&gt;  polyclip             1.10-6     2023-09-27 [1] RSPM (R 4.3.0)\n#&gt;  proxyC               0.3.4      2023-10-25 [1] RSPM (R 4.3.0)\n#&gt;  purrr                1.0.2      2023-08-10 [1] RSPM (R 4.3.0)\n#&gt;  quanteda             3.3.1      2023-05-18 [1] RSPM (R 4.3.0)\n#&gt;  quanteda.textstats   0.96.4     2023-11-02 [1] CRAN (R 4.3.1)\n#&gt;  R.cache              0.16.0     2022-07-21 [1] CRAN (R 4.3.0)\n#&gt;  R.methodsS3          1.8.2      2022-06-13 [1] CRAN (R 4.3.0)\n#&gt;  R.oo                 1.26.0     2024-01-24 [1] RSPM (R 4.3.0)\n#&gt;  R.utils              2.12.3     2023-11-18 [1] CRAN (R 4.3.2)\n#&gt;  R6                   2.5.1      2021-08-19 [1] CRAN (R 4.3.0)\n#&gt;  Rcpp                 1.0.12     2024-01-09 [1] RSPM (R 4.3.0)\n#&gt;  RcppParallel         5.1.7      2023-02-27 [1] CRAN (R 4.3.0)\n#&gt;  reactable            0.4.4      2023-03-12 [1] RSPM (R 4.3.0)\n#&gt;  reactablefmtr        2.0.0      2022-03-16 [1] RSPM (R 4.3.2)\n#&gt;  reactR               0.5.0      2023-10-11 [1] RSPM (R 4.3.0)\n#&gt;  readxl               1.4.3      2023-07-06 [1] RSPM (R 4.3.0)\n#&gt;  registry             0.5-1      2019-03-05 [1] RSPM (R 4.3.0)\n#&gt;  reshape2             1.4.4      2020-04-09 [1] RSPM (R 4.3.0)\n#&gt;  rlang                1.1.3      2024-01-10 [1] CRAN (R 4.3.2)\n#&gt;  rmarkdown            2.25       2023-09-18 [1] RSPM (R 4.3.0)\n#&gt;  rstatix              0.7.2      2023-02-01 [1] RSPM (R 4.3.0)\n#&gt;  sass                 0.4.8      2023-12-06 [1] RSPM (R 4.3.0)\n#&gt;  scales               1.3.0      2023-11-28 [1] RSPM (R 4.3.0)\n#&gt;  seriation            1.5.4      2023-12-12 [1] RSPM (R 4.3.0)\n#&gt;  sessioninfo          1.2.2      2021-12-06 [1] RSPM (R 4.3.0)\n#&gt;  SnowballC            0.7.1      2023-04-25 [1] RSPM (R 4.3.0)\n#&gt;  stopwords            2.3        2021-10-28 [1] RSPM (R 4.3.0)\n#&gt;  stringi              1.8.3      2024-01-28 [1] https://gagolews.r-universe.dev (R 4.3.2)\n#&gt;  stringr              1.5.1      2023-11-14 [1] RSPM (R 4.3.0)\n#&gt;  styler               1.10.2     2023-08-29 [1] RSPM (R 4.3.0)\n#&gt;  systemfonts          1.0.5      2023-10-09 [1] RSPM (R 4.3.0)\n#&gt;  tibble               3.2.1      2023-03-20 [1] CRAN (R 4.3.0)\n#&gt;  tidygraph            1.3.1      2024-01-30 [1] RSPM (R 4.3.0)\n#&gt;  tidyr                1.3.1      2024-01-24 [1] RSPM (R 4.3.0)\n#&gt;  tidyselect           1.2.0      2022-10-10 [1] CRAN (R 4.3.0)\n#&gt;  tidytext             0.4.1      2023-01-07 [1] RSPM (R 4.3.0)\n#&gt;  tokenizers           0.3.0      2022-12-22 [1] RSPM (R 4.3.0)\n#&gt;  TSP                  1.2-4      2023-04-04 [1] RSPM (R 4.3.0)\n#&gt;  tweenr               2.0.3      2024-02-26 [1] CRAN (R 4.3.2)\n#&gt;  utf8                 1.2.4      2023-10-22 [1] RSPM (R 4.3.0)\n#&gt;  V8                   4.4.2      2024-02-15 [1] CRAN (R 4.3.2)\n#&gt;  vctrs                0.6.5      2023-12-01 [1] CRAN (R 4.3.2)\n#&gt;  viridis              0.6.5      2024-01-29 [1] RSPM (R 4.3.0)\n#&gt;  viridisLite          0.4.2      2023-05-02 [1] RSPM (R 4.3.0)\n#&gt;  visNetwork           2.1.2      2022-09-29 [1] RSPM (R 4.3.0)\n#&gt;  withr                3.0.0      2024-01-16 [1] RSPM (R 4.3.0)\n#&gt;  xfun                 0.42       2024-02-08 [1] CRAN (R 4.3.2)\n#&gt;  yaml                 2.3.8      2023-12-11 [1] RSPM (R 4.3.0)\n#&gt; \n#&gt;  [1] /home/paithiov909/R/x86_64-pc-linux-gnu-library/4.3\n#&gt;  [2] /usr/local/lib/R/site-library\n#&gt;  [3] /usr/lib/R/site-library\n#&gt;  [4] /usr/lib/R/library\n#&gt; \n#&gt; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>æŠ½å‡ºèªãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>"
    ]
  }
]